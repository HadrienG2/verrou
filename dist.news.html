<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>2.&nbsp;NEWS</title>
<link rel="stylesheet" type="text/css" href="vg_basic.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="Valgrind Documentation">
<link rel="up" href="dist.html" title="Valgrind Distribution Documents">
<link rel="prev" href="dist.authors.html" title="1.&nbsp;AUTHORS">
<link rel="next" href="dist.news.old.html" title="3.&nbsp;OLDER NEWS">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div><table class="nav" width="100%" cellspacing="3" cellpadding="3" border="0" summary="Navigation header"><tr>
<td width="22px" align="center" valign="middle"><a accesskey="p" href="dist.authors.html"><img src="images/prev.png" width="18" height="21" border="0" alt="Prev"></a></td>
<td width="25px" align="center" valign="middle"><a accesskey="u" href="dist.html"><img src="images/up.png" width="21" height="18" border="0" alt="Up"></a></td>
<td width="31px" align="center" valign="middle"><a accesskey="h" href="index.html"><img src="images/home.png" width="27" height="20" border="0" alt="Up"></a></td>
<th align="center" valign="middle">Valgrind Distribution Documents</th>
<td width="22px" align="center" valign="middle"><a accesskey="n" href="dist.news.old.html"><img src="images/next.png" width="18" height="21" border="0" alt="Next"></a></td>
</tr></table></div>
<div class="chapter">
<div class="titlepage"><div><div><h1 class="title">
<a name="dist.news"></a>2.&nbsp;NEWS</h1></div></div></div>
<div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
Release&nbsp;3.10.1&nbsp;(25&nbsp;November&nbsp;2014)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.10.1&nbsp;is&nbsp;a&nbsp;bug&nbsp;fix&nbsp;release.&nbsp;&nbsp;It&nbsp;fixes&nbsp;various&nbsp;bugs&nbsp;reported&nbsp;in&nbsp;3.10.0<br>
and&nbsp;backports&nbsp;fixes&nbsp;for&nbsp;all&nbsp;reported&nbsp;missing&nbsp;AArch64&nbsp;ARMv8&nbsp;instructions<br>
and&nbsp;syscalls&nbsp;from&nbsp;the&nbsp;trunk.&nbsp;&nbsp;If&nbsp;you&nbsp;package&nbsp;or&nbsp;deliver&nbsp;3.10.0&nbsp;for&nbsp;others<br>
to&nbsp;use,&nbsp;you&nbsp;might&nbsp;want&nbsp;to&nbsp;consider&nbsp;upgrading&nbsp;to&nbsp;3.10.1&nbsp;instead.<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed&nbsp;or&nbsp;resolved.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"<br>
stands&nbsp;for&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us<br>
but&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
bugzilla&nbsp;(https://bugs.kde.org/enter_bug.cgi?product=valgrind)&nbsp;rather<br>
than&nbsp;mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that<br>
are&nbsp;not&nbsp;entered&nbsp;into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
To&nbsp;see&nbsp;details&nbsp;of&nbsp;a&nbsp;given&nbsp;bug,&nbsp;visit<br>
&nbsp;&nbsp;https://bugs.kde.org/show_bug.cgi?id=XXXXXX<br>
where&nbsp;XXXXXX&nbsp;is&nbsp;the&nbsp;bug&nbsp;number&nbsp;as&nbsp;listed&nbsp;below.<br>
<br>
335440&nbsp;&nbsp;arm64:&nbsp;ld1&nbsp;(single&nbsp;structure)&nbsp;is&nbsp;not&nbsp;implemented<br>
335713&nbsp;&nbsp;arm64:&nbsp;unhanded&nbsp;instruction:&nbsp;prfm&nbsp;(immediate)<br>
339020&nbsp;&nbsp;ppc64:&nbsp;memcheck/tests/ppc64/power_ISA2_05&nbsp;failing&nbsp;in&nbsp;nightly&nbsp;build<br>
339182&nbsp;&nbsp;ppc64:&nbsp;AvSplat&nbsp;ought&nbsp;to&nbsp;load&nbsp;destination&nbsp;vector&nbsp;register&nbsp;with&nbsp;[..]<br>
339336&nbsp;&nbsp;PPC64&nbsp;store&nbsp;quad&nbsp;instruction&nbsp;(stq)&nbsp;is&nbsp;not&nbsp;supposed&nbsp;to&nbsp;change&nbsp;[..]<br>
339433&nbsp;&nbsp;ppc64&nbsp;lxvw4x&nbsp;instruction&nbsp;uses&nbsp;four&nbsp;32-byte&nbsp;loads<br>
339645&nbsp;&nbsp;Use&nbsp;correct&nbsp;tag&nbsp;names&nbsp;in&nbsp;sys_getdents/64&nbsp;wrappers<br>
339706&nbsp;&nbsp;Fix&nbsp;false&nbsp;positive&nbsp;for&nbsp;ioctl(TIOCSIG)&nbsp;on&nbsp;linux<br>
339721&nbsp;&nbsp;assertion&nbsp;'check_sibling&nbsp;==&nbsp;sibling'&nbsp;failed&nbsp;in&nbsp;readdwarf3.c&nbsp;...<br>
339853&nbsp;&nbsp;arm64&nbsp;times&nbsp;syscall&nbsp;unknown<br>
339855&nbsp;&nbsp;arm64&nbsp;unhandled&nbsp;getsid/setsid&nbsp;syscalls<br>
339858&nbsp;&nbsp;arm64&nbsp;dmb&nbsp;sy&nbsp;not&nbsp;implemented<br>
339926&nbsp;&nbsp;Unhandled&nbsp;instruction&nbsp;0x1E674001&nbsp;(frintx)&nbsp;on&nbsp;aarm64<br>
339927&nbsp;&nbsp;Unhandled&nbsp;instruction&nbsp;0x9E7100C6&nbsp;(fcvtmu)&nbsp;on&nbsp;aarch64<br>
339938&nbsp;&nbsp;disInstr(arm64):&nbsp;unhandled&nbsp;instruction&nbsp;0x4F8010A4&nbsp;(fmla)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&nbsp;339950<br>
339940&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;syscall:&nbsp;83&nbsp;(sys_fdatasync)&nbsp;+&nbsp;patch<br>
340033&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;insn&nbsp;dmb&nbsp;ishld&nbsp;and&nbsp;some&nbsp;other&nbsp;isb-dmb-dsb&nbsp;variants<br>
340028&nbsp;&nbsp;unhandled&nbsp;syscalls&nbsp;for&nbsp;arm64&nbsp;(msync,&nbsp;pread64,&nbsp;setreuid&nbsp;and&nbsp;setregid)<br>
340036&nbsp;&nbsp;arm64:&nbsp;Unhandled&nbsp;instruction&nbsp;ld4&nbsp;(multiple&nbsp;structures,&nbsp;no&nbsp;offset)<br>
340236&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;syscalls:&nbsp;mknodat,&nbsp;fchdir,&nbsp;chroot,&nbsp;fchownat<br>
340509&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction&nbsp;fcvtas<br>
340630&nbsp;&nbsp;arm64:&nbsp;fchmod&nbsp;(52)&nbsp;and&nbsp;fchown&nbsp;(55)&nbsp;syscalls&nbsp;not&nbsp;recognized<br>
340632&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction&nbsp;fcvtas<br>
340725&nbsp;&nbsp;AVX2:&nbsp;Incorrect&nbsp;decoding&nbsp;of&nbsp;vpbroadcast{b,w}&nbsp;reg,reg&nbsp;forms<br>
340788&nbsp;&nbsp;warning:&nbsp;unhandled&nbsp;syscall:&nbsp;318&nbsp;(getrandom)<br>
340807&nbsp;&nbsp;disInstr(arm):&nbsp;unhandled&nbsp;instruction:&nbsp;0xEE989B20<br>
340856&nbsp;&nbsp;disInstr(arm64):&nbsp;unhandled&nbsp;instruction&nbsp;0x1E634C45&nbsp;(fcsel)<br>
340922&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;getgroups/setgroups&nbsp;syscalls<br>
n-i-bz&nbsp;&nbsp;DRD&nbsp;and&nbsp;Helgrind:&nbsp;Handle&nbsp;Imbe_CancelReservation&nbsp;(clrex&nbsp;on&nbsp;ARM)<br>
n-i-bz&nbsp;&nbsp;Add&nbsp;missing&nbsp;]]&nbsp;to&nbsp;terminate&nbsp;CDATA.<br>
n-i-bz&nbsp;&nbsp;Glibc&nbsp;versions&nbsp;prior&nbsp;to&nbsp;2.5&nbsp;do&nbsp;not&nbsp;define&nbsp;PTRACE_GETSIGINFO<br>
n-i-bz&nbsp;&nbsp;Enable&nbsp;sys_fadvise64_64&nbsp;on&nbsp;arm32.<br>
n-i-bz&nbsp;&nbsp;Add&nbsp;test&nbsp;cases&nbsp;for&nbsp;all&nbsp;remaining&nbsp;AArch64&nbsp;SIMD,&nbsp;FP&nbsp;and&nbsp;memory&nbsp;insns.<br>
n-i-bz&nbsp;&nbsp;Add&nbsp;test&nbsp;cases&nbsp;for&nbsp;all&nbsp;known&nbsp;arm64&nbsp;load/store&nbsp;instructions.<br>
n-i-bz&nbsp;&nbsp;PRE(sys_openat):&nbsp;when&nbsp;checking&nbsp;whether&nbsp;ARG1&nbsp;==&nbsp;VKI_AT_FDCWD&nbsp;[..]<br>
n-i-bz&nbsp;&nbsp;Add&nbsp;detection&nbsp;of&nbsp;old&nbsp;ppc32&nbsp;magic&nbsp;instructions&nbsp;from&nbsp;bug&nbsp;278808.<br>
n-i-bz&nbsp;&nbsp;exp-dhat:&nbsp;Implement&nbsp;missing&nbsp;function&nbsp;"dh_malloc_usable_size".<br>
n-i-bz&nbsp;&nbsp;arm64:&nbsp;Implement&nbsp;"fcvtpu&nbsp;w,&nbsp;s".<br>
n-i-bz&nbsp;&nbsp;arm64:&nbsp;implement&nbsp;ADDP&nbsp;and&nbsp;various&nbsp;others<br>
n-i-bz&nbsp;&nbsp;arm64:&nbsp;Implement&nbsp;{S,U}CVTF&nbsp;(scalar,&nbsp;fixedpt).<br>
n-i-bz&nbsp;&nbsp;arm64:&nbsp;enable&nbsp;FCVT{A,N}S&nbsp;X,S.<br>
<br>
(3.10.1:&nbsp;25&nbsp;November&nbsp;2014,&nbsp;vex&nbsp;r3026,&nbsp;valgrind&nbsp;r14785)<br>
<br>
<br>
<br>
Release&nbsp;3.10.0&nbsp;(10&nbsp;September&nbsp;2014)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
<br>
3.10.0&nbsp;is&nbsp;a&nbsp;feature&nbsp;release&nbsp;with&nbsp;many&nbsp;improvements&nbsp;and&nbsp;the&nbsp;usual<br>
collection&nbsp;of&nbsp;bug&nbsp;fixes.<br>
<br>
This&nbsp;release&nbsp;supports&nbsp;X86/Linux,&nbsp;AMD64/Linux,&nbsp;ARM32/Linux,&nbsp;ARM64/Linux,<br>
PPC32/Linux,&nbsp;PPC64BE/Linux,&nbsp;PPC64LE/Linux,&nbsp;S390X/Linux,&nbsp;MIPS32/Linux,<br>
MIPS64/Linux,&nbsp;ARM/Android,&nbsp;MIPS32/Android,&nbsp;X86/Android,&nbsp;X86/MacOSX&nbsp;10.9<br>
and&nbsp;AMD64/MacOSX&nbsp;10.9.&nbsp;&nbsp;Support&nbsp;for&nbsp;MacOSX&nbsp;10.8&nbsp;and&nbsp;10.9&nbsp;is<br>
significantly&nbsp;improved&nbsp;relative&nbsp;to&nbsp;the&nbsp;3.9.0&nbsp;release.<br>
<br>
*&nbsp;==================&nbsp;PLATFORM&nbsp;CHANGES&nbsp;=================<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;the&nbsp;64-bit&nbsp;ARM&nbsp;Architecture&nbsp;(AArch64&nbsp;ARMv8).&nbsp;&nbsp;This&nbsp;port<br>
&nbsp;&nbsp;is&nbsp;mostly&nbsp;complete,&nbsp;and&nbsp;is&nbsp;usable,&nbsp;but&nbsp;some&nbsp;SIMD&nbsp;instructions&nbsp;are&nbsp;as<br>
&nbsp;&nbsp;yet&nbsp;unsupported.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;little-endian&nbsp;variant&nbsp;of&nbsp;the&nbsp;64-bit&nbsp;POWER&nbsp;architecture.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;Android&nbsp;on&nbsp;MIPS32.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;64bit&nbsp;FPU&nbsp;on&nbsp;MIPS32&nbsp;platforms.<br>
<br>
*&nbsp;Both&nbsp;32-&nbsp;and&nbsp;64-bit&nbsp;executables&nbsp;are&nbsp;supported&nbsp;on&nbsp;MacOSX&nbsp;10.8&nbsp;and&nbsp;10.9.<br>
<br>
*&nbsp;Configuration&nbsp;for&nbsp;and&nbsp;running&nbsp;on&nbsp;Android&nbsp;targets&nbsp;has&nbsp;changed.<br>
&nbsp;&nbsp;See&nbsp;README.android&nbsp;in&nbsp;the&nbsp;source&nbsp;tree&nbsp;for&nbsp;details.<br>
<br>
*&nbsp;==================&nbsp;DEPRECATED&nbsp;FEATURES&nbsp;=================<br>
<br>
*&nbsp;--db-attach&nbsp;is&nbsp;now&nbsp;deprecated&nbsp;and&nbsp;will&nbsp;be&nbsp;removed&nbsp;in&nbsp;the&nbsp;next<br>
&nbsp;&nbsp;valgrind&nbsp;feature&nbsp;release.&nbsp;&nbsp;The&nbsp;built-in&nbsp;GDB&nbsp;server&nbsp;capabilities&nbsp;are<br>
&nbsp;&nbsp;superior&nbsp;and&nbsp;should&nbsp;be&nbsp;used&nbsp;instead.&nbsp;Learn&nbsp;more&nbsp;here:<br>
&nbsp;&nbsp;http://valgrind.org/docs/manual/manual-core-adv.html#manual-core-adv.gdbserver<br>
<br>
*&nbsp;====================&nbsp;TOOL&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;Memcheck:<br>
<br>
&nbsp;&nbsp;-&nbsp;Client&nbsp;code&nbsp;can&nbsp;now&nbsp;selectively&nbsp;disable&nbsp;and&nbsp;re-enable&nbsp;reporting&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;invalid&nbsp;address&nbsp;errors&nbsp;in&nbsp;specific&nbsp;ranges&nbsp;using&nbsp;the&nbsp;new&nbsp;client<br>
&nbsp;&nbsp;&nbsp;&nbsp;requests&nbsp;VALGRIND_DISABLE_ADDR_ERROR_REPORTING_IN_RANGE&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;VALGRIND_ENABLE_ADDR_ERROR_REPORTING_IN_RANGE.<br>
<br>
&nbsp;&nbsp;-&nbsp;Leak&nbsp;checker:&nbsp;there&nbsp;is&nbsp;a&nbsp;new&nbsp;leak&nbsp;check&nbsp;heuristic&nbsp;called<br>
&nbsp;&nbsp;&nbsp;&nbsp;"length64".&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;to&nbsp;detect&nbsp;interior&nbsp;pointers&nbsp;pointing&nbsp;8<br>
&nbsp;&nbsp;&nbsp;&nbsp;bytes&nbsp;inside&nbsp;a&nbsp;block,&nbsp;on&nbsp;the&nbsp;assumption&nbsp;that&nbsp;the&nbsp;first&nbsp;8&nbsp;bytes<br>
&nbsp;&nbsp;&nbsp;&nbsp;holds&nbsp;the&nbsp;value&nbsp;"block&nbsp;size&nbsp;-&nbsp;8".&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by<br>
&nbsp;&nbsp;&nbsp;&nbsp;sqlite3MemMalloc,&nbsp;for&nbsp;example.<br>
<br>
&nbsp;&nbsp;-&nbsp;Checking&nbsp;of&nbsp;system&nbsp;call&nbsp;parameters:&nbsp;if&nbsp;a&nbsp;syscall&nbsp;parameter<br>
&nbsp;&nbsp;&nbsp;&nbsp;(e.g.&nbsp;bind&nbsp;struct&nbsp;sockaddr,&nbsp;sendmsg&nbsp;struct&nbsp;msghdr,&nbsp;...)&nbsp;has<br>
&nbsp;&nbsp;&nbsp;&nbsp;several&nbsp;fields&nbsp;not&nbsp;initialised,&nbsp;an&nbsp;error&nbsp;is&nbsp;now&nbsp;reported&nbsp;for&nbsp;each<br>
&nbsp;&nbsp;&nbsp;&nbsp;field.&nbsp;Previously,&nbsp;an&nbsp;error&nbsp;was&nbsp;reported&nbsp;only&nbsp;for&nbsp;the&nbsp;first<br>
&nbsp;&nbsp;&nbsp;&nbsp;uninitialised&nbsp;field.<br>
<br>
&nbsp;&nbsp;-&nbsp;Mismatched&nbsp;alloc/free&nbsp;checking:&nbsp;a&nbsp;new&nbsp;flag<br>
&nbsp;&nbsp;&nbsp;&nbsp;--show-mismatched-frees=no|yes&nbsp;[yes]&nbsp;makes&nbsp;it&nbsp;possible&nbsp;to&nbsp;turn&nbsp;off<br>
&nbsp;&nbsp;&nbsp;&nbsp;such&nbsp;checks&nbsp;if&nbsp;necessary.<br>
<br>
*&nbsp;Helgrind:<br>
<br>
&nbsp;&nbsp;-&nbsp;Improvements&nbsp;to&nbsp;error&nbsp;messages:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;Race&nbsp;condition&nbsp;error&nbsp;message&nbsp;involving&nbsp;heap&nbsp;allocated&nbsp;blocks&nbsp;also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;show&nbsp;the&nbsp;thread&nbsp;number&nbsp;that&nbsp;allocated&nbsp;the&nbsp;raced-on&nbsp;block.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;All&nbsp;locks&nbsp;referenced&nbsp;by&nbsp;an&nbsp;error&nbsp;message&nbsp;are&nbsp;now&nbsp;announced.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Previously,&nbsp;some&nbsp;error&nbsp;messages&nbsp;only&nbsp;showed&nbsp;the&nbsp;lock&nbsp;addresses.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;The&nbsp;message&nbsp;indicating&nbsp;where&nbsp;a&nbsp;lock&nbsp;was&nbsp;first&nbsp;observed&nbsp;now&nbsp;also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describes&nbsp;the&nbsp;address/location&nbsp;of&nbsp;the&nbsp;lock.<br>
<br>
&nbsp;&nbsp;-&nbsp;Helgrind&nbsp;now&nbsp;understands&nbsp;the&nbsp;Ada&nbsp;task&nbsp;termination&nbsp;rules&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;creates&nbsp;a&nbsp;happens-before&nbsp;relationship&nbsp;between&nbsp;a&nbsp;terminated&nbsp;task<br>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;its&nbsp;master.&nbsp;&nbsp;This&nbsp;avoids&nbsp;some&nbsp;false&nbsp;positives&nbsp;and&nbsp;avoids&nbsp;a&nbsp;big<br>
&nbsp;&nbsp;&nbsp;&nbsp;memory&nbsp;leak&nbsp;when&nbsp;a&nbsp;lot&nbsp;of&nbsp;Ada&nbsp;tasks&nbsp;are&nbsp;created&nbsp;and&nbsp;terminated.<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;interceptions&nbsp;are&nbsp;only&nbsp;activated&nbsp;with&nbsp;forthcoming&nbsp;releases&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;gnatpro&nbsp;&gt;=&nbsp;7.3.0w-20140611&nbsp;and&nbsp;gcc&nbsp;&gt;=&nbsp;5.0.<br>
<br>
&nbsp;&nbsp;-&nbsp;A&nbsp;new&nbsp;GDB&nbsp;server&nbsp;monitor&nbsp;command&nbsp;"info&nbsp;locks"&nbsp;giving&nbsp;the&nbsp;list&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;locks,&nbsp;their&nbsp;location,&nbsp;and&nbsp;their&nbsp;status.<br>
<br>
*&nbsp;Callgrind:<br>
<br>
&nbsp;&nbsp;-&nbsp;callgrind_control&nbsp;now&nbsp;supports&nbsp;the&nbsp;--vgdb-prefix&nbsp;argument,<br>
&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;is&nbsp;needed&nbsp;if&nbsp;valgrind&nbsp;was&nbsp;started&nbsp;with&nbsp;this&nbsp;same&nbsp;argument.<br>
<br>
*&nbsp;====================&nbsp;OTHER&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;Unwinding&nbsp;through&nbsp;inlined&nbsp;function&nbsp;calls.&nbsp;&nbsp;Stack&nbsp;unwinding&nbsp;can&nbsp;now<br>
&nbsp;&nbsp;make&nbsp;use&nbsp;of&nbsp;Dwarf3&nbsp;inlined-unwind&nbsp;information&nbsp;if&nbsp;it&nbsp;is&nbsp;available.<br>
&nbsp;&nbsp;The&nbsp;practical&nbsp;effect&nbsp;is&nbsp;that&nbsp;inlined&nbsp;calls&nbsp;become&nbsp;visible&nbsp;in&nbsp;stack<br>
&nbsp;&nbsp;traces.&nbsp;&nbsp;The&nbsp;suppression&nbsp;matching&nbsp;machinery&nbsp;has&nbsp;been&nbsp;adjusted<br>
&nbsp;&nbsp;accordingly.&nbsp;&nbsp;This&nbsp;is&nbsp;controlled&nbsp;by&nbsp;the&nbsp;new&nbsp;option<br>
&nbsp;&nbsp;--read-inline-info=yes|no.&nbsp;&nbsp;Currently&nbsp;this&nbsp;is&nbsp;enabled&nbsp;by&nbsp;default<br>
&nbsp;&nbsp;only&nbsp;on&nbsp;Linux&nbsp;and&nbsp;Android&nbsp;targets&nbsp;and&nbsp;only&nbsp;for&nbsp;the&nbsp;tools&nbsp;Memcheck,<br>
&nbsp;&nbsp;Helgrind&nbsp;and&nbsp;DRD.<br>
<br>
*&nbsp;Valgrind&nbsp;can&nbsp;now&nbsp;read&nbsp;EXIDX&nbsp;unwind&nbsp;information&nbsp;on&nbsp;32-bit&nbsp;ARM<br>
&nbsp;&nbsp;targets.&nbsp;&nbsp;If&nbsp;an&nbsp;object&nbsp;contains&nbsp;both&nbsp;CFI&nbsp;and&nbsp;EXIDX&nbsp;unwind<br>
&nbsp;&nbsp;information,&nbsp;Valgrind&nbsp;will&nbsp;prefer&nbsp;the&nbsp;CFI&nbsp;over&nbsp;the&nbsp;EXIDX.&nbsp;&nbsp;This<br>
&nbsp;&nbsp;facilitates&nbsp;unwinding&nbsp;through&nbsp;system&nbsp;libraries&nbsp;on&nbsp;arm-android<br>
&nbsp;&nbsp;targets.<br>
<br>
*&nbsp;Address&nbsp;description&nbsp;logic&nbsp;has&nbsp;been&nbsp;improved&nbsp;and&nbsp;is&nbsp;now&nbsp;common<br>
&nbsp;&nbsp;between&nbsp;Memcheck&nbsp;and&nbsp;Helgrind,&nbsp;resulting&nbsp;in&nbsp;better&nbsp;address<br>
&nbsp;&nbsp;descriptions&nbsp;for&nbsp;some&nbsp;kinds&nbsp;of&nbsp;error&nbsp;messages.<br>
<br>
*&nbsp;Error&nbsp;messages&nbsp;about&nbsp;dubious&nbsp;arguments&nbsp;(eg,&nbsp;to&nbsp;malloc&nbsp;or&nbsp;calloc)&nbsp;are<br>
&nbsp;&nbsp;output&nbsp;like&nbsp;other&nbsp;errors.&nbsp;&nbsp;This&nbsp;means&nbsp;that&nbsp;they&nbsp;can&nbsp;be&nbsp;suppressed<br>
&nbsp;&nbsp;and&nbsp;they&nbsp;have&nbsp;a&nbsp;stack&nbsp;trace.<br>
<br>
*&nbsp;The&nbsp;C++&nbsp;demangler&nbsp;has&nbsp;been&nbsp;updated&nbsp;for&nbsp;better&nbsp;C++11&nbsp;support.<br>
<br>
*&nbsp;New&nbsp;and&nbsp;modified&nbsp;GDB&nbsp;server&nbsp;monitor&nbsp;features:<br>
<br>
&nbsp;&nbsp;-&nbsp;Thread&nbsp;local&nbsp;variables/storage&nbsp;(__thread)&nbsp;can&nbsp;now&nbsp;be&nbsp;displayed.<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;GDB&nbsp;server&nbsp;monitor&nbsp;command&nbsp;"v.info&nbsp;location&nbsp;&lt;address&gt;"<br>
&nbsp;&nbsp;&nbsp;&nbsp;displays&nbsp;information&nbsp;about&nbsp;an&nbsp;address.&nbsp;&nbsp;The&nbsp;information&nbsp;produced<br>
&nbsp;&nbsp;&nbsp;&nbsp;depends&nbsp;on&nbsp;the&nbsp;tool&nbsp;and&nbsp;on&nbsp;the&nbsp;options&nbsp;given&nbsp;to&nbsp;valgrind.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Possibly,&nbsp;the&nbsp;following&nbsp;are&nbsp;described:&nbsp;global&nbsp;variables,&nbsp;local<br>
&nbsp;&nbsp;&nbsp;&nbsp;(stack)&nbsp;variables,&nbsp;allocated&nbsp;or&nbsp;freed&nbsp;blocks,&nbsp;...<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;option&nbsp;"--vgdb-stop-at=event1,event2,..."&nbsp;allows&nbsp;the&nbsp;user&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;ask&nbsp;the&nbsp;GDB&nbsp;server&nbsp;to&nbsp;stop&nbsp;at&nbsp;the&nbsp;start&nbsp;of&nbsp;program&nbsp;execution,&nbsp;at<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;program&nbsp;execution&nbsp;and&nbsp;on&nbsp;Valgrind&nbsp;internal&nbsp;errors.<br>
<br>
&nbsp;&nbsp;-&nbsp;A&nbsp;new&nbsp;monitor&nbsp;command&nbsp;"v.info&nbsp;stats"&nbsp;shows&nbsp;various&nbsp;Valgrind&nbsp;core<br>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;tool&nbsp;statistics.<br>
<br>
&nbsp;&nbsp;-&nbsp;A&nbsp;new&nbsp;monitor&nbsp;command&nbsp;"v.set&nbsp;hostvisibility"&nbsp;allows&nbsp;the&nbsp;GDB&nbsp;server<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;provide&nbsp;access&nbsp;to&nbsp;Valgrind&nbsp;internal&nbsp;host&nbsp;status/memory.<br>
<br>
*&nbsp;A&nbsp;new&nbsp;option&nbsp;"--aspace-minaddr=&lt;address&gt;"&nbsp;can&nbsp;in&nbsp;some&nbsp;situations<br>
&nbsp;&nbsp;allow&nbsp;the&nbsp;use&nbsp;of&nbsp;more&nbsp;memory&nbsp;by&nbsp;decreasing&nbsp;the&nbsp;address&nbsp;above&nbsp;which<br>
&nbsp;&nbsp;Valgrind&nbsp;maps&nbsp;memory.&nbsp;&nbsp;It&nbsp;can&nbsp;also&nbsp;be&nbsp;used&nbsp;to&nbsp;solve&nbsp;address<br>
&nbsp;&nbsp;conflicts&nbsp;with&nbsp;system&nbsp;libraries&nbsp;by&nbsp;increasing&nbsp;the&nbsp;default&nbsp;value.<br>
&nbsp;&nbsp;See&nbsp;user&nbsp;manual&nbsp;for&nbsp;details.<br>
<br>
*&nbsp;The&nbsp;amount&nbsp;of&nbsp;memory&nbsp;used&nbsp;by&nbsp;Valgrind&nbsp;to&nbsp;store&nbsp;debug&nbsp;info&nbsp;(unwind<br>
&nbsp;&nbsp;info,&nbsp;line&nbsp;number&nbsp;information&nbsp;and&nbsp;symbol&nbsp;data)&nbsp;has&nbsp;been<br>
&nbsp;&nbsp;significantly&nbsp;reduced,&nbsp;even&nbsp;though&nbsp;Valgrind&nbsp;now&nbsp;reads&nbsp;more<br>
&nbsp;&nbsp;information&nbsp;in&nbsp;order&nbsp;to&nbsp;support&nbsp;unwinding&nbsp;of&nbsp;inlined&nbsp;function&nbsp;calls.<br>
<br>
*&nbsp;Dwarf3&nbsp;handling&nbsp;with&nbsp;--read-var-info=yes&nbsp;has&nbsp;been&nbsp;improved:<br>
<br>
&nbsp;&nbsp;-&nbsp;Ada&nbsp;and&nbsp;C&nbsp;struct&nbsp;containing&nbsp;VLAs&nbsp;no&nbsp;longer&nbsp;cause&nbsp;a&nbsp;"bad&nbsp;DIE"&nbsp;error<br>
<br>
&nbsp;&nbsp;-&nbsp;Code&nbsp;compiled&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;-ffunction-sections&nbsp;-fdata-sections&nbsp;-Wl,--gc-sections<br>
&nbsp;&nbsp;&nbsp;&nbsp;no&nbsp;longer&nbsp;causes&nbsp;assertion&nbsp;failures.<br>
<br>
*&nbsp;Improved&nbsp;checking&nbsp;for&nbsp;the&nbsp;--sim-hints=&nbsp;and&nbsp;--kernel-variant=<br>
&nbsp;&nbsp;options.&nbsp;&nbsp;Unknown&nbsp;strings&nbsp;are&nbsp;now&nbsp;detected&nbsp;and&nbsp;reported&nbsp;to&nbsp;the&nbsp;user<br>
&nbsp;&nbsp;as&nbsp;a&nbsp;usage&nbsp;error.<br>
<br>
*&nbsp;The&nbsp;semantics&nbsp;of&nbsp;stack&nbsp;start/end&nbsp;boundaries&nbsp;in&nbsp;the&nbsp;valgrind.h<br>
&nbsp;&nbsp;VALGRIND_STACK_REGISTER&nbsp;client&nbsp;request&nbsp;has&nbsp;been&nbsp;clarified&nbsp;and<br>
&nbsp;&nbsp;documented.&nbsp;&nbsp;The&nbsp;convention&nbsp;is&nbsp;that&nbsp;start&nbsp;and&nbsp;end&nbsp;are&nbsp;respectively<br>
&nbsp;&nbsp;the&nbsp;lowest&nbsp;and&nbsp;highest&nbsp;addressable&nbsp;bytes&nbsp;of&nbsp;the&nbsp;stack.<br>
<br>
*&nbsp;====================&nbsp;FIXED&nbsp;BUGS&nbsp;====================<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed&nbsp;or&nbsp;resolved.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"<br>
stands&nbsp;for&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us<br>
but&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
bugzilla&nbsp;(https://bugs.kde.org/enter_bug.cgi?product=valgrind)&nbsp;rather<br>
than&nbsp;mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that<br>
are&nbsp;not&nbsp;entered&nbsp;into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
To&nbsp;see&nbsp;details&nbsp;of&nbsp;a&nbsp;given&nbsp;bug,&nbsp;visit<br>
&nbsp;&nbsp;https://bugs.kde.org/show_bug.cgi?id=XXXXXX<br>
where&nbsp;XXXXXX&nbsp;is&nbsp;the&nbsp;bug&nbsp;number&nbsp;as&nbsp;listed&nbsp;below.<br>
<br>
175819&nbsp;&nbsp;Support&nbsp;for&nbsp;ipv6&nbsp;socket&nbsp;reporting&nbsp;with&nbsp;--track-fds<br>
232510&nbsp;&nbsp;make&nbsp;distcheck&nbsp;fails<br>
249435&nbsp;&nbsp;Analyzing&nbsp;wine&nbsp;programs&nbsp;with&nbsp;callgrind&nbsp;triggers&nbsp;a&nbsp;crash<br>
278972&nbsp;&nbsp;support&nbsp;for&nbsp;inlined&nbsp;function&nbsp;calls&nbsp;in&nbsp;stacktraces&nbsp;and&nbsp;suppression<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&nbsp;199144<br>
291310&nbsp;&nbsp;FXSAVE&nbsp;instruction&nbsp;marks&nbsp;memory&nbsp;as&nbsp;undefined&nbsp;on&nbsp;amd64<br>
303536&nbsp;&nbsp;ioctl&nbsp;for&nbsp;SIOCETHTOOL&nbsp;(ethtool(8))&nbsp;isn't&nbsp;wrapped<br>
308729&nbsp;&nbsp;vex&nbsp;x86-&gt;IR:&nbsp;unhandled&nbsp;instruction&nbsp;bytes&nbsp;0xf&nbsp;0x5&nbsp;(syscall)&nbsp;<br>
315199&nbsp;&nbsp;vgcore&nbsp;file&nbsp;for&nbsp;threaded&nbsp;app&nbsp;does&nbsp;not&nbsp;show&nbsp;which&nbsp;thread&nbsp;crashed<br>
315952&nbsp;&nbsp;tun/tap&nbsp;ioctls&nbsp;are&nbsp;not&nbsp;supported<br>
323178&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;PLDW&nbsp;register&nbsp;(ARM)&nbsp;<br>
323179&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;PLDW&nbsp;immediate&nbsp;(ARM)<br>
324050&nbsp;&nbsp;Helgrind:&nbsp;SEGV&nbsp;because&nbsp;of&nbsp;unaligned&nbsp;stack&nbsp;when&nbsp;using&nbsp;movdqa<br>
325110&nbsp;&nbsp;Add&nbsp;test-cases&nbsp;for&nbsp;Power&nbsp;ISA&nbsp;2.06&nbsp;insns:&nbsp;divdo/divdo.&nbsp;and&nbsp;divduo/divduo.<br>
325124&nbsp;&nbsp;[MIPSEL]&nbsp;Compilation&nbsp;error<br>
325477&nbsp;&nbsp;Phase&nbsp;4&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.07<br>
325538&nbsp;&nbsp;cavium&nbsp;octeon&nbsp;mips64,&nbsp;valgrind&nbsp;reported&nbsp;"dumping&nbsp;core"&nbsp;[...]<br>
325628&nbsp;&nbsp;Phase&nbsp;5&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.07<br>
325714&nbsp;&nbsp;Empty&nbsp;vgcore&nbsp;but&nbsp;RLIMIT_CORE&nbsp;is&nbsp;big&nbsp;enough&nbsp;(too&nbsp;big)&nbsp;<br>
325751&nbsp;&nbsp;Missing&nbsp;the&nbsp;two&nbsp;privileged&nbsp;Power&nbsp;PC&nbsp;Transactional&nbsp;Memory&nbsp;Instructions<br>
325816&nbsp;&nbsp;Phase&nbsp;6&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.07<br>
325856&nbsp;&nbsp;Make&nbsp;SGCheck&nbsp;fail&nbsp;gracefully&nbsp;on&nbsp;unsupported&nbsp;platforms<br>
326026&nbsp;&nbsp;Iop&nbsp;names&nbsp;for&nbsp;count&nbsp;leading&nbsp;zeros/sign&nbsp;bits&nbsp;incorrectly&nbsp;imply&nbsp;[..]<br>
326436&nbsp;&nbsp;DRD:&nbsp;False&nbsp;positive&nbsp;in&nbsp;libstdc++&nbsp;std::list::push_back<br>
326444&nbsp;&nbsp;Cavium&nbsp;MIPS&nbsp;Octeon&nbsp;Specific&nbsp;Load&nbsp;Indexed&nbsp;Instructions<br>
326462&nbsp;&nbsp;Refactor&nbsp;vgdb&nbsp;to&nbsp;isolate&nbsp;invoker&nbsp;stuff&nbsp;into&nbsp;separate&nbsp;module<br>
326469&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0x63&nbsp;0xC1&nbsp;0xE&nbsp;(pcmpistri&nbsp;0x0E)<br>
326623&nbsp;&nbsp;DRD:&nbsp;false&nbsp;positive&nbsp;conflict&nbsp;report&nbsp;in&nbsp;a&nbsp;field&nbsp;assignment<br>
326724&nbsp;&nbsp;Valgrind&nbsp;does&nbsp;not&nbsp;compile&nbsp;on&nbsp;OSX&nbsp;1.9&nbsp;Mavericks<br>
326816&nbsp;&nbsp;Intercept&nbsp;for&nbsp;__strncpy_sse2_unaligned&nbsp;missing?<br>
326921&nbsp;&nbsp;coregrind&nbsp;fails&nbsp;to&nbsp;compile&nbsp;m_trampoline.S&nbsp;with&nbsp;MIPS/Linux&nbsp;port&nbsp;of&nbsp;V<br>
326983&nbsp;&nbsp;Clear&nbsp;direction&nbsp;flag&nbsp;after&nbsp;tests&nbsp;on&nbsp;amd64.<br>
327212&nbsp;&nbsp;Do&nbsp;not&nbsp;prepend&nbsp;the&nbsp;current&nbsp;directory&nbsp;to&nbsp;absolute&nbsp;path&nbsp;names.<br>
327223&nbsp;&nbsp;Support&nbsp;for&nbsp;Cavium&nbsp;MIPS&nbsp;Octeon&nbsp;Atomic&nbsp;and&nbsp;Count&nbsp;Instructions<br>
327238&nbsp;&nbsp;Callgrind&nbsp;Assertion&nbsp;'passed&nbsp;&lt;=&nbsp;last_bb-&gt;cjmp_count'&nbsp;failed<br>
327284&nbsp;&nbsp;s390x:&nbsp;Fix&nbsp;translation&nbsp;of&nbsp;the&nbsp;risbg&nbsp;instruction<br>
327639&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR&nbsp;pcmpestri&nbsp;SSE4.2&nbsp;instruction&nbsp;is&nbsp;unsupported&nbsp;0x34<br>
327837&nbsp;&nbsp;dwz&nbsp;compressed&nbsp;alternate&nbsp;.debug_info&nbsp;and&nbsp;.debug_str&nbsp;not&nbsp;read&nbsp;correctly<br>
327916&nbsp;&nbsp;DW_TAG_typedef&nbsp;may&nbsp;have&nbsp;no&nbsp;name<br>
327943&nbsp;&nbsp;s390x:&nbsp;add&nbsp;a&nbsp;redirection&nbsp;for&nbsp;the&nbsp;'index'&nbsp;function<br>
328100&nbsp;&nbsp;XABORT&nbsp;not&nbsp;implemented<br>
328205&nbsp;&nbsp;Implement&nbsp;additional&nbsp;Xen&nbsp;hypercalls<br>
328454&nbsp;&nbsp;add&nbsp;support&nbsp;Backtraces&nbsp;with&nbsp;ARM&nbsp;unwind&nbsp;tables&nbsp;(EXIDX)<br>
328455&nbsp;&nbsp;s390x:&nbsp;SIGILL&nbsp;after&nbsp;emitting&nbsp;wrong&nbsp;register&nbsp;pair&nbsp;for&nbsp;ldxbr<br>
328711&nbsp;&nbsp;valgrind.1&nbsp;manpage&nbsp;"memcheck&nbsp;options"&nbsp;section&nbsp;is&nbsp;badly&nbsp;generated<br>
328878&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR&nbsp;pcmpestri&nbsp;SSE4.2&nbsp;instruction&nbsp;is&nbsp;unsupported&nbsp;0x14<br>
329612&nbsp;&nbsp;Incorrect&nbsp;handling&nbsp;of&nbsp;AT_BASE&nbsp;for&nbsp;image&nbsp;execution&nbsp;<br>
329694&nbsp;&nbsp;clang&nbsp;warns&nbsp;about&nbsp;using&nbsp;uninitialized&nbsp;variable&nbsp;<br>
329956&nbsp;&nbsp;valgrind&nbsp;crashes&nbsp;when&nbsp;lmw/stmw&nbsp;instructions&nbsp;are&nbsp;used&nbsp;on&nbsp;ppc64<br>
330228&nbsp;&nbsp;mmap&nbsp;must&nbsp;align&nbsp;to&nbsp;VKI_SHMLBA&nbsp;on&nbsp;mips32<br>
330257&nbsp;&nbsp;LLVM&nbsp;does&nbsp;not&nbsp;support&nbsp;`-mno-dynamic-no-pic`&nbsp;option<br>
330319&nbsp;&nbsp;amd64-&gt;IR:&nbsp;unhandled&nbsp;instruction&nbsp;bytes:&nbsp;0xF&nbsp;0x1&nbsp;0xD5&nbsp;(xend)<br>
330459&nbsp;&nbsp;--track-fds=yes&nbsp;doesn't&nbsp;track&nbsp;eventfds<br>
330469&nbsp;&nbsp;Add&nbsp;clock_adjtime&nbsp;syscall&nbsp;support<br>
330594&nbsp;&nbsp;Missing&nbsp;sysalls&nbsp;on&nbsp;PowerPC&nbsp;/&nbsp;uClibc<br>
330622&nbsp;&nbsp;Add&nbsp;test&nbsp;to&nbsp;regression&nbsp;suite&nbsp;for&nbsp;POWER&nbsp;instruction:&nbsp;dcbzl<br>
330939&nbsp;&nbsp;Support&nbsp;for&nbsp;AMD's&nbsp;syscall&nbsp;instruction&nbsp;on&nbsp;x86<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&nbsp;308729<br>
330941&nbsp;&nbsp;Typo&nbsp;in&nbsp;PRE(poll)&nbsp;syscall&nbsp;wrapper<br>
331057&nbsp;&nbsp;unhandled&nbsp;instruction:&nbsp;0xEEE01B20&nbsp;(vfma.f64)&nbsp;(has&nbsp;patch)<br>
331254&nbsp;&nbsp;Fix&nbsp;expected&nbsp;output&nbsp;for&nbsp;memcheck/tests/dw4<br>
331255&nbsp;&nbsp;Fix&nbsp;race&nbsp;condition&nbsp;in&nbsp;test&nbsp;none/tests/coolo_sigaction<br>
331257&nbsp;&nbsp;Fix&nbsp;type&nbsp;of&nbsp;jump&nbsp;buffer&nbsp;in&nbsp;test&nbsp;none/tests/faultstatus<br>
331305&nbsp;&nbsp;configure&nbsp;uses&nbsp;bash&nbsp;specific&nbsp;syntax<br>
331337&nbsp;&nbsp;s390x&nbsp;WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;326&nbsp;(dup3)<br>
331380&nbsp;&nbsp;Syscall&nbsp;param&nbsp;timer_create(evp)&nbsp;points&nbsp;to&nbsp;uninitialised&nbsp;byte(s)<br>
331476&nbsp;&nbsp;Patch&nbsp;to&nbsp;handle&nbsp;ioctl&nbsp;0x5422&nbsp;on&nbsp;Linux&nbsp;(x86&nbsp;and&nbsp;amd64)<br>
331829&nbsp;&nbsp;Unexpected&nbsp;ioctl&nbsp;opcode&nbsp;sign&nbsp;extension<br>
331830&nbsp;&nbsp;ppc64:&nbsp;WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;96/97<br>
331839&nbsp;&nbsp;drd/tests/sem_open&nbsp;specifies&nbsp;invalid&nbsp;semaphore&nbsp;name&nbsp;<br>
331847&nbsp;&nbsp;outcome&nbsp;of&nbsp;drd/tests/thread_name&nbsp;is&nbsp;nondeterministic<br>
332037&nbsp;&nbsp;Valgrind&nbsp;cannot&nbsp;handle&nbsp;Thumb&nbsp;"add&nbsp;pc,&nbsp;reg"<br>
332055&nbsp;&nbsp;drd&nbsp;asserts&nbsp;on&nbsp;platforms&nbsp;with&nbsp;VG_STACK_REDZONE_SZB&nbsp;==&nbsp;0&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consistency&nbsp;checks&nbsp;enabled<br>
332263&nbsp;&nbsp;intercepts&nbsp;for&nbsp;pthread_rwlock_timedrdlock&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pthread_rwlock_timedwrlock&nbsp;are&nbsp;incorrect<br>
332265&nbsp;&nbsp;drd&nbsp;could&nbsp;do&nbsp;with&nbsp;post-rwlock_init&nbsp;and&nbsp;pre-rwlock_destroy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;requests<br>
332276&nbsp;&nbsp;Implement&nbsp;additional&nbsp;Xen&nbsp;hypercalls<br>
332658&nbsp;&nbsp;ldrd.w&nbsp;r1,&nbsp;r2,&nbsp;[PC,&nbsp;#imm]&nbsp;does&nbsp;not&nbsp;adjust&nbsp;for&nbsp;32bit&nbsp;alignment<br>
332765&nbsp;&nbsp;Fix&nbsp;ms_print&nbsp;to&nbsp;create&nbsp;temporary&nbsp;files&nbsp;in&nbsp;a&nbsp;proper&nbsp;directory<br>
333072&nbsp;&nbsp;drd:&nbsp;Add&nbsp;semaphore&nbsp;annotations<br>
333145&nbsp;&nbsp;Tests&nbsp;for&nbsp;missaligned&nbsp;PC+#imm&nbsp;access&nbsp;for&nbsp;arm<br>
333228&nbsp;&nbsp;AAarch64&nbsp;Missing&nbsp;instruction&nbsp;encoding:&nbsp;mrs&nbsp;%[reg],&nbsp;ctr_el0<br>
333230&nbsp;&nbsp;AAarch64&nbsp;missing&nbsp;instruction&nbsp;encodings:&nbsp;dc,&nbsp;ic,&nbsp;dsb.<br>
333248&nbsp;&nbsp;WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;unix:443<br>
333428&nbsp;&nbsp;ldr.w&nbsp;pc&nbsp;[rD,&nbsp;#imm]&nbsp;instruction&nbsp;leads&nbsp;to&nbsp;assertion<br>
333501&nbsp;&nbsp;cachegrind:&nbsp;assertion:&nbsp;Cache&nbsp;set&nbsp;count&nbsp;is&nbsp;not&nbsp;a&nbsp;power&nbsp;of&nbsp;two.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&nbsp;336577<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&nbsp;292281<br>
333666&nbsp;&nbsp;Recognize&nbsp;MPX&nbsp;instructions&nbsp;and&nbsp;bnd&nbsp;prefix.<br>
333788&nbsp;&nbsp;Valgrind&nbsp;does&nbsp;not&nbsp;support&nbsp;the&nbsp;CDROM_DISC_STATUS&nbsp;ioctl&nbsp;(has&nbsp;patch)<br>
333817&nbsp;&nbsp;Valgrind&nbsp;reports&nbsp;the&nbsp;memory&nbsp;areas&nbsp;written&nbsp;to&nbsp;by&nbsp;the&nbsp;SG_IO<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ioctl&nbsp;as&nbsp;untouched<br>
334049&nbsp;&nbsp;lzcnt&nbsp;fails&nbsp;silently&nbsp;(x86_32)<br>
334384&nbsp;&nbsp;Valgrind&nbsp;does&nbsp;not&nbsp;have&nbsp;support&nbsp;Little&nbsp;Endian&nbsp;support&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IBM&nbsp;POWER&nbsp;PPC&nbsp;64<br>
334585&nbsp;&nbsp;recvmmsg&nbsp;unhandled&nbsp;(+patch)&nbsp;(arm)<br>
334705&nbsp;&nbsp;sendmsg&nbsp;and&nbsp;recvmsg&nbsp;should&nbsp;guard&nbsp;against&nbsp;bogus&nbsp;msghdr&nbsp;fields.<br>
334727&nbsp;&nbsp;Build&nbsp;fails&nbsp;with&nbsp;-Werror=format-security<br>
334788&nbsp;&nbsp;clarify&nbsp;doc&nbsp;about&nbsp;--log-file&nbsp;initial&nbsp;program&nbsp;directory<br>
334834&nbsp;&nbsp;PPC64&nbsp;Little&nbsp;Endian&nbsp;support,&nbsp;patch&nbsp;2<br>
334836&nbsp;&nbsp;PPC64&nbsp;Little&nbsp;Endian&nbsp;support,&nbsp;patch&nbsp;3&nbsp;testcase&nbsp;fixes<br>
334936&nbsp;&nbsp;patch&nbsp;to&nbsp;fix&nbsp;false&nbsp;positives&nbsp;on&nbsp;alsa&nbsp;SNDRV_CTL_*&nbsp;ioctls<br>
335034&nbsp;&nbsp;Unhandled&nbsp;ioctl:&nbsp;HCIGETDEVLIST<br>
335155&nbsp;&nbsp;vgdb,&nbsp;fix&nbsp;error&nbsp;print&nbsp;statement.<br>
335262&nbsp;&nbsp;arm64:&nbsp;movi&nbsp;8bit&nbsp;version&nbsp;is&nbsp;not&nbsp;supported<br>
335263&nbsp;&nbsp;arm64:&nbsp;dmb&nbsp;instruction&nbsp;is&nbsp;not&nbsp;implemented<br>
335441&nbsp;&nbsp;unhandled&nbsp;ioctl&nbsp;0x8905&nbsp;(SIOCATMARK)&nbsp;when&nbsp;running&nbsp;wine&nbsp;under&nbsp;valgrind<br>
335496&nbsp;&nbsp;arm64:&nbsp;sbc/abc&nbsp;instructions&nbsp;are&nbsp;not&nbsp;implemented<br>
335554&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction:&nbsp;abs<br>
335564&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction:&nbsp;fcvtpu&nbsp;&nbsp;Xn,&nbsp;Sn<br>
335735&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction:&nbsp;cnt<br>
335736&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction:&nbsp;uaddlv<br>
335848&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction:&nbsp;{s,u}cvtf<br>
335902&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction:&nbsp;sli<br>
335903&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction:&nbsp;umull&nbsp;(vector)<br>
336055&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction:&nbsp;mov&nbsp;(element)<br>
336062&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;instruction:&nbsp;shrn{,2}<br>
336139&nbsp;&nbsp;mip64:&nbsp;[...]&nbsp;valgrind&nbsp;hangs&nbsp;and&nbsp;spins&nbsp;on&nbsp;a&nbsp;single&nbsp;core&nbsp;[...]<br>
336189&nbsp;&nbsp;arm64:&nbsp;unhandled&nbsp;Instruction:&nbsp;mvn<br>
336435&nbsp;&nbsp;Valgrind&nbsp;hangs&nbsp;in&nbsp;pthread_spin_lock&nbsp;consuming&nbsp;100%&nbsp;CPU<br>
336619&nbsp;&nbsp;valgrind&nbsp;--read-var-info=yes&nbsp;doesn't&nbsp;handle&nbsp;DW_TAG_restrict_type<br>
336772&nbsp;&nbsp;Make&nbsp;moans&nbsp;about&nbsp;unknown&nbsp;ioctls&nbsp;more&nbsp;informative<br>
336957&nbsp;&nbsp;Add&nbsp;a&nbsp;section&nbsp;about&nbsp;the&nbsp;Solaris/illumos&nbsp;port&nbsp;on&nbsp;the&nbsp;webpage<br>
337094&nbsp;&nbsp;ifunc&nbsp;wrapper&nbsp;is&nbsp;broken&nbsp;on&nbsp;ppc64<br>
337285&nbsp;&nbsp;fcntl&nbsp;commands&nbsp;F_OFD_SETLK,&nbsp;F_OFD_SETLKW,&nbsp;and&nbsp;F_OFD_GETLK&nbsp;not&nbsp;supported<br>
337528&nbsp;&nbsp;leak&nbsp;check&nbsp;heuristic&nbsp;for&nbsp;block&nbsp;prefixed&nbsp;by&nbsp;length&nbsp;as&nbsp;64bit&nbsp;number<br>
337740&nbsp;&nbsp;Implement&nbsp;additional&nbsp;Xen&nbsp;hypercalls<br>
337762&nbsp;&nbsp;guest_arm64_toIR.c:4166&nbsp;(dis_ARM64_load_store):&nbsp;Assertion&nbsp;`0'&nbsp;failed.<br>
337766&nbsp;&nbsp;arm64-linux:&nbsp;unhandled&nbsp;syscalls&nbsp;mlock&nbsp;(228)&nbsp;and&nbsp;mlockall&nbsp;(230)<br>
337871&nbsp;&nbsp;deprecate&nbsp;--db-attach<br>
338023&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;all&nbsp;V4L2/media&nbsp;ioctls<br>
338024&nbsp;&nbsp;inlined&nbsp;functions&nbsp;are&nbsp;not&nbsp;shown&nbsp;if&nbsp;DW_AT_ranges&nbsp;is&nbsp;used<br>
338106&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;'kcmp'&nbsp;syscall<br>
338115&nbsp;&nbsp;DRD:&nbsp;computed&nbsp;conflict&nbsp;set&nbsp;differs&nbsp;from&nbsp;actual&nbsp;after&nbsp;fork<br>
338160&nbsp;&nbsp;implement&nbsp;display&nbsp;of&nbsp;thread&nbsp;local&nbsp;storage&nbsp;in&nbsp;gdbsrv<br>
338205&nbsp;&nbsp;configure.ac&nbsp;and&nbsp;check&nbsp;for&nbsp;-Wno-tautological-compare<br>
338300&nbsp;&nbsp;coredumps&nbsp;are&nbsp;missing&nbsp;one&nbsp;byte&nbsp;of&nbsp;every&nbsp;segment<br>
338445&nbsp;&nbsp;amd64&nbsp;vbit-test&nbsp;fails&nbsp;with&nbsp;unknown&nbsp;opcodes&nbsp;used&nbsp;by&nbsp;arm64&nbsp;VEX<br>
338499&nbsp;&nbsp;--sim-hints&nbsp;parsing&nbsp;broken&nbsp;due&nbsp;to&nbsp;wrong&nbsp;order&nbsp;in&nbsp;tokens<br>
338615&nbsp;&nbsp;suppress&nbsp;glibc&nbsp;2.20&nbsp;optimized&nbsp;strcmp&nbsp;implementation&nbsp;for&nbsp;ARMv7<br>
338681&nbsp;&nbsp;Unable&nbsp;to&nbsp;unwind&nbsp;through&nbsp;clone&nbsp;thread&nbsp;created&nbsp;on&nbsp;i386-linux<br>
338698&nbsp;&nbsp;race&nbsp;condition&nbsp;between&nbsp;gdbsrv&nbsp;and&nbsp;vgdb&nbsp;on&nbsp;startup<br>
338703&nbsp;&nbsp;helgrind&nbsp;on&nbsp;arm-linux&nbsp;gets&nbsp;false&nbsp;positives&nbsp;in&nbsp;dynamic&nbsp;loader<br>
338791&nbsp;&nbsp;alt&nbsp;dwz&nbsp;files&nbsp;can&nbsp;be&nbsp;relative&nbsp;of&nbsp;debug/main&nbsp;file<br>
338878&nbsp;&nbsp;on&nbsp;MacOS:&nbsp;assertion&nbsp;'VG_IS_PAGE_ALIGNED(clstack_end+1)'&nbsp;failed<br>
338932&nbsp;&nbsp;build&nbsp;V-trunk&nbsp;with&nbsp;gcc-trunk<br>
338974&nbsp;&nbsp;glibc&nbsp;2.20&nbsp;changed&nbsp;size&nbsp;of&nbsp;struct&nbsp;sigaction&nbsp;sa_flags&nbsp;field&nbsp;on&nbsp;s390<br>
n-i-bz&nbsp;&nbsp;Fix&nbsp;KVM_CREATE_IRQCHIP&nbsp;ioctl&nbsp;handling<br>
n-i-bz&nbsp;&nbsp;s390x:&nbsp;Fix&nbsp;memory&nbsp;corruption&nbsp;for&nbsp;multithreaded&nbsp;applications<br>
n-i-bz&nbsp;&nbsp;vex&nbsp;arm-&gt;IR:&nbsp;allow&nbsp;PC&nbsp;as&nbsp;basereg&nbsp;in&nbsp;some&nbsp;LDRD&nbsp;cases<br>
n-i-bz&nbsp;&nbsp;internal&nbsp;error&nbsp;in&nbsp;Valgrind&nbsp;if&nbsp;vgdb&nbsp;transmit&nbsp;signals&nbsp;when&nbsp;ptrace&nbsp;invoked<br>
n-i-bz&nbsp;&nbsp;Fix&nbsp;mingw64&nbsp;support&nbsp;in&nbsp;valgrind.h&nbsp;(dev@,&nbsp;9&nbsp;May&nbsp;2014)<br>
n-i-bz&nbsp;&nbsp;drd&nbsp;manual:&nbsp;Document&nbsp;how&nbsp;to&nbsp;C++11&nbsp;programs&nbsp;that&nbsp;use&nbsp;class&nbsp;"std::thread"<br>
n-i-bz&nbsp;&nbsp;Add&nbsp;command-line&nbsp;option&nbsp;--default-suppressions<br>
n-i-bz&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;BLKDISCARDZEROES&nbsp;ioctl<br>
n-i-bz&nbsp;&nbsp;ppc32/64:&nbsp;fix&nbsp;a&nbsp;regression&nbsp;with&nbsp;the&nbsp;mtfsb0/mtfsb1&nbsp;instructions<br>
n-i-bz&nbsp;&nbsp;Add&nbsp;support&nbsp;for	sys_pivot_root&nbsp;and&nbsp;sys_unshare<br>
<br>
(3.10.0.BETA1:&nbsp;&nbsp;2&nbsp;September&nbsp;2014,&nbsp;vex&nbsp;r2940,&nbsp;valgrind&nbsp;r14428)<br>
(3.10.0.BETA2:&nbsp;&nbsp;8&nbsp;September&nbsp;2014,&nbsp;vex&nbsp;r2950,&nbsp;valgrind&nbsp;r14503)<br>
(3.10.0:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;September&nbsp;2014,&nbsp;vex&nbsp;r2950,&nbsp;valgrind&nbsp;r14514)<br>
<br>
<br>
<br>
Release&nbsp;3.9.0&nbsp;(31&nbsp;October&nbsp;2013)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.9.0&nbsp;is&nbsp;a&nbsp;feature&nbsp;release&nbsp;with&nbsp;many&nbsp;improvements&nbsp;and&nbsp;the&nbsp;usual<br>
collection&nbsp;of&nbsp;bug&nbsp;fixes.<br>
<br>
This&nbsp;release&nbsp;supports&nbsp;X86/Linux,&nbsp;AMD64/Linux,&nbsp;ARM/Linux,&nbsp;PPC32/Linux,<br>
PPC64/Linux,&nbsp;S390X/Linux,&nbsp;MIPS32/Linux,&nbsp;MIPS64/Linux,&nbsp;ARM/Android,<br>
X86/Android,&nbsp;X86/MacOSX&nbsp;10.7&nbsp;and&nbsp;AMD64/MacOSX&nbsp;10.7.&nbsp;&nbsp;Support&nbsp;for<br>
MacOSX&nbsp;10.8&nbsp;is&nbsp;significantly&nbsp;improved&nbsp;relative&nbsp;to&nbsp;the&nbsp;3.8.0&nbsp;release.<br>
<br>
*&nbsp;==================&nbsp;PLATFORM&nbsp;CHANGES&nbsp;=================<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;MIPS64&nbsp;LE&nbsp;and&nbsp;BE&nbsp;running&nbsp;Linux.&nbsp;&nbsp;Valgrind&nbsp;has&nbsp;been<br>
&nbsp;&nbsp;tested&nbsp;on&nbsp;MIPS64&nbsp;Debian&nbsp;Squeeze&nbsp;and&nbsp;Debian&nbsp;Wheezy&nbsp;distributions.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;MIPS&nbsp;DSP&nbsp;ASE&nbsp;on&nbsp;MIPS32&nbsp;platforms.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;s390x&nbsp;Decimal&nbsp;Floating&nbsp;Point&nbsp;instructions&nbsp;on&nbsp;hosts&nbsp;that<br>
&nbsp;&nbsp;have&nbsp;the&nbsp;DFP&nbsp;facility&nbsp;installed.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;POWER8&nbsp;(Power&nbsp;ISA&nbsp;2.07)&nbsp;instructions<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;Intel&nbsp;AVX2&nbsp;instructions.&nbsp;&nbsp;This&nbsp;is&nbsp;available&nbsp;only&nbsp;on&nbsp;64<br>
&nbsp;&nbsp;bit&nbsp;code.<br>
<br>
*&nbsp;Initial&nbsp;support&nbsp;for&nbsp;Intel&nbsp;Transactional&nbsp;Synchronization&nbsp;Extensions,<br>
&nbsp;&nbsp;both&nbsp;RTM&nbsp;and&nbsp;HLE.<br>
<br>
*&nbsp;Initial&nbsp;support&nbsp;for&nbsp;Hardware&nbsp;Transactional&nbsp;Memory&nbsp;on&nbsp;POWER.<br>
<br>
*&nbsp;Improved&nbsp;support&nbsp;for&nbsp;MacOSX&nbsp;10.8&nbsp;(64-bit&nbsp;only).&nbsp;&nbsp;Memcheck&nbsp;can&nbsp;now<br>
&nbsp;&nbsp;run&nbsp;large&nbsp;GUI&nbsp;apps&nbsp;tolerably&nbsp;well.<br>
<br>
*&nbsp;====================&nbsp;TOOL&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;Memcheck:<br>
<br>
&nbsp;&nbsp;-&nbsp;Improvements&nbsp;in&nbsp;handling&nbsp;of&nbsp;vectorised&nbsp;code,&nbsp;leading&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;significantly&nbsp;fewer&nbsp;false&nbsp;error&nbsp;reports.&nbsp;&nbsp;You&nbsp;need&nbsp;to&nbsp;use&nbsp;the&nbsp;flag<br>
&nbsp;&nbsp;&nbsp;&nbsp;--partial-loads-ok=yes&nbsp;to&nbsp;get&nbsp;the&nbsp;benefits&nbsp;of&nbsp;these&nbsp;changes.<br>
<br>
&nbsp;&nbsp;-&nbsp;Better&nbsp;control&nbsp;over&nbsp;the&nbsp;leak&nbsp;checker.&nbsp;&nbsp;It&nbsp;is&nbsp;now&nbsp;possible&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;specify&nbsp;which&nbsp;leak&nbsp;kinds&nbsp;(definite/indirect/possible/reachable)<br>
&nbsp;&nbsp;&nbsp;&nbsp;should&nbsp;be&nbsp;displayed,&nbsp;which&nbsp;should&nbsp;be&nbsp;regarded&nbsp;as&nbsp;errors,&nbsp;and&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;should&nbsp;be&nbsp;suppressed&nbsp;by&nbsp;a&nbsp;given&nbsp;leak&nbsp;suppression.&nbsp;&nbsp;This&nbsp;is&nbsp;done<br>
&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;the&nbsp;options&nbsp;--show-leak-kinds=kind1,kind2,..,<br>
&nbsp;&nbsp;&nbsp;&nbsp;--errors-for-leak-kinds=kind1,kind2,..&nbsp;and&nbsp;an&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;"match-leak-kinds:"&nbsp;line&nbsp;in&nbsp;suppression&nbsp;entries,&nbsp;respectively.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;generated&nbsp;leak&nbsp;suppressions&nbsp;contain&nbsp;this&nbsp;new&nbsp;line&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;therefore&nbsp;more&nbsp;specific&nbsp;than&nbsp;in&nbsp;previous&nbsp;releases.&nbsp;&nbsp;To&nbsp;get&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;same&nbsp;behaviour&nbsp;as&nbsp;previous&nbsp;releases,&nbsp;remove&nbsp;the&nbsp;"match-leak-kinds:"<br>
&nbsp;&nbsp;&nbsp;&nbsp;line&nbsp;from&nbsp;generated&nbsp;suppressions&nbsp;before&nbsp;using&nbsp;them.<br>
<br>
&nbsp;&nbsp;-&nbsp;Reduced&nbsp;"possible&nbsp;leak"&nbsp;reports&nbsp;from&nbsp;the&nbsp;leak&nbsp;checker&nbsp;by&nbsp;the&nbsp;use<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;better&nbsp;heuristics.&nbsp;&nbsp;The&nbsp;available&nbsp;heuristics&nbsp;provide&nbsp;detection<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;valid&nbsp;interior&nbsp;pointers&nbsp;to&nbsp;std::stdstring,&nbsp;to&nbsp;new[]&nbsp;allocated<br>
&nbsp;&nbsp;&nbsp;&nbsp;arrays&nbsp;with&nbsp;elements&nbsp;having&nbsp;destructors&nbsp;and&nbsp;to&nbsp;interior&nbsp;pointers<br>
&nbsp;&nbsp;&nbsp;&nbsp;pointing&nbsp;to&nbsp;an&nbsp;inner&nbsp;part&nbsp;of&nbsp;a&nbsp;C++&nbsp;object&nbsp;using&nbsp;multiple<br>
&nbsp;&nbsp;&nbsp;&nbsp;inheritance.&nbsp;&nbsp;They&nbsp;can&nbsp;be&nbsp;selected&nbsp;individually&nbsp;using&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;option&nbsp;--leak-check-heuristics=heur1,heur2,...<br>
<br>
&nbsp;&nbsp;-&nbsp;Better&nbsp;control&nbsp;of&nbsp;stacktrace&nbsp;acquisition&nbsp;for&nbsp;heap-allocated<br>
&nbsp;&nbsp;&nbsp;&nbsp;blocks.&nbsp;&nbsp;Using&nbsp;the&nbsp;--keep-stacktraces&nbsp;option,&nbsp;it&nbsp;is&nbsp;possible&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;independently&nbsp;whether&nbsp;a&nbsp;stack&nbsp;trace&nbsp;is&nbsp;acquired&nbsp;for&nbsp;each<br>
&nbsp;&nbsp;&nbsp;&nbsp;allocation&nbsp;and&nbsp;deallocation.&nbsp;&nbsp;This&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;create&nbsp;better<br>
&nbsp;&nbsp;&nbsp;&nbsp;"use&nbsp;after&nbsp;free"&nbsp;errors&nbsp;or&nbsp;to&nbsp;decrease&nbsp;Valgrind's&nbsp;resource<br>
&nbsp;&nbsp;&nbsp;&nbsp;consumption&nbsp;by&nbsp;recording&nbsp;less&nbsp;information.<br>
<br>
&nbsp;&nbsp;-&nbsp;Better&nbsp;reporting&nbsp;of&nbsp;leak&nbsp;suppression&nbsp;usage.&nbsp;&nbsp;The&nbsp;list&nbsp;of&nbsp;used<br>
&nbsp;&nbsp;&nbsp;&nbsp;suppressions&nbsp;(shown&nbsp;when&nbsp;the&nbsp;-v&nbsp;option&nbsp;is&nbsp;given)&nbsp;now&nbsp;shows,&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;leak&nbsp;suppressions,&nbsp;how&nbsp;many&nbsp;blocks&nbsp;and&nbsp;bytes&nbsp;it&nbsp;suppressed<br>
&nbsp;&nbsp;&nbsp;&nbsp;during&nbsp;the&nbsp;last&nbsp;leak&nbsp;search.<br>
<br>
*&nbsp;Helgrind:<br>
<br>
&nbsp;&nbsp;-&nbsp;False&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;the&nbsp;use&nbsp;of&nbsp;statically&nbsp;initialised<br>
&nbsp;&nbsp;&nbsp;&nbsp;mutexes&nbsp;and&nbsp;condition&nbsp;variables&nbsp;(PTHREAD_MUTEX_INITIALISER,&nbsp;etc)<br>
&nbsp;&nbsp;&nbsp;&nbsp;have&nbsp;been&nbsp;removed.<br>
<br>
&nbsp;&nbsp;-&nbsp;False&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;the&nbsp;use&nbsp;of&nbsp;pthread_cond_waits&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;timeout,&nbsp;have&nbsp;been&nbsp;removed.<br>
<br>
*&nbsp;====================&nbsp;OTHER&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;Some&nbsp;attempt&nbsp;to&nbsp;tune&nbsp;Valgrind's&nbsp;space&nbsp;requirements&nbsp;to&nbsp;the&nbsp;expected<br>
&nbsp;&nbsp;capabilities&nbsp;of&nbsp;the&nbsp;target:<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;default&nbsp;size&nbsp;of&nbsp;the&nbsp;translation&nbsp;cache&nbsp;has&nbsp;been&nbsp;reduced&nbsp;from&nbsp;8<br>
&nbsp;&nbsp;&nbsp;&nbsp;sectors&nbsp;to&nbsp;6&nbsp;on&nbsp;Android&nbsp;platforms,&nbsp;since&nbsp;each&nbsp;sector&nbsp;occupies<br>
&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;40MB&nbsp;when&nbsp;using&nbsp;Memcheck.<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;default&nbsp;size&nbsp;of&nbsp;the&nbsp;translation&nbsp;cache&nbsp;has&nbsp;been&nbsp;increased&nbsp;to&nbsp;16<br>
&nbsp;&nbsp;&nbsp;&nbsp;sectors&nbsp;on&nbsp;all&nbsp;other&nbsp;platforms,&nbsp;reflecting&nbsp;the&nbsp;fact&nbsp;that&nbsp;large<br>
&nbsp;&nbsp;&nbsp;&nbsp;applications&nbsp;require&nbsp;instrumentation&nbsp;and&nbsp;storage&nbsp;of&nbsp;huge&nbsp;amounts<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;code.&nbsp;&nbsp;For&nbsp;similar&nbsp;reasons,&nbsp;the&nbsp;number&nbsp;of&nbsp;memory&nbsp;mapped<br>
&nbsp;&nbsp;&nbsp;&nbsp;segments&nbsp;that&nbsp;can&nbsp;be&nbsp;tracked&nbsp;has&nbsp;been&nbsp;increased&nbsp;by&nbsp;a&nbsp;factor&nbsp;of&nbsp;6.<br>
<br>
&nbsp;&nbsp;-&nbsp;In&nbsp;all&nbsp;cases,&nbsp;the&nbsp;maximum&nbsp;number&nbsp;of&nbsp;sectors&nbsp;in&nbsp;the&nbsp;translation<br>
&nbsp;&nbsp;&nbsp;&nbsp;cache&nbsp;can&nbsp;be&nbsp;controlled&nbsp;by&nbsp;the&nbsp;new&nbsp;flag&nbsp;--num-transtab-sectors.<br>
<br>
*&nbsp;Changes&nbsp;in&nbsp;how&nbsp;debug&nbsp;info&nbsp;(line&nbsp;numbers,&nbsp;etc)&nbsp;is&nbsp;read:<br>
<br>
&nbsp;&nbsp;-&nbsp;Valgrind&nbsp;no&nbsp;longer&nbsp;temporarily&nbsp;mmaps&nbsp;the&nbsp;entire&nbsp;object&nbsp;to&nbsp;read<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;it.&nbsp;&nbsp;Instead,&nbsp;reading&nbsp;is&nbsp;done&nbsp;through&nbsp;a&nbsp;small&nbsp;fixed&nbsp;sized<br>
&nbsp;&nbsp;&nbsp;&nbsp;buffer.&nbsp;&nbsp;This&nbsp;avoids&nbsp;virtual&nbsp;memory&nbsp;usage&nbsp;spikes&nbsp;when&nbsp;Valgrind<br>
&nbsp;&nbsp;&nbsp;&nbsp;reads&nbsp;debuginfo&nbsp;from&nbsp;large&nbsp;shared&nbsp;objects.<br>
<br>
&nbsp;&nbsp;-&nbsp;A&nbsp;new&nbsp;experimental&nbsp;remote&nbsp;debug&nbsp;info&nbsp;server.&nbsp;&nbsp;Valgrind&nbsp;can&nbsp;read<br>
&nbsp;&nbsp;&nbsp;&nbsp;debug&nbsp;info&nbsp;from&nbsp;a&nbsp;different&nbsp;machine&nbsp;(typically,&nbsp;a&nbsp;build&nbsp;host)<br>
&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;debuginfo&nbsp;objects&nbsp;are&nbsp;stored.&nbsp;&nbsp;This&nbsp;can&nbsp;save&nbsp;a&nbsp;lot&nbsp;of&nbsp;time<br>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;hassle&nbsp;when&nbsp;running&nbsp;Valgrind&nbsp;on&nbsp;resource-constrained&nbsp;targets<br>
&nbsp;&nbsp;&nbsp;&nbsp;(phones,&nbsp;tablets)&nbsp;when&nbsp;the&nbsp;full&nbsp;debuginfo&nbsp;objects&nbsp;are&nbsp;stored<br>
&nbsp;&nbsp;&nbsp;&nbsp;somewhere&nbsp;else.&nbsp;&nbsp;This&nbsp;is&nbsp;enabled&nbsp;by&nbsp;the&nbsp;--debuginfo-server=<br>
&nbsp;&nbsp;&nbsp;&nbsp;option.<br>
<br>
&nbsp;&nbsp;-&nbsp;Consistency&nbsp;checking&nbsp;between&nbsp;main&nbsp;and&nbsp;debug&nbsp;objects&nbsp;can&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;disabled&nbsp;using&nbsp;the&nbsp;--allow-mismatched-debuginfo&nbsp;option.<br>
<br>
*&nbsp;Stack&nbsp;unwinding&nbsp;by&nbsp;stack&nbsp;scanning,&nbsp;on&nbsp;ARM.&nbsp;&nbsp;Unwinding&nbsp;by&nbsp;stack<br>
&nbsp;&nbsp;scanning&nbsp;can&nbsp;recover&nbsp;stack&nbsp;traces&nbsp;in&nbsp;some&nbsp;cases&nbsp;when&nbsp;the&nbsp;normal<br>
&nbsp;&nbsp;unwind&nbsp;mechanisms&nbsp;fail.&nbsp;&nbsp;Stack&nbsp;scanning&nbsp;is&nbsp;best&nbsp;described&nbsp;as&nbsp;"a<br>
&nbsp;&nbsp;nasty,&nbsp;dangerous&nbsp;and&nbsp;misleading&nbsp;hack"&nbsp;and&nbsp;so&nbsp;is&nbsp;disabled&nbsp;by&nbsp;default.<br>
&nbsp;&nbsp;Use&nbsp;--unw-stack-scan-thresh&nbsp;and&nbsp;--unw-stack-scan-frames&nbsp;to&nbsp;enable<br>
&nbsp;&nbsp;and&nbsp;control&nbsp;it.<br>
<br>
*&nbsp;Detection&nbsp;and&nbsp;merging&nbsp;of&nbsp;recursive&nbsp;stack&nbsp;frame&nbsp;cycles.&nbsp;&nbsp;When&nbsp;your<br>
&nbsp;&nbsp;program&nbsp;has&nbsp;recursive&nbsp;algorithms,&nbsp;this&nbsp;limits&nbsp;the&nbsp;memory&nbsp;used&nbsp;by<br>
&nbsp;&nbsp;Valgrind&nbsp;for&nbsp;recorded&nbsp;stack&nbsp;traces&nbsp;and&nbsp;avoids&nbsp;recording<br>
&nbsp;&nbsp;uninteresting&nbsp;repeated&nbsp;calls.&nbsp;&nbsp;This&nbsp;is&nbsp;controlled&nbsp;by&nbsp;the&nbsp;command<br>
&nbsp;&nbsp;line&nbsp;option&nbsp;--merge-recursive-frame&nbsp;and&nbsp;by&nbsp;the&nbsp;monitor&nbsp;command<br>
&nbsp;&nbsp;"v.set&nbsp;merge-recursive-frames".<br>
<br>
*&nbsp;File&nbsp;name&nbsp;and&nbsp;line&nbsp;numbers&nbsp;for&nbsp;used&nbsp;suppressions.&nbsp;&nbsp;The&nbsp;list&nbsp;of&nbsp;used<br>
&nbsp;&nbsp;suppressions&nbsp;(shown&nbsp;when&nbsp;the&nbsp;-v&nbsp;option&nbsp;is&nbsp;given)&nbsp;now&nbsp;shows,&nbsp;for&nbsp;each<br>
&nbsp;&nbsp;used&nbsp;suppression,&nbsp;the&nbsp;file&nbsp;name&nbsp;and&nbsp;line&nbsp;number&nbsp;where&nbsp;the&nbsp;suppression<br>
&nbsp;&nbsp;is&nbsp;defined.<br>
<br>
*&nbsp;New&nbsp;and&nbsp;modified&nbsp;GDB&nbsp;server&nbsp;monitor&nbsp;features:<br>
<br>
&nbsp;&nbsp;-&nbsp;valgrind.h&nbsp;has&nbsp;a&nbsp;new&nbsp;client&nbsp;request,&nbsp;VALGRIND_MONITOR_COMMAND,<br>
&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;execute&nbsp;gdbserver&nbsp;monitor&nbsp;commands&nbsp;from&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;program.<br>
<br>
&nbsp;&nbsp;-&nbsp;A&nbsp;new&nbsp;monitor&nbsp;command,&nbsp;"v.info&nbsp;open_fds",&nbsp;that&nbsp;gives&nbsp;the&nbsp;list&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;open&nbsp;file&nbsp;descriptors&nbsp;and&nbsp;additional&nbsp;details.<br>
<br>
&nbsp;&nbsp;-&nbsp;An&nbsp;optional&nbsp;message&nbsp;in&nbsp;the&nbsp;"v.info&nbsp;n_errs_found"&nbsp;monitor&nbsp;command,<br>
&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;example&nbsp;"v.info&nbsp;n_errs_found&nbsp;test&nbsp;1234&nbsp;finished",&nbsp;allowing&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;comment&nbsp;string&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;process&nbsp;output,&nbsp;perhaps&nbsp;for&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;purpose&nbsp;of&nbsp;separating&nbsp;errors&nbsp;of&nbsp;different&nbsp;tests&nbsp;or&nbsp;test&nbsp;phases.<br>
<br>
&nbsp;&nbsp;-&nbsp;A&nbsp;new&nbsp;monitor&nbsp;command&nbsp;"v.info&nbsp;execontext"&nbsp;that&nbsp;shows&nbsp;information<br>
&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;the&nbsp;stack&nbsp;traces&nbsp;recorded&nbsp;by&nbsp;Valgrind.<br>
<br>
&nbsp;&nbsp;-&nbsp;A&nbsp;new&nbsp;monitor&nbsp;command&nbsp;"v.do&nbsp;expensive_sanity_check_general"&nbsp;to&nbsp;run<br>
&nbsp;&nbsp;&nbsp;&nbsp;some&nbsp;internal&nbsp;consistency&nbsp;checks.<br>
<br>
*&nbsp;New&nbsp;flag&nbsp;--sigill-diagnostics&nbsp;to&nbsp;control&nbsp;whether&nbsp;a&nbsp;diagnostic<br>
&nbsp;&nbsp;message&nbsp;is&nbsp;printed&nbsp;when&nbsp;the&nbsp;JIT&nbsp;encounters&nbsp;an&nbsp;instruction&nbsp;it&nbsp;can't<br>
&nbsp;&nbsp;translate.&nbsp;&nbsp;The&nbsp;actual&nbsp;behavior&nbsp;--&nbsp;delivery&nbsp;of&nbsp;SIGILL&nbsp;to&nbsp;the<br>
&nbsp;&nbsp;application&nbsp;--&nbsp;is&nbsp;unchanged.<br>
<br>
*&nbsp;The&nbsp;maximum&nbsp;amount&nbsp;of&nbsp;memory&nbsp;that&nbsp;Valgrind&nbsp;can&nbsp;use&nbsp;on&nbsp;64&nbsp;bit&nbsp;targets<br>
&nbsp;&nbsp;has&nbsp;been&nbsp;increased&nbsp;from&nbsp;32GB&nbsp;to&nbsp;64GB.&nbsp;&nbsp;This&nbsp;should&nbsp;make&nbsp;it&nbsp;possible<br>
&nbsp;&nbsp;to&nbsp;run&nbsp;applications&nbsp;on&nbsp;Memcheck&nbsp;that&nbsp;natively&nbsp;require&nbsp;up&nbsp;to&nbsp;about&nbsp;35GB.<br>
<br>
*&nbsp;====================&nbsp;FIXED&nbsp;BUGS&nbsp;====================<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed&nbsp;or&nbsp;resolved.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"<br>
stands&nbsp;for&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us<br>
but&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
bugzilla&nbsp;(https://bugs.kde.org/enter_bug.cgi?product=valgrind)&nbsp;rather<br>
than&nbsp;mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that<br>
are&nbsp;not&nbsp;entered&nbsp;into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
To&nbsp;see&nbsp;details&nbsp;of&nbsp;a&nbsp;given&nbsp;bug,&nbsp;visit<br>
&nbsp;&nbsp;https://bugs.kde.org/show_bug.cgi?id=XXXXXX<br>
where&nbsp;XXXXXX&nbsp;is&nbsp;the&nbsp;bug&nbsp;number&nbsp;as&nbsp;listed&nbsp;below.<br>
<br>
123837&nbsp;&nbsp;system&nbsp;call:&nbsp;4th&nbsp;argument&nbsp;is&nbsp;optional,&nbsp;depending&nbsp;on&nbsp;cmd<br>
135425&nbsp;&nbsp;memcheck&nbsp;should&nbsp;tell&nbsp;you&nbsp;where&nbsp;Freed&nbsp;blocks&nbsp;were&nbsp;Mallocd<br>
164485&nbsp;&nbsp;VG_N_SEGNAMES&nbsp;and&nbsp;VG_N_SEGMENTS&nbsp;are&nbsp;(still)&nbsp;too&nbsp;small<br>
207815&nbsp;&nbsp;Adds&nbsp;some&nbsp;of&nbsp;the&nbsp;drm&nbsp;ioctls&nbsp;to&nbsp;syswrap-linux.c&nbsp;<br>
251569&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0xF&nbsp;0x1&nbsp;0xF9&nbsp;0xBF&nbsp;0x90&nbsp;0xD0&nbsp;0x3&nbsp;0x0&nbsp;(RDTSCP)<br>
252955&nbsp;&nbsp;Impossible&nbsp;to&nbsp;compile&nbsp;with&nbsp;ccache<br>
253519&nbsp;&nbsp;Memcheck&nbsp;reports&nbsp;auxv&nbsp;pointer&nbsp;accesses&nbsp;as&nbsp;invalid&nbsp;reads.<br>
263034&nbsp;&nbsp;Crash&nbsp;when&nbsp;loading&nbsp;some&nbsp;PPC64&nbsp;binaries<br>
269599&nbsp;&nbsp;Increase&nbsp;deepest&nbsp;backtrace<br>
274695&nbsp;&nbsp;s390x:&nbsp;Support&nbsp;"compare&nbsp;to/from&nbsp;logical"&nbsp;instructions&nbsp;(z196)<br>
275800&nbsp;&nbsp;s390x:&nbsp;Autodetect&nbsp;cache&nbsp;info&nbsp;(part&nbsp;2)<br>
280271&nbsp;&nbsp;Valgrind&nbsp;reports&nbsp;possible&nbsp;memory&nbsp;leaks&nbsp;on&nbsp;still-reachable&nbsp;std::string<br>
284540&nbsp;&nbsp;Memcheck&nbsp;shouldn't&nbsp;count&nbsp;suppressions&nbsp;matching&nbsp;still-reachable&nbsp;[..]<br>
289578&nbsp;&nbsp;Backtraces&nbsp;with&nbsp;ARM&nbsp;unwind&nbsp;tables&nbsp;(stack&nbsp;scan&nbsp;flags)<br>
296311&nbsp;&nbsp;Wrong&nbsp;stack&nbsp;traces&nbsp;due&nbsp;to&nbsp;-fomit-frame-pointer&nbsp;(x86)&nbsp;<br>
304832&nbsp;&nbsp;ppc32:&nbsp;build&nbsp;failure<br>
305431&nbsp;&nbsp;Use&nbsp;find_buildid&nbsp;shdr&nbsp;fallback&nbsp;for&nbsp;separate&nbsp;.debug&nbsp;files<br>
305728&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;AVX2&nbsp;instructions<br>
305948&nbsp;&nbsp;ppc64:&nbsp;code&nbsp;generation&nbsp;for&nbsp;ShlD64&nbsp;/&nbsp;ShrD64&nbsp;asserts<br>
306035&nbsp;&nbsp;s390x:&nbsp;Fix&nbsp;IR&nbsp;generation&nbsp;for&nbsp;LAAG&nbsp;and&nbsp;friends<br>
306054&nbsp;&nbsp;s390x:&nbsp;Condition&nbsp;code&nbsp;computation&nbsp;for&nbsp;convert-to-int/logical<br>
306098&nbsp;&nbsp;s390x:&nbsp;alternate&nbsp;opcode&nbsp;form&nbsp;for&nbsp;convert&nbsp;to/from&nbsp;fixed<br>
306587&nbsp;&nbsp;Fix&nbsp;cache&nbsp;line&nbsp;detection&nbsp;from&nbsp;auxiliary&nbsp;vector&nbsp;for&nbsp;PPC.<br>
306783&nbsp;&nbsp;Mips&nbsp;unhandled&nbsp;syscall&nbsp;:&nbsp;&nbsp;4025&nbsp;&nbsp;/&nbsp;&nbsp;4079&nbsp;&nbsp;/&nbsp;4182<br>
307038&nbsp;&nbsp;DWARF2&nbsp;CFI&nbsp;reader:&nbsp;unhandled&nbsp;DW_OP_&nbsp;opcode&nbsp;0x8&nbsp;(DW_OP_const1u&nbsp;et&nbsp;al)<br>
307082&nbsp;&nbsp;HG&nbsp;false&nbsp;positive:&nbsp;pthread_cond_destroy:&nbsp;destruction&nbsp;of&nbsp;unknown&nbsp;CV<br>
307101&nbsp;&nbsp;sys_capget&nbsp;second&nbsp;argument&nbsp;can&nbsp;be&nbsp;NULL<br>
307103&nbsp;&nbsp;sys_openat:&nbsp;If&nbsp;pathname&nbsp;is&nbsp;absolute,&nbsp;then&nbsp;dirfd&nbsp;is&nbsp;ignored.<br>
307106&nbsp;&nbsp;amd64-&gt;IR:&nbsp;f0&nbsp;0f&nbsp;c0&nbsp;02&nbsp;(lock&nbsp;xadd&nbsp;byte)<br>
307113&nbsp;&nbsp;s390x:&nbsp;DFP&nbsp;support<br>
307141&nbsp;&nbsp;valgrind&nbsp;does't&nbsp;work&nbsp;in&nbsp;mips-linux&nbsp;system<br>
307155&nbsp;&nbsp;filter_gdb&nbsp;should&nbsp;filter&nbsp;out&nbsp;syscall-template.S&nbsp;T_PSEUDO<br>
307285&nbsp;&nbsp;x86_amd64&nbsp;feature&nbsp;test&nbsp;for&nbsp;avx&nbsp;in&nbsp;test&nbsp;suite&nbsp;is&nbsp;wrong<br>
307290&nbsp;&nbsp;memcheck&nbsp;overlap&nbsp;testcase&nbsp;needs&nbsp;memcpy&nbsp;version&nbsp;filter<br>
307463&nbsp;&nbsp;Please&nbsp;add&nbsp;"&amp;limit=0"&nbsp;to&nbsp;the&nbsp;"all&nbsp;open&nbsp;bugs"&nbsp;link<br>
307465&nbsp;&nbsp;--show-possibly-lost=no&nbsp;should&nbsp;reduce&nbsp;the&nbsp;error&nbsp;count&nbsp;/&nbsp;exit&nbsp;code<br>
307557&nbsp;&nbsp;Leaks&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;10.7.5&nbsp;libraries&nbsp;at&nbsp;ImageLoader::recursiveInit[..]<br>
307729&nbsp;&nbsp;pkgconfig&nbsp;support&nbsp;broken&nbsp;valgrind.pc<br>
307828&nbsp;&nbsp;Memcheck&nbsp;false&nbsp;errors&nbsp;SSE&nbsp;optimized&nbsp;wcscpy,&nbsp;wcscmp,&nbsp;wcsrchr,&nbsp;wcschr<br>
307955&nbsp;&nbsp;Building&nbsp;valgrind&nbsp;3.7.0-r4&nbsp;fails&nbsp;in&nbsp;Gentoo&nbsp;AMD64&nbsp;when&nbsp;using&nbsp;clang<br>
308089&nbsp;&nbsp;Unhandled&nbsp;syscall&nbsp;on&nbsp;ppc64:&nbsp;prctl<br>
308135&nbsp;&nbsp;PPC32&nbsp;MPC8xx&nbsp;has&nbsp;16&nbsp;bytes&nbsp;cache&nbsp;size<br>
308321&nbsp;&nbsp;testsuite&nbsp;memcheck&nbsp;filter&nbsp;interferes&nbsp;with&nbsp;gdb_filter&nbsp;<br>
308333&nbsp;==&nbsp;307106<br>
308341&nbsp;&nbsp;vgdb&nbsp;should&nbsp;report&nbsp;process&nbsp;exit&nbsp;(or&nbsp;fatal&nbsp;signal)<br>
308427&nbsp;&nbsp;s390&nbsp;memcheck&nbsp;reports&nbsp;tsearch&nbsp;cjump/cmove&nbsp;depends&nbsp;on&nbsp;uninit<br>
308495&nbsp;&nbsp;Remove&nbsp;build&nbsp;dependency&nbsp;on&nbsp;installed&nbsp;Xen&nbsp;headers<br>
308573&nbsp;&nbsp;Internal&nbsp;error&nbsp;on&nbsp;64-bit&nbsp;instruction&nbsp;executed&nbsp;in&nbsp;32-bit&nbsp;mode<br>
308626&nbsp;&nbsp;==&nbsp;308627<br>
308627&nbsp;&nbsp;pmovmskb&nbsp;validity&nbsp;bit&nbsp;propagation&nbsp;is&nbsp;imprecise<br>
308644&nbsp;&nbsp;vgdb&nbsp;command&nbsp;for&nbsp;having&nbsp;the&nbsp;info&nbsp;for&nbsp;the&nbsp;track-fds&nbsp;option<br>
308711&nbsp;&nbsp;give&nbsp;more&nbsp;info&nbsp;about&nbsp;aspacemgr&nbsp;and&nbsp;arenas&nbsp;in&nbsp;out_of_memory<br>
308717&nbsp;&nbsp;ARM:&nbsp;implement&nbsp;fixed-point&nbsp;VCVT.F64.[SU]32<br>
308718&nbsp;&nbsp;ARM&nbsp;implement&nbsp;SMLALBB&nbsp;family&nbsp;of&nbsp;instructions<br>
308886&nbsp;&nbsp;Missing&nbsp;support&nbsp;for&nbsp;PTRACE_SET/GETREGSET&nbsp;<br>
308930&nbsp;&nbsp;syscall&nbsp;name_to_handle_at&nbsp;(303&nbsp;on&nbsp;amd64)&nbsp;not&nbsp;handled<br>
309229&nbsp;&nbsp;V-bit&nbsp;tester&nbsp;does&nbsp;not&nbsp;report&nbsp;number&nbsp;of&nbsp;tests&nbsp;generated<br>
309323&nbsp;&nbsp;print&nbsp;unrecognized&nbsp;instuction&nbsp;on&nbsp;MIPS<br>
309425&nbsp;&nbsp;Provide&nbsp;a&nbsp;--sigill-diagnostics&nbsp;flag&nbsp;to&nbsp;suppress&nbsp;illegal&nbsp;[..]<br>
309427&nbsp;&nbsp;SSE&nbsp;optimized&nbsp;stpncpy&nbsp;trigger&nbsp;uninitialised&nbsp;value&nbsp;[..]&nbsp;errors<br>
309430&nbsp;&nbsp;Self&nbsp;hosting&nbsp;ppc64&nbsp;encounters&nbsp;a&nbsp;vassert&nbsp;error&nbsp;on&nbsp;operand&nbsp;type<br>
309600&nbsp;&nbsp;valgrind&nbsp;is&nbsp;a&nbsp;bit&nbsp;confused&nbsp;about&nbsp;0-sized&nbsp;sections<br>
309823&nbsp;&nbsp;Generate&nbsp;errors&nbsp;for&nbsp;still&nbsp;reachable&nbsp;blocks<br>
309921&nbsp;&nbsp;PCMPISTRI&nbsp;validity&nbsp;bit&nbsp;propagation&nbsp;is&nbsp;imprecise<br>
309922&nbsp;&nbsp;none/tests/ppc64/test_dfp5&nbsp;sometimes&nbsp;fails<br>
310169&nbsp;&nbsp;The&nbsp;Iop_CmpORD&nbsp;class&nbsp;of&nbsp;Iops&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the&nbsp;vbit&nbsp;checker.<br>
310424&nbsp;&nbsp;--read-var-info&nbsp;does&nbsp;not&nbsp;properly&nbsp;describe&nbsp;static&nbsp;variables&nbsp;<br>
310792&nbsp;&nbsp;search&nbsp;additional&nbsp;path&nbsp;for&nbsp;debug&nbsp;symbols<br>
310931&nbsp;&nbsp;s390x:&nbsp;Message-security&nbsp;assist&nbsp;(MSA)&nbsp;instruction&nbsp;extension&nbsp;[..]<br>
311100&nbsp;&nbsp;PPC&nbsp;DFP&nbsp;implementation&nbsp;of&nbsp;the&nbsp;integer&nbsp;operands&nbsp;is&nbsp;inconsistent&nbsp;[..]<br>
311318&nbsp;&nbsp;ARM:&nbsp;"128-bit&nbsp;constant&nbsp;is&nbsp;not&nbsp;implemented"&nbsp;error&nbsp;message<br>
311407&nbsp;&nbsp;ssse3&nbsp;bcopy&nbsp;(actually&nbsp;converted&nbsp;memcpy)&nbsp;causes&nbsp;invalid&nbsp;read&nbsp;[..]<br>
311690&nbsp;&nbsp;V&nbsp;crashes&nbsp;because&nbsp;it&nbsp;redirects&nbsp;branches&nbsp;inside&nbsp;of&nbsp;a&nbsp;redirected&nbsp;function<br>
311880&nbsp;&nbsp;x86_64:&nbsp;make&nbsp;regtest&nbsp;hangs&nbsp;at&nbsp;shell_valid1<br>
311922&nbsp;&nbsp;WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;170<br>
311933&nbsp;&nbsp;==&nbsp;251569<br>
312171&nbsp;&nbsp;ppc:&nbsp;insn&nbsp;selection&nbsp;for&nbsp;DFP<br>
312571&nbsp;&nbsp;Rounding&nbsp;mode&nbsp;call&nbsp;wrong&nbsp;for&nbsp;the&nbsp;DFP&nbsp;Iops&nbsp;[..]<br>
312620&nbsp;&nbsp;Change&nbsp;to&nbsp;Iop_D32toD64&nbsp;[..]&nbsp;for&nbsp;s390&nbsp;DFP&nbsp;support&nbsp;broke&nbsp;ppc&nbsp;[..]<br>
312913&nbsp;&nbsp;Dangling&nbsp;pointers&nbsp;error&nbsp;should&nbsp;also&nbsp;report&nbsp;the&nbsp;alloc&nbsp;stack&nbsp;trace<br>
312980&nbsp;&nbsp;Building&nbsp;on&nbsp;Mountain&nbsp;Lion&nbsp;generates&nbsp;some&nbsp;compiler&nbsp;warnings<br>
313267&nbsp;&nbsp;Adding&nbsp;MIPS64/Linux&nbsp;port&nbsp;to&nbsp;Valgrind<br>
313348&nbsp;&nbsp;==&nbsp;251569<br>
313354&nbsp;&nbsp;==&nbsp;251569<br>
313811&nbsp;&nbsp;Buffer&nbsp;overflow&nbsp;in&nbsp;assert_fail<br>
314099&nbsp;&nbsp;coverity&nbsp;pointed&nbsp;out&nbsp;error&nbsp;in&nbsp;VEX&nbsp;guest_ppc_toIR.c&nbsp;insn_suffix<br>
314269&nbsp;&nbsp;ppc:&nbsp;dead&nbsp;code&nbsp;in&nbsp;insn&nbsp;selection<br>
314718&nbsp;&nbsp;ARM:&nbsp;implement&nbsp;integer&nbsp;divide&nbsp;instruction&nbsp;(sdiv&nbsp;and&nbsp;udiv)<br>
315345&nbsp;&nbsp;cl-format.xml&nbsp;and&nbsp;callgrind/dump.c&nbsp;don't&nbsp;agree&nbsp;on&nbsp;using&nbsp;cfl=&nbsp;or&nbsp;cfi=<br>
315441&nbsp;&nbsp;sendmsg&nbsp;syscall&nbsp;should&nbsp;ignore&nbsp;unset&nbsp;msghdr&nbsp;msg_flags<br>
315534&nbsp;&nbsp;msgrcv&nbsp;inside&nbsp;a&nbsp;thread&nbsp;causes&nbsp;valgrind&nbsp;to&nbsp;hang&nbsp;(block)<br>
315545&nbsp;&nbsp;Assertion&nbsp;'(UChar*)sec-&gt;tt[tteNo].tcptr&nbsp;&lt;=&nbsp;(UChar*)hcode'&nbsp;failed<br>
315689&nbsp;&nbsp;disInstr(thumb):&nbsp;unhandled&nbsp;instruction:&nbsp;0xF852&nbsp;0x0E10&nbsp;(LDRT)<br>
315738&nbsp;&nbsp;disInstr(arm):&nbsp;unhandled&nbsp;instruction:&nbsp;0xEEBE0BEE&nbsp;(vcvt.s32.f64)<br>
315959&nbsp;&nbsp;valgrind&nbsp;man&nbsp;page&nbsp;has&nbsp;bogus&nbsp;SGCHECK&nbsp;(and&nbsp;no&nbsp;BBV)&nbsp;OPTIONS&nbsp;section<br>
316144&nbsp;&nbsp;valgrind.1&nbsp;manpage&nbsp;contains&nbsp;unknown&nbsp;???&nbsp;strings&nbsp;[..]<br>
316145&nbsp;&nbsp;callgrind&nbsp;command&nbsp;line&nbsp;options&nbsp;in&nbsp;manpage&nbsp;reference&nbsp;(unknown)&nbsp;[..]<br>
316145&nbsp;&nbsp;callgrind&nbsp;command&nbsp;line&nbsp;options&nbsp;in&nbsp;manpage&nbsp;reference&nbsp;[..]<br>
316181&nbsp;&nbsp;drd:&nbsp;Fixed&nbsp;a&nbsp;4x&nbsp;slowdown&nbsp;for&nbsp;certain&nbsp;applications<br>
316503&nbsp;&nbsp;Valgrind&nbsp;does&nbsp;not&nbsp;support&nbsp;SSE4&nbsp;"movntdqa"&nbsp;instruction<br>
316535&nbsp;&nbsp;Use&nbsp;of&nbsp;|signed&nbsp;int|&nbsp;instead&nbsp;of&nbsp;|size_t|&nbsp;in&nbsp;valgrind&nbsp;messages<br>
316696&nbsp;&nbsp;&nbsp;fluidanimate&nbsp;program&nbsp;of&nbsp;parsec&nbsp;2.1&nbsp;stuck&nbsp;<br>
316761&nbsp;&nbsp;syscall&nbsp;open_by_handle_at&nbsp;(304&nbsp;on&nbsp;amd64,&nbsp;342&nbsp;on&nbsp;x86)&nbsp;not&nbsp;handled<br>
317091&nbsp;&nbsp;Use&nbsp;-Wl,-Ttext-segment&nbsp;when&nbsp;static&nbsp;linking&nbsp;if&nbsp;possible&nbsp;[..]<br>
317186&nbsp;&nbsp;"Impossible&nbsp;happens"&nbsp;when&nbsp;occurs&nbsp;VCVT&nbsp;instruction&nbsp;on&nbsp;ARM<br>
317318&nbsp;&nbsp;Support&nbsp;for&nbsp;Threading&nbsp;Building&nbsp;Blocks&nbsp;"scalable_malloc"<br>
317444&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0xC4&nbsp;0x41&nbsp;0x2C&nbsp;0xC2&nbsp;0xD2&nbsp;0x8&nbsp;(vcmpeq_uqps)<br>
317461&nbsp;&nbsp;Fix&nbsp;BMI&nbsp;assembler&nbsp;configure&nbsp;check&nbsp;and&nbsp;avx2/bmi/fma&nbsp;vgtest&nbsp;prereqs<br>
317463&nbsp;&nbsp;bmi&nbsp;testcase&nbsp;IR&nbsp;SANITY&nbsp;CHECK&nbsp;FAILURE<br>
317506&nbsp;&nbsp;memcheck/tests/vbit-test&nbsp;fails&nbsp;with&nbsp;unknown&nbsp;opcode&nbsp;after&nbsp;[..]<br>
318050&nbsp;&nbsp;libmpiwrap&nbsp;fails&nbsp;to&nbsp;compile&nbsp;with&nbsp;out-of-source&nbsp;build<br>
318203&nbsp;&nbsp;setsockopt&nbsp;handling&nbsp;needs&nbsp;to&nbsp;handle&nbsp;SOL_SOCKET/SO_ATTACH_FILTER<br>
318643&nbsp;&nbsp;annotate_trace_memory&nbsp;tests&nbsp;infinite&nbsp;loop&nbsp;on&nbsp;arm&nbsp;and&nbsp;ppc&nbsp;[..]<br>
318773&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0xF3&nbsp;0x48&nbsp;0x0F&nbsp;0xBC&nbsp;0xC2&nbsp;0xC3&nbsp;0x66&nbsp;0x0F<br>
318929&nbsp;&nbsp;Crash&nbsp;with:&nbsp;disInstr(thumb):&nbsp;0xF321&nbsp;0x0001&nbsp;(ssat16)<br>
318932&nbsp;&nbsp;Add&nbsp;missing&nbsp;PPC64&nbsp;and&nbsp;PPC32&nbsp;system&nbsp;call&nbsp;support<br>
319235&nbsp;&nbsp;--db-attach=yes&nbsp;is&nbsp;broken&nbsp;with&nbsp;Yama&nbsp;(ptrace&nbsp;scoping)&nbsp;enabled<br>
319395&nbsp;&nbsp;Crash&nbsp;with&nbsp;unhandled&nbsp;instruction&nbsp;on&nbsp;STRT&nbsp;(Thumb)&nbsp;instructions<br>
319494&nbsp;&nbsp;VEX&nbsp;Makefile-gcc&nbsp;standalone&nbsp;build&nbsp;update&nbsp;after&nbsp;r2702<br>
319505&nbsp;&nbsp;[MIPSEL]&nbsp;Crash:&nbsp;unhandled&nbsp;UNRAY&nbsp;operator.<br>
319858&nbsp;&nbsp;disInstr(thumb):&nbsp;unhandled&nbsp;instruction&nbsp;on&nbsp;instruction&nbsp;STRBT<br>
319932&nbsp;&nbsp;disInstr(thumb):&nbsp;unhandled&nbsp;instruction&nbsp;on&nbsp;instruction&nbsp;STRHT<br>
320057&nbsp;&nbsp;Problems&nbsp;when&nbsp;we&nbsp;try&nbsp;to&nbsp;mmap&nbsp;more&nbsp;than&nbsp;12&nbsp;memory&nbsp;pages&nbsp;on&nbsp;MIPS32<br>
320063&nbsp;&nbsp;Memory&nbsp;from&nbsp;PTRACE_GET_THREAD_AREA&nbsp;is&nbsp;reported&nbsp;uninitialised<br>
320083&nbsp;&nbsp;disInstr(thumb):&nbsp;unhandled&nbsp;instruction&nbsp;on&nbsp;instruction&nbsp;LDRBT<br>
320116&nbsp;&nbsp;bind&nbsp;on&nbsp;AF_BLUETOOTH&nbsp;produces&nbsp;warnings&nbsp;because&nbsp;of&nbsp;sockaddr_rc&nbsp;padding<br>
320131&nbsp;&nbsp;WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;369&nbsp;on&nbsp;ARM&nbsp;(prlimit64)<br>
320211&nbsp;&nbsp;Stack&nbsp;buffer&nbsp;overflow&nbsp;in&nbsp;./coregrind/m_main.c&nbsp;with&nbsp;huge&nbsp;TMPDIR<br>
320661&nbsp;&nbsp;vgModuleLocal_read_elf_debug_info():&nbsp;"Assertion&nbsp;'!di-&gt;soname'<br>
320895&nbsp;&nbsp;add&nbsp;fanotify&nbsp;support&nbsp;(patch&nbsp;included)<br>
320998&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR&nbsp;pcmpestri&nbsp;and&nbsp;pcmpestrm&nbsp;SSE4.2&nbsp;instruction<br>
321065&nbsp;&nbsp;Valgrind&nbsp;updates&nbsp;for&nbsp;Xen&nbsp;4.3<br>
321148&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;PLI&nbsp;(Thumb&nbsp;1,&nbsp;2,&nbsp;3)<br>
321363&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;SSAX&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321364&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;SXTAB16&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321466&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;SHASX&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321467&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;SHSAX&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321468&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;SHSUB16&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321619&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;SHSUB8&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321620&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;UASX&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321621&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;USAX&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321692&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;UQADD16&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321693&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;LDRSBT&nbsp;(Thumb)<br>
321694&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;UQASX&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321696&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;UQSAX&nbsp;(Thumb&nbsp;+&nbsp;ARM)<br>
321697&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;UHASX&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321703&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;UHSAX&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321704&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;REVSH&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
321730&nbsp;&nbsp;Add&nbsp;cg_diff&nbsp;and&nbsp;cg_merge&nbsp;man&nbsp;pages<br>
321738&nbsp;&nbsp;Add&nbsp;vgdb&nbsp;and&nbsp;valgrind-listener&nbsp;man&nbsp;pages<br>
321814&nbsp;&nbsp;==&nbsp;315545<br>
321891&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;LDRHT&nbsp;(Thumb)<br>
321960&nbsp;&nbsp;pthread_create()&nbsp;then&nbsp;alloca()&nbsp;causing&nbsp;invalid&nbsp;stack&nbsp;write&nbsp;errors<br>
321969&nbsp;&nbsp;ppc32&nbsp;and&nbsp;ppc64&nbsp;don't&nbsp;support&nbsp;[lf]setxattr<br>
322254&nbsp;&nbsp;Show&nbsp;threadname&nbsp;together&nbsp;with&nbsp;tid&nbsp;if&nbsp;set&nbsp;by&nbsp;application<br>
322294&nbsp;&nbsp;Add&nbsp;initial&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.07<br>
322368&nbsp;&nbsp;Assertion&nbsp;failure&nbsp;in&nbsp;wqthread_hijack&nbsp;under&nbsp;OS&nbsp;X&nbsp;10.8<br>
322563&nbsp;&nbsp;vex&nbsp;mips-&gt;IR:&nbsp;0x70&nbsp;0x83&nbsp;0xF0&nbsp;0x3A<br>
322807&nbsp;&nbsp;VALGRIND_PRINTF_BACKTRACE&nbsp;writes&nbsp;callstack&nbsp;to&nbsp;xml&nbsp;and&nbsp;text&nbsp;to&nbsp;stderr<br>
322851&nbsp;&nbsp;0bXXX&nbsp;binary&nbsp;literal&nbsp;syntax&nbsp;is&nbsp;not&nbsp;standard&nbsp;<br>
323035&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;LDRSHT(Thumb)<br>
323036&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;SMMLS&nbsp;(ARM&nbsp;and&nbsp;Thumb)<br>
323116&nbsp;&nbsp;The&nbsp;memcheck/tests/ppc64/power_ISA2_05.c&nbsp;fails&nbsp;to&nbsp;build&nbsp;[..]<br>
323175&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;SMLALD&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
323177&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;SMLSLD&nbsp;(ARM&nbsp;+&nbsp;Thumb)<br>
323432&nbsp;&nbsp;Calling&nbsp;pthread_cond_destroy()&nbsp;or&nbsp;pthread_mutex_destroy()&nbsp;[..]<br>
323437&nbsp;&nbsp;Phase&nbsp;2&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.07<br>
323713&nbsp;&nbsp;Support&nbsp;mmxext&nbsp;(integer&nbsp;sse)&nbsp;subset&nbsp;on&nbsp;i386&nbsp;(athlon)<br>
323803&nbsp;&nbsp;Transactional&nbsp;memory&nbsp;instructions&nbsp;are&nbsp;not&nbsp;supported&nbsp;for&nbsp;Power<br>
323893&nbsp;&nbsp;SSE3&nbsp;not&nbsp;available&nbsp;on&nbsp;amd&nbsp;cpus&nbsp;in&nbsp;valgrind<br>
323905&nbsp;&nbsp;Probable&nbsp;false&nbsp;positive&nbsp;from&nbsp;Valgrind/drd&nbsp;on&nbsp;close()<br>
323912&nbsp;&nbsp;valgrind.h&nbsp;header&nbsp;isn't&nbsp;compatible&nbsp;for&nbsp;mingw64<br>
324047&nbsp;&nbsp;Valgrind&nbsp;doesn't&nbsp;support&nbsp;[LDR,ST]{S}[B,H]T&nbsp;ARM&nbsp;instructions<br>
324149&nbsp;&nbsp;helgrind:&nbsp;When&nbsp;pthread_cond_timedwait&nbsp;returns&nbsp;ETIMEDOUT&nbsp;[..]<br>
324181&nbsp;&nbsp;mmap&nbsp;does&nbsp;not&nbsp;handle&nbsp;MAP_32BIT<br>
324227&nbsp;&nbsp;memcheck&nbsp;false&nbsp;positive&nbsp;leak&nbsp;when&nbsp;a&nbsp;thread&nbsp;calls&nbsp;exit+block&nbsp;[..]<br>
324421&nbsp;&nbsp;Support&nbsp;for&nbsp;fanotify&nbsp;API&nbsp;on&nbsp;ARM&nbsp;architecture<br>
324514&nbsp;&nbsp;gdbserver&nbsp;monitor&nbsp;cmd&nbsp;output&nbsp;behaviour&nbsp;consistency&nbsp;[..]<br>
324518&nbsp;&nbsp;ppc64:&nbsp;Emulation&nbsp;of&nbsp;dcbt&nbsp;instructions&nbsp;does&nbsp;not&nbsp;handle&nbsp;[..]<br>
324546&nbsp;&nbsp;none/tests/ppc32&nbsp;test_isa_2_07_part2&nbsp;requests&nbsp;-m64<br>
324582&nbsp;&nbsp;When&nbsp;access&nbsp;is&nbsp;made&nbsp;to&nbsp;freed&nbsp;memory,&nbsp;report&nbsp;both&nbsp;allocation&nbsp;[..]<br>
324594&nbsp;&nbsp;Fix&nbsp;overflow&nbsp;computation&nbsp;for&nbsp;Power&nbsp;ISA&nbsp;2.06&nbsp;insns:&nbsp;mulldo/mulldo.<br>
324765&nbsp;&nbsp;ppc64:&nbsp;illegal&nbsp;instruction&nbsp;when&nbsp;executing&nbsp;none/tests/ppc64/jm-misc<br>
324816&nbsp;&nbsp;Incorrect&nbsp;VEX&nbsp;implementation&nbsp;for&nbsp;xscvspdp/xvcvspdp&nbsp;for&nbsp;SNaN&nbsp;inputs<br>
324834&nbsp;&nbsp;Unhandled&nbsp;instructions&nbsp;in&nbsp;Microsoft&nbsp;C&nbsp;run-time&nbsp;for&nbsp;x86_64<br>
324894&nbsp;&nbsp;Phase&nbsp;3&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.07<br>
326091&nbsp;&nbsp;drd:&nbsp;Avoid&nbsp;false&nbsp;race&nbsp;reports&nbsp;from&nbsp;optimized&nbsp;strlen()&nbsp;impls<br>
326113&nbsp;&nbsp;valgrind&nbsp;libvex&nbsp;hwcaps&nbsp;error&nbsp;on&nbsp;AMD64&nbsp;<br>
n-i-bz&nbsp;&nbsp;Some&nbsp;wrong&nbsp;command&nbsp;line&nbsp;options&nbsp;could&nbsp;be&nbsp;ignored<br>
n-i-bz&nbsp;&nbsp;patch&nbsp;to&nbsp;allow&nbsp;fair-sched&nbsp;on&nbsp;android<br>
n-i-bz&nbsp;&nbsp;report&nbsp;error&nbsp;for&nbsp;vgdb&nbsp;snapshot&nbsp;requested&nbsp;before&nbsp;execution<br>
n-i-bz&nbsp;&nbsp;same&nbsp;as&nbsp;303624&nbsp;(fixed&nbsp;in&nbsp;3.8.0),&nbsp;but&nbsp;for&nbsp;x86&nbsp;android<br>
<br>
(3.9.0:&nbsp;31&nbsp;October&nbsp;2013,&nbsp;vex&nbsp;r2796,&nbsp;valgrind&nbsp;r13708)<br>
<br>
<br>
<br>
Release&nbsp;3.8.1&nbsp;(19&nbsp;September&nbsp;2012)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.8.1&nbsp;is&nbsp;a&nbsp;bug&nbsp;fix&nbsp;release.&nbsp;&nbsp;It&nbsp;fixes&nbsp;some&nbsp;assertion&nbsp;failures&nbsp;in&nbsp;3.8.0<br>
that&nbsp;occur&nbsp;moderately&nbsp;frequently&nbsp;in&nbsp;real&nbsp;use&nbsp;cases,&nbsp;adds&nbsp;support&nbsp;for<br>
some&nbsp;missing&nbsp;instructions&nbsp;on&nbsp;ARM,&nbsp;and&nbsp;fixes&nbsp;a&nbsp;deadlock&nbsp;condition&nbsp;on<br>
MacOSX.&nbsp;&nbsp;If&nbsp;you&nbsp;package&nbsp;or&nbsp;deliver&nbsp;3.8.0&nbsp;for&nbsp;others&nbsp;to&nbsp;use,&nbsp;you&nbsp;might<br>
want&nbsp;to&nbsp;consider&nbsp;upgrading&nbsp;to&nbsp;3.8.1&nbsp;instead.<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed&nbsp;or&nbsp;resolved.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"<br>
stands&nbsp;for&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us<br>
but&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
bugzilla&nbsp;(https://bugs.kde.org/enter_bug.cgi?product=valgrind)&nbsp;rather<br>
than&nbsp;mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that<br>
are&nbsp;not&nbsp;entered&nbsp;into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
To&nbsp;see&nbsp;details&nbsp;of&nbsp;a&nbsp;given&nbsp;bug,&nbsp;visit<br>
&nbsp;&nbsp;https://bugs.kde.org/show_bug.cgi?id=XXXXXX<br>
where&nbsp;XXXXXX&nbsp;is&nbsp;the&nbsp;bug&nbsp;number&nbsp;as&nbsp;listed&nbsp;below.<br>
<br>
284004&nbsp;&nbsp;==&nbsp;301281<br>
289584&nbsp;&nbsp;Unhandled&nbsp;instruction:&nbsp;0xF&nbsp;0x29&nbsp;0xE5&nbsp;(MOVAPS)<br>
295808&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0xF3&nbsp;0xF&nbsp;0xBC&nbsp;0xC0&nbsp;(TZCNT)<br>
298281&nbsp;&nbsp;wcslen&nbsp;causes&nbsp;false(?)&nbsp;uninitialised&nbsp;value&nbsp;warnings<br>
301281&nbsp;&nbsp;valgrind&nbsp;hangs&nbsp;on&nbsp;OS&nbsp;X&nbsp;when&nbsp;the&nbsp;process&nbsp;calls&nbsp;system()<br>
304035&nbsp;&nbsp;disInstr(arm):&nbsp;unhandled&nbsp;instruction&nbsp;0xE1023053<br>
304867&nbsp;&nbsp;implement&nbsp;MOVBE&nbsp;instruction&nbsp;in&nbsp;x86&nbsp;mode<br>
304980&nbsp;&nbsp;Assertion&nbsp;'lo&nbsp;&lt;=&nbsp;hi'&nbsp;failed&nbsp;in&nbsp;vgModuleLocal_find_rx_mapping<br>
305042&nbsp;&nbsp;amd64:&nbsp;implement&nbsp;0F&nbsp;7F&nbsp;encoding&nbsp;of&nbsp;movq&nbsp;between&nbsp;two&nbsp;registers<br>
305199&nbsp;&nbsp;ARM:&nbsp;implement&nbsp;QDADD&nbsp;and&nbsp;QDSUB<br>
305321&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0xF&nbsp;0xD&nbsp;0xC&nbsp;(prefetchw)<br>
305513&nbsp;&nbsp;killed&nbsp;by&nbsp;fatal&nbsp;signal:&nbsp;SIGSEGV<br>
305690&nbsp;&nbsp;DRD&nbsp;reporting&nbsp;invalid&nbsp;semaphore&nbsp;when&nbsp;sem_trywait&nbsp;fails<br>
305926&nbsp;&nbsp;Invalid&nbsp;alignment&nbsp;checks&nbsp;for&nbsp;some&nbsp;AVX&nbsp;instructions<br>
306297&nbsp;&nbsp;disInstr(thumb):&nbsp;unhandled&nbsp;instruction&nbsp;0xE883&nbsp;0x000C<br>
306310&nbsp;&nbsp;3.8.0&nbsp;release&nbsp;tarball&nbsp;missing&nbsp;some&nbsp;files<br>
306612&nbsp;&nbsp;RHEL&nbsp;6&nbsp;glibc-2.X&nbsp;default&nbsp;suppressions&nbsp;need&nbsp;/lib*/libc-*patterns<br>
306664&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0x62&nbsp;0xD1&nbsp;0x46&nbsp;0x66&nbsp;0xF<br>
n-i-bz&nbsp;&nbsp;shmat&nbsp;of&nbsp;a&nbsp;segment&nbsp;&gt;&nbsp;4Gb&nbsp;does&nbsp;not&nbsp;work&nbsp;<br>
n-i-bz&nbsp;&nbsp;simulate_control_c&nbsp;script&nbsp;wrong&nbsp;USR1&nbsp;signal&nbsp;number&nbsp;on&nbsp;mips<br>
n-i-bz&nbsp;&nbsp;vgdb&nbsp;ptrace&nbsp;calls&nbsp;wrong&nbsp;on&nbsp;mips&nbsp;[...]<br>
n-i-bz&nbsp;&nbsp;Fixes&nbsp;for&nbsp;more&nbsp;MPI&nbsp;false&nbsp;positives<br>
n-i-bz&nbsp;&nbsp;exp-sgcheck's&nbsp;memcpy&nbsp;causes&nbsp;programs&nbsp;to&nbsp;segfault<br>
n-i-bz&nbsp;&nbsp;OSX&nbsp;build&nbsp;w/&nbsp;clang:&nbsp;asserts&nbsp;at&nbsp;startup<br>
n-i-bz&nbsp;&nbsp;Incorrect&nbsp;undef'dness&nbsp;prop&nbsp;for&nbsp;Iop_DPBtoBCD&nbsp;and&nbsp;Iop_BCDtoDPB<br>
n-i-bz&nbsp;&nbsp;fix&nbsp;a&nbsp;couple&nbsp;of&nbsp;union&nbsp;tag-vs-field&nbsp;mixups<br>
n-i-bz&nbsp;&nbsp;OSX:&nbsp;use&nbsp;__NR_poll_nocancel&nbsp;rather&nbsp;than&nbsp;__NR_poll<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;were&nbsp;fixed&nbsp;in&nbsp;3.8.0&nbsp;but&nbsp;not&nbsp;listed&nbsp;in&nbsp;this&nbsp;NEWS<br>
file&nbsp;at&nbsp;the&nbsp;time:<br>
<br>
254088&nbsp;&nbsp;Valgrind&nbsp;should&nbsp;know&nbsp;about&nbsp;UD2&nbsp;instruction<br>
301280&nbsp;&nbsp;==&nbsp;254088<br>
301902&nbsp;&nbsp;==&nbsp;254088<br>
304754&nbsp;&nbsp;NEWS&nbsp;blows&nbsp;TeX's&nbsp;little&nbsp;mind<br>
<br>
(3.8.1:&nbsp;19&nbsp;September&nbsp;2012,&nbsp;vex&nbsp;r2537,&nbsp;valgrind&nbsp;r12996)<br>
<br>
<br>
<br>
Release&nbsp;3.8.0&nbsp;(10&nbsp;August&nbsp;2012)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.8.0&nbsp;is&nbsp;a&nbsp;feature&nbsp;release&nbsp;with&nbsp;many&nbsp;improvements&nbsp;and&nbsp;the&nbsp;usual<br>
collection&nbsp;of&nbsp;bug&nbsp;fixes.<br>
<br>
This&nbsp;release&nbsp;supports&nbsp;X86/Linux,&nbsp;AMD64/Linux,&nbsp;ARM/Linux,&nbsp;PPC32/Linux,<br>
PPC64/Linux,&nbsp;S390X/Linux,&nbsp;MIPS/Linux,&nbsp;ARM/Android,&nbsp;X86/Android,<br>
X86/MacOSX&nbsp;10.6/10.7&nbsp;and&nbsp;AMD64/MacOSX&nbsp;10.6/10.7.&nbsp;&nbsp;Support&nbsp;for&nbsp;recent<br>
distros&nbsp;and&nbsp;toolchain&nbsp;components&nbsp;(glibc&nbsp;2.16,&nbsp;gcc&nbsp;4.7)&nbsp;has&nbsp;been&nbsp;added.<br>
There&nbsp;is&nbsp;initial&nbsp;support&nbsp;for&nbsp;MacOSX&nbsp;10.8,&nbsp;but&nbsp;it&nbsp;is&nbsp;not&nbsp;usable&nbsp;for<br>
serious&nbsp;work&nbsp;at&nbsp;present.<br>
<br>
*&nbsp;==================&nbsp;PLATFORM&nbsp;CHANGES&nbsp;=================<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;MIPS32&nbsp;platforms&nbsp;running&nbsp;Linux.&nbsp;&nbsp;Valgrind&nbsp;has&nbsp;been<br>
&nbsp;&nbsp;tested&nbsp;on&nbsp;MIPS32&nbsp;and&nbsp;MIPS32r2&nbsp;platforms&nbsp;running&nbsp;different&nbsp;Debian<br>
&nbsp;&nbsp;Squeeze&nbsp;and&nbsp;MeeGo&nbsp;distributions.&nbsp;&nbsp;Both&nbsp;little-endian&nbsp;and&nbsp;big-endian<br>
&nbsp;&nbsp;cores&nbsp;are&nbsp;supported.&nbsp;&nbsp;The&nbsp;tools&nbsp;Memcheck,&nbsp;Massif&nbsp;and&nbsp;Lackey&nbsp;have<br>
&nbsp;&nbsp;been&nbsp;tested&nbsp;and&nbsp;are&nbsp;known&nbsp;to&nbsp;work.&nbsp;See&nbsp;README.mips&nbsp;for&nbsp;more&nbsp;details.<br>
<br>
*&nbsp;Preliminary&nbsp;support&nbsp;for&nbsp;Android&nbsp;running&nbsp;on&nbsp;x86.<br>
<br>
*&nbsp;Preliminary&nbsp;(as-yet&nbsp;largely&nbsp;unusable)&nbsp;support&nbsp;for&nbsp;MacOSX&nbsp;10.8.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;Intel&nbsp;AVX&nbsp;instructions&nbsp;and&nbsp;for&nbsp;AES&nbsp;instructions.&nbsp;&nbsp;This<br>
&nbsp;&nbsp;support&nbsp;is&nbsp;available&nbsp;only&nbsp;for&nbsp;64&nbsp;bit&nbsp;code.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;POWER&nbsp;Decimal&nbsp;Floating&nbsp;Point&nbsp;instructions.<br>
<br>
*&nbsp;====================&nbsp;TOOL&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;Non-libc&nbsp;malloc&nbsp;implementations&nbsp;are&nbsp;now&nbsp;supported.&nbsp;&nbsp;This&nbsp;is&nbsp;useful<br>
&nbsp;&nbsp;for&nbsp;tools&nbsp;that&nbsp;replace&nbsp;malloc&nbsp;(Memcheck,&nbsp;Massif,&nbsp;DRD,&nbsp;Helgrind).<br>
&nbsp;&nbsp;Using&nbsp;the&nbsp;new&nbsp;option&nbsp;--soname-synonyms,&nbsp;such&nbsp;tools&nbsp;can&nbsp;be&nbsp;informed<br>
&nbsp;&nbsp;that&nbsp;the&nbsp;malloc&nbsp;implementation&nbsp;is&nbsp;either&nbsp;linked&nbsp;statically&nbsp;into&nbsp;the<br>
&nbsp;&nbsp;executable,&nbsp;or&nbsp;is&nbsp;present&nbsp;in&nbsp;some&nbsp;other&nbsp;shared&nbsp;library&nbsp;different<br>
&nbsp;&nbsp;from&nbsp;libc.so.&nbsp;&nbsp;This&nbsp;makes&nbsp;it&nbsp;possible&nbsp;to&nbsp;process&nbsp;statically&nbsp;linked<br>
&nbsp;&nbsp;programs,&nbsp;and&nbsp;programs&nbsp;using&nbsp;other&nbsp;malloc&nbsp;libraries,&nbsp;for&nbsp;example<br>
&nbsp;&nbsp;TCMalloc&nbsp;or&nbsp;JEMalloc.<br>
<br>
*&nbsp;For&nbsp;tools&nbsp;that&nbsp;provide&nbsp;their&nbsp;own&nbsp;replacement&nbsp;for&nbsp;malloc&nbsp;et&nbsp;al,&nbsp;the<br>
&nbsp;&nbsp;option&nbsp;--redzone-size=&lt;number&gt;&nbsp;allows&nbsp;users&nbsp;to&nbsp;specify&nbsp;the&nbsp;size&nbsp;of<br>
&nbsp;&nbsp;the&nbsp;padding&nbsp;blocks&nbsp;(redzones)&nbsp;added&nbsp;before&nbsp;and&nbsp;after&nbsp;each&nbsp;client<br>
&nbsp;&nbsp;allocated&nbsp;block.&nbsp;&nbsp;Smaller&nbsp;redzones&nbsp;decrease&nbsp;the&nbsp;memory&nbsp;needed&nbsp;by<br>
&nbsp;&nbsp;Valgrind.&nbsp;&nbsp;Bigger&nbsp;redzones&nbsp;increase&nbsp;the&nbsp;chance&nbsp;to&nbsp;detect&nbsp;blocks<br>
&nbsp;&nbsp;overrun&nbsp;or&nbsp;underrun.&nbsp;&nbsp;Prior&nbsp;to&nbsp;this&nbsp;change,&nbsp;the&nbsp;redzone&nbsp;size&nbsp;was<br>
&nbsp;&nbsp;hardwired&nbsp;to&nbsp;16&nbsp;bytes&nbsp;in&nbsp;Memcheck.<br>
<br>
*&nbsp;Memcheck:<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;leak_check&nbsp;GDB&nbsp;server&nbsp;monitor&nbsp;command&nbsp;now&nbsp;can<br>
&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;the&nbsp;maximum&nbsp;nr&nbsp;of&nbsp;loss&nbsp;records&nbsp;to&nbsp;output.<br>
<br>
&nbsp;&nbsp;-&nbsp;Reduction&nbsp;of&nbsp;memory&nbsp;use&nbsp;for&nbsp;applications&nbsp;allocating<br>
&nbsp;&nbsp;&nbsp;&nbsp;many&nbsp;blocks&nbsp;and/or&nbsp;having&nbsp;many&nbsp;partially&nbsp;defined&nbsp;bytes.<br>
<br>
&nbsp;&nbsp;-&nbsp;Addition&nbsp;of&nbsp;GDB&nbsp;server&nbsp;monitor&nbsp;command&nbsp;'block_list'&nbsp;that&nbsp;lists<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;addresses/sizes&nbsp;of&nbsp;the&nbsp;blocks&nbsp;of&nbsp;a&nbsp;leak&nbsp;search&nbsp;loss&nbsp;record.<br>
<br>
&nbsp;&nbsp;-&nbsp;Addition&nbsp;of&nbsp;GDB&nbsp;server&nbsp;monitor&nbsp;command&nbsp;'who_points_at'&nbsp;that&nbsp;lists<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;locations&nbsp;pointing&nbsp;at&nbsp;a&nbsp;block.<br>
<br>
&nbsp;&nbsp;-&nbsp;If&nbsp;a&nbsp;redzone&nbsp;size&nbsp;&gt;&nbsp;0&nbsp;is&nbsp;given,&nbsp;VALGRIND_MALLOCLIKE_BLOCK&nbsp;now&nbsp;will<br>
&nbsp;&nbsp;&nbsp;&nbsp;detect&nbsp;an&nbsp;invalid&nbsp;access&nbsp;of&nbsp;these&nbsp;redzones,&nbsp;by&nbsp;marking&nbsp;them<br>
&nbsp;&nbsp;&nbsp;&nbsp;noaccess.&nbsp;&nbsp;Similarly,&nbsp;if&nbsp;a&nbsp;redzone&nbsp;size&nbsp;is&nbsp;given&nbsp;for&nbsp;a&nbsp;memory<br>
&nbsp;&nbsp;&nbsp;&nbsp;pool,&nbsp;VALGRIND_MEMPOOL_ALLOC&nbsp;will&nbsp;mark&nbsp;the&nbsp;redzones&nbsp;no&nbsp;access.<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;still&nbsp;allows&nbsp;to&nbsp;find&nbsp;some&nbsp;bugs&nbsp;if&nbsp;the&nbsp;user&nbsp;has&nbsp;forgotten&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;mark&nbsp;the&nbsp;pool&nbsp;superblock&nbsp;noaccess.<br>
<br>
&nbsp;&nbsp;-&nbsp;Performance&nbsp;of&nbsp;memory&nbsp;leak&nbsp;check&nbsp;has&nbsp;been&nbsp;improved,&nbsp;especially&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;cases&nbsp;where&nbsp;there&nbsp;are&nbsp;many&nbsp;leaked&nbsp;blocks&nbsp;and/or&nbsp;many&nbsp;suppression<br>
&nbsp;&nbsp;&nbsp;&nbsp;rules&nbsp;used&nbsp;to&nbsp;suppress&nbsp;leak&nbsp;reports.<br>
<br>
&nbsp;&nbsp;-&nbsp;Reduced&nbsp;noise&nbsp;(false&nbsp;positive)&nbsp;level&nbsp;on&nbsp;MacOSX&nbsp;10.6/10.7,&nbsp;due&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;more&nbsp;precise&nbsp;analysis,&nbsp;which&nbsp;is&nbsp;important&nbsp;for&nbsp;LLVM/Clang<br>
&nbsp;&nbsp;&nbsp;&nbsp;generated&nbsp;code.&nbsp;&nbsp;This&nbsp;is&nbsp;at&nbsp;the&nbsp;cost&nbsp;of&nbsp;somewhat&nbsp;reduced<br>
&nbsp;&nbsp;&nbsp;&nbsp;performance.&nbsp;&nbsp;Note&nbsp;there&nbsp;is&nbsp;no&nbsp;change&nbsp;to&nbsp;analysis&nbsp;precision&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;costs&nbsp;on&nbsp;Linux&nbsp;targets.<br>
<br>
*&nbsp;DRD:<br>
<br>
&nbsp;&nbsp;-&nbsp;Added&nbsp;even&nbsp;more&nbsp;facilities&nbsp;that&nbsp;can&nbsp;help&nbsp;finding&nbsp;the&nbsp;cause&nbsp;of&nbsp;a&nbsp;data<br>
&nbsp;&nbsp;&nbsp;&nbsp;race,&nbsp;namely&nbsp;the&nbsp;command-line&nbsp;option&nbsp;--ptrace-addr&nbsp;and&nbsp;the&nbsp;macro<br>
&nbsp;&nbsp;&nbsp;&nbsp;DRD_STOP_TRACING_VAR(x).&nbsp;More&nbsp;information&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;manual.<br>
<br>
&nbsp;&nbsp;-&nbsp;Fixed&nbsp;a&nbsp;subtle&nbsp;bug&nbsp;that&nbsp;could&nbsp;cause&nbsp;false&nbsp;positive&nbsp;data&nbsp;race&nbsp;reports.<br>
<br>
*&nbsp;====================&nbsp;OTHER&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;The&nbsp;C++&nbsp;demangler&nbsp;has&nbsp;been&nbsp;updated&nbsp;so&nbsp;as&nbsp;to&nbsp;work&nbsp;well&nbsp;with&nbsp;C++&nbsp;<br>
&nbsp;&nbsp;compiled&nbsp;by&nbsp;up&nbsp;to&nbsp;at&nbsp;least&nbsp;g++&nbsp;4.6.<br>
<br>
*&nbsp;Tool&nbsp;developers&nbsp;can&nbsp;make&nbsp;replacement/wrapping&nbsp;more&nbsp;flexible&nbsp;thanks<br>
&nbsp;&nbsp;to&nbsp;the&nbsp;new&nbsp;option&nbsp;--soname-synonyms.&nbsp;&nbsp;This&nbsp;was&nbsp;reported&nbsp;above,&nbsp;but<br>
&nbsp;&nbsp;in&nbsp;fact&nbsp;is&nbsp;very&nbsp;general&nbsp;and&nbsp;applies&nbsp;to&nbsp;all&nbsp;function<br>
&nbsp;&nbsp;replacement/wrapping,&nbsp;not&nbsp;just&nbsp;to&nbsp;malloc-family&nbsp;functions.<br>
<br>
*&nbsp;Round-robin&nbsp;scheduling&nbsp;of&nbsp;threads&nbsp;can&nbsp;be&nbsp;selected,&nbsp;using&nbsp;the&nbsp;new<br>
&nbsp;&nbsp;option&nbsp;--fair-sched=&nbsp;yes.&nbsp;&nbsp;Prior&nbsp;to&nbsp;this&nbsp;change,&nbsp;the&nbsp;pipe-based<br>
&nbsp;&nbsp;thread&nbsp;serialisation&nbsp;mechanism&nbsp;(which&nbsp;is&nbsp;still&nbsp;the&nbsp;default)&nbsp;could<br>
&nbsp;&nbsp;give&nbsp;very&nbsp;unfair&nbsp;scheduling.&nbsp;&nbsp;--fair-sched=yes&nbsp;improves<br>
&nbsp;&nbsp;responsiveness&nbsp;of&nbsp;interactive&nbsp;multithreaded&nbsp;applications,&nbsp;and<br>
&nbsp;&nbsp;improves&nbsp;repeatability&nbsp;of&nbsp;results&nbsp;from&nbsp;the&nbsp;thread&nbsp;checkers&nbsp;Helgrind<br>
&nbsp;&nbsp;and&nbsp;DRD.<br>
<br>
*&nbsp;For&nbsp;tool&nbsp;developers:&nbsp;support&nbsp;to&nbsp;run&nbsp;Valgrind&nbsp;on&nbsp;Valgrind&nbsp;has&nbsp;been<br>
&nbsp;&nbsp;improved.&nbsp;&nbsp;We&nbsp;can&nbsp;now&nbsp;routinely&nbsp;Valgrind&nbsp;on&nbsp;Helgrind&nbsp;or&nbsp;Memcheck.<br>
<br>
*&nbsp;gdbserver&nbsp;now&nbsp;shows&nbsp;the&nbsp;float&nbsp;shadow&nbsp;registers&nbsp;as&nbsp;integer<br>
&nbsp;&nbsp;rather&nbsp;than&nbsp;float&nbsp;values,&nbsp;as&nbsp;the&nbsp;shadow&nbsp;values&nbsp;are&nbsp;mostly<br>
&nbsp;&nbsp;used&nbsp;as&nbsp;bit&nbsp;patterns.<br>
<br>
*&nbsp;Increased&nbsp;limit&nbsp;for&nbsp;the&nbsp;--num-callers&nbsp;command&nbsp;line&nbsp;flag&nbsp;to&nbsp;500.<br>
<br>
*&nbsp;Performance&nbsp;improvements&nbsp;for&nbsp;error&nbsp;matching&nbsp;when&nbsp;there&nbsp;are&nbsp;many<br>
&nbsp;&nbsp;suppression&nbsp;records&nbsp;in&nbsp;use.<br>
<br>
*&nbsp;Improved&nbsp;support&nbsp;for&nbsp;DWARF4&nbsp;debugging&nbsp;information&nbsp;(bug&nbsp;284184).<br>
<br>
*&nbsp;Initial&nbsp;support&nbsp;for&nbsp;DWZ&nbsp;compressed&nbsp;Dwarf&nbsp;debug&nbsp;info.<br>
<br>
*&nbsp;Improved&nbsp;control&nbsp;over&nbsp;the&nbsp;IR&nbsp;optimiser's&nbsp;handling&nbsp;of&nbsp;the&nbsp;tradeoff<br>
&nbsp;&nbsp;between&nbsp;performance&nbsp;and&nbsp;precision&nbsp;of&nbsp;exceptions.&nbsp;&nbsp;Specifically,<br>
&nbsp;&nbsp;--vex-iropt-precise-memory-exns&nbsp;has&nbsp;been&nbsp;removed&nbsp;and&nbsp;replaced&nbsp;by<br>
&nbsp;&nbsp;--vex-iropt-register-updates,&nbsp;with&nbsp;extended&nbsp;functionality.&nbsp;&nbsp;This<br>
&nbsp;&nbsp;allows&nbsp;the&nbsp;Valgrind&nbsp;gdbserver&nbsp;to&nbsp;always&nbsp;show&nbsp;up&nbsp;to&nbsp;date&nbsp;register<br>
&nbsp;&nbsp;values&nbsp;to&nbsp;GDB.<br>
<br>
*&nbsp;Modest&nbsp;performance&nbsp;gains&nbsp;through&nbsp;the&nbsp;use&nbsp;of&nbsp;translation&nbsp;chaining&nbsp;for<br>
&nbsp;&nbsp;JIT-generated&nbsp;code.<br>
<br>
*&nbsp;====================&nbsp;FIXED&nbsp;BUGS&nbsp;====================<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed&nbsp;or&nbsp;resolved.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"<br>
stands&nbsp;for&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us<br>
but&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
bugzilla&nbsp;(https://bugs.kde.org/enter_bug.cgi?product=valgrind)&nbsp;rather<br>
than&nbsp;mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that<br>
are&nbsp;not&nbsp;entered&nbsp;into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
To&nbsp;see&nbsp;details&nbsp;of&nbsp;a&nbsp;given&nbsp;bug,&nbsp;visit<br>
&nbsp;&nbsp;https://bugs.kde.org/show_bug.cgi?id=XXXXXX<br>
where&nbsp;XXXXXX&nbsp;is&nbsp;the&nbsp;bug&nbsp;number&nbsp;as&nbsp;listed&nbsp;below.<br>
<br>
197914&nbsp;&nbsp;Building&nbsp;valgrind&nbsp;from&nbsp;svn&nbsp;now&nbsp;requires&nbsp;automake-1.10<br>
203877&nbsp;&nbsp;increase&nbsp;to&nbsp;16Mb&nbsp;maximum&nbsp;allowed&nbsp;alignment&nbsp;for&nbsp;memalign&nbsp;et&nbsp;al<br>
219156&nbsp;&nbsp;Handle&nbsp;statically&nbsp;linked&nbsp;malloc&nbsp;or&nbsp;other&nbsp;malloc&nbsp;lib&nbsp;(e.g.&nbsp;tcmalloc)&nbsp;<br>
247386&nbsp;&nbsp;make&nbsp;perf&nbsp;does&nbsp;not&nbsp;run&nbsp;all&nbsp;performance&nbsp;tests<br>
270006&nbsp;&nbsp;Valgrind&nbsp;scheduler&nbsp;unfair&nbsp;<br>
270777&nbsp;&nbsp;Adding&nbsp;MIPS/Linux&nbsp;port&nbsp;to&nbsp;Valgrind<br>
270796&nbsp;&nbsp;s390x:&nbsp;Removed&nbsp;broken&nbsp;support&nbsp;for&nbsp;the&nbsp;TS&nbsp;insn<br>
271438&nbsp;&nbsp;Fix&nbsp;configure&nbsp;for&nbsp;proper&nbsp;SSE4.2&nbsp;detection<br>
273114&nbsp;&nbsp;s390x:&nbsp;Support&nbsp;TR,&nbsp;TRE,&nbsp;TROO,&nbsp;TROT,&nbsp;TRTO,&nbsp;and&nbsp;TRTT&nbsp;instructions<br>
273475&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions<br>
274078&nbsp;&nbsp;improved&nbsp;configure&nbsp;logic&nbsp;for&nbsp;mpicc<br>
276993&nbsp;&nbsp;fix&nbsp;mremap&nbsp;'no&nbsp;thrash&nbsp;checks'&nbsp;<br>
278313&nbsp;&nbsp;Fedora&nbsp;15/x64:&nbsp;err&nbsp;read&nbsp;debug&nbsp;info&nbsp;with&nbsp;--read-var-info=yes&nbsp;flag<br>
281482&nbsp;&nbsp;memcheck&nbsp;incorrect&nbsp;byte&nbsp;allocation&nbsp;count&nbsp;in&nbsp;realloc()&nbsp;for&nbsp;silly&nbsp;argument<br>
282230&nbsp;&nbsp;group&nbsp;allocator&nbsp;for&nbsp;small&nbsp;fixed&nbsp;size,&nbsp;use&nbsp;it&nbsp;for&nbsp;MC_Chunk/SEc&nbsp;vbit<br>
283413&nbsp;&nbsp;Fix&nbsp;wrong&nbsp;sanity&nbsp;check<br>
283671&nbsp;&nbsp;Robustize&nbsp;alignment&nbsp;computation&nbsp;in&nbsp;LibVEX_Alloc<br>
283961&nbsp;&nbsp;Adding&nbsp;support&nbsp;for&nbsp;some&nbsp;HCI&nbsp;IOCTLs<br>
284124&nbsp;&nbsp;parse_type_DIE:&nbsp;confused&nbsp;by:&nbsp;DWARF&nbsp;4<br>
284864&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
285219&nbsp;&nbsp;Too-restrictive&nbsp;constraints&nbsp;for&nbsp;Thumb2&nbsp;"SP&nbsp;plus/minus&nbsp;register"<br>
285662&nbsp;&nbsp;(MacOSX):&nbsp;Memcheck&nbsp;needs&nbsp;to&nbsp;replace&nbsp;memcpy/memmove<br>
285725&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
286261&nbsp;&nbsp;add&nbsp;wrapper&nbsp;for&nbsp;linux&nbsp;I2C_RDWR&nbsp;ioctl<br>
286270&nbsp;&nbsp;vgpreload&nbsp;is&nbsp;not&nbsp;friendly&nbsp;to&nbsp;64-&gt;32&nbsp;bit&nbsp;execs,&nbsp;gives&nbsp;ld.so&nbsp;warnings<br>
286374&nbsp;&nbsp;Running&nbsp;cachegrind&nbsp;with&nbsp;--branch-sim=yes&nbsp;on&nbsp;64-bit&nbsp;PowerPC&nbsp;program&nbsp;fails<br>
286384&nbsp;&nbsp;configure&nbsp;fails&nbsp;"checking&nbsp;for&nbsp;a&nbsp;supported&nbsp;version&nbsp;of&nbsp;gcc"<br>
286497&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
286596&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
286917&nbsp;&nbsp;disInstr(arm):&nbsp;unhandled&nbsp;instruction:&nbsp;QADD&nbsp;(also&nbsp;QSUB)<br>
287175&nbsp;&nbsp;ARM:&nbsp;scalar&nbsp;VFP&nbsp;fixed-point&nbsp;VCVT&nbsp;instructions&nbsp;not&nbsp;handled<br>
287260&nbsp;&nbsp;Incorrect&nbsp;conditional&nbsp;jump&nbsp;or&nbsp;move&nbsp;depends&nbsp;on&nbsp;uninitialised&nbsp;value(s)<br>
287301&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x38&nbsp;0x41&nbsp;0xC0&nbsp;0xB8&nbsp;0x0&nbsp;0x0&nbsp;(PHMINPOSUW)<br>
287307&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
287858&nbsp;&nbsp;VG_(strerror):&nbsp;unknown&nbsp;error&nbsp;<br>
288298&nbsp;&nbsp;(MacOSX)&nbsp;unhandled&nbsp;syscall&nbsp;shm_unlink<br>
288995&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
289470&nbsp;&nbsp;Loading&nbsp;of&nbsp;large&nbsp;Mach-O&nbsp;thin&nbsp;binaries&nbsp;fails.<br>
289656&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
289699&nbsp;&nbsp;vgdb&nbsp;connection&nbsp;in&nbsp;relay&nbsp;mode&nbsp;erroneously&nbsp;closed&nbsp;due&nbsp;to&nbsp;buffer&nbsp;overrun&nbsp;<br>
289823&nbsp;&nbsp;==&nbsp;&nbsp;293754&nbsp;(PCMPxSTRx&nbsp;not&nbsp;implemented&nbsp;for&nbsp;16-bit&nbsp;characters)<br>
289839&nbsp;&nbsp;s390x:&nbsp;Provide&nbsp;support&nbsp;for&nbsp;unicode&nbsp;conversion&nbsp;instructions<br>
289939&nbsp;&nbsp;monitor&nbsp;cmd&nbsp;'leak_check'&nbsp;with&nbsp;details&nbsp;about&nbsp;leaked&nbsp;or&nbsp;reachable&nbsp;blocks<br>
290006&nbsp;&nbsp;memcheck&nbsp;doesn't&nbsp;mark&nbsp;%xmm&nbsp;as&nbsp;initialized&nbsp;after&nbsp;"pcmpeqw&nbsp;%xmm&nbsp;%xmm"<br>
290655&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;AESKEYGENASSIST&nbsp;instruction&nbsp;<br>
290719&nbsp;&nbsp;valgrind-3.7.0&nbsp;fails&nbsp;with&nbsp;automake-1.11.2&nbsp;due&nbsp;to"pkglibdir"&nbsp;usage<br>
290974&nbsp;&nbsp;vgdb&nbsp;must&nbsp;align&nbsp;pages&nbsp;to&nbsp;VKI_SHMLBA&nbsp;(16KB)&nbsp;on&nbsp;ARM&nbsp;<br>
291253&nbsp;&nbsp;ES&nbsp;register&nbsp;not&nbsp;initialised&nbsp;in&nbsp;valgrind&nbsp;simulation<br>
291568&nbsp;&nbsp;Fix&nbsp;3DNOW-related&nbsp;crashes&nbsp;with&nbsp;baseline&nbsp;x86_64&nbsp;CPU&nbsp;(w&nbsp;patch)<br>
291865&nbsp;&nbsp;s390x:&nbsp;Support&nbsp;the&nbsp;"Compare&nbsp;Double&nbsp;and&nbsp;Swap"&nbsp;family&nbsp;of&nbsp;instructions<br>
292300&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
292430&nbsp;&nbsp;unrecognized&nbsp;instruction&nbsp;in&nbsp;__intel_get_new_mem_ops_cpuid<br>
292493&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
292626&nbsp;&nbsp;Missing&nbsp;fcntl&nbsp;F_SETOWN_EX&nbsp;and&nbsp;F_GETOWN_EX&nbsp;support<br>
292627&nbsp;&nbsp;Missing&nbsp;support&nbsp;for&nbsp;some&nbsp;SCSI&nbsp;ioctls<br>
292628&nbsp;&nbsp;none/tests/x86/bug125959-x86.c&nbsp;triggers&nbsp;undefined&nbsp;behavior<br>
292841&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
292993&nbsp;&nbsp;implement&nbsp;the&nbsp;getcpu&nbsp;syscall&nbsp;on&nbsp;amd64-linux<br>
292995&nbsp;&nbsp;Implement&nbsp;the&nbsp;&#8220;cross&nbsp;memory&nbsp;attach&#8221;&nbsp;syscalls&nbsp;introduced&nbsp;in&nbsp;Linux&nbsp;3.2<br>
293088&nbsp;&nbsp;Add&nbsp;some&nbsp;VEX&nbsp;sanity&nbsp;checks&nbsp;for&nbsp;ppc64&nbsp;unhandled&nbsp;instructions<br>
293751&nbsp;&nbsp;==&nbsp;290655&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AESKEYGENASSIST&nbsp;instruction)<br>
293754&nbsp;&nbsp;PCMPxSTRx&nbsp;not&nbsp;implemented&nbsp;for&nbsp;16-bit&nbsp;characters<br>
293755&nbsp;&nbsp;==&nbsp;293754&nbsp;(No&nbsp;tests&nbsp;for&nbsp;PCMPxSTRx&nbsp;on&nbsp;16-bit&nbsp;characters)<br>
293808&nbsp;&nbsp;CLFLUSH&nbsp;not&nbsp;supported&nbsp;by&nbsp;latest&nbsp;VEX&nbsp;for&nbsp;amd64<br>
294047&nbsp;&nbsp;valgrind&nbsp;does&nbsp;not&nbsp;correctly&nbsp;emulate&nbsp;prlimit64(...,&nbsp;RLIMIT_NOFILE,&nbsp;...)<br>
294048&nbsp;&nbsp;MPSADBW&nbsp;instruction&nbsp;not&nbsp;implemented<br>
294055&nbsp;&nbsp;regtest&nbsp;none/tests/shell&nbsp;fails&nbsp;when&nbsp;locale&nbsp;is&nbsp;not&nbsp;set&nbsp;to&nbsp;C<br>
294185&nbsp;&nbsp;INT&nbsp;0x44&nbsp;(and&nbsp;others)&nbsp;not&nbsp;supported&nbsp;on&nbsp;x86&nbsp;guest,&nbsp;but&nbsp;used&nbsp;by&nbsp;Jikes&nbsp;RVM<br>
294190&nbsp;&nbsp;--vgdb-error=xxx&nbsp;can&nbsp;be&nbsp;out&nbsp;of&nbsp;sync&nbsp;with&nbsp;errors&nbsp;shown&nbsp;to&nbsp;the&nbsp;user<br>
294191&nbsp;&nbsp;amd64:&nbsp;fnsave/frstor&nbsp;and&nbsp;0x66&nbsp;size&nbsp;prefixes&nbsp;on&nbsp;FP&nbsp;instructions<br>
294260&nbsp;&nbsp;disInstr_AMD64:&nbsp;disInstr&nbsp;miscalculated&nbsp;next&nbsp;%rip<br>
294523&nbsp;&nbsp;--partial-loads-ok=yes&nbsp;causes&nbsp;false&nbsp;negatives<br>
294617&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0xDF&nbsp;0xD1&nbsp;0x1&nbsp;0xE8&nbsp;0x6A<br>
294736&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x48&nbsp;0xF&nbsp;0xD7&nbsp;0xD6&nbsp;0x48&nbsp;0x83<br>
294812&nbsp;&nbsp;patch&nbsp;allowing&nbsp;to&nbsp;run&nbsp;(on&nbsp;x86&nbsp;at&nbsp;least)&nbsp;helgrind/drd&nbsp;on&nbsp;tool.<br>
295089&nbsp;&nbsp;can&nbsp;not&nbsp;annotate&nbsp;source&nbsp;for&nbsp;both&nbsp;helgrind&nbsp;and&nbsp;drd<br>
295221&nbsp;&nbsp;POWER&nbsp;Processor&nbsp;decimal&nbsp;floating&nbsp;point&nbsp;instruction&nbsp;support&nbsp;missing<br>
295427&nbsp;&nbsp;building&nbsp;for&nbsp;i386&nbsp;with&nbsp;clang&nbsp;on&nbsp;darwin11&nbsp;requires&nbsp;"-new_linker&nbsp;linker"<br>
295428&nbsp;&nbsp;coregrind/m_main.c&nbsp;has&nbsp;incorrect&nbsp;x86&nbsp;assembly&nbsp;for&nbsp;darwin<br>
295590&nbsp;&nbsp;Helgrind:&nbsp;Assertion&nbsp;'cvi-&gt;nWaiters&nbsp;&gt;&nbsp;0'&nbsp;failed<br>
295617&nbsp;&nbsp;ARM&nbsp;-&nbsp;Add&nbsp;some&nbsp;missing&nbsp;syscalls<br>
295799&nbsp;&nbsp;Missing&nbsp;\n&nbsp;with&nbsp;get_vbits&nbsp;in&nbsp;gdbserver&nbsp;when&nbsp;line&nbsp;is&nbsp;%&nbsp;80&nbsp;[...]<br>
296229&nbsp;&nbsp;Linux&nbsp;user&nbsp;input&nbsp;device&nbsp;ioctls&nbsp;missing&nbsp;wrappers<br>
296318&nbsp;&nbsp;ELF&nbsp;Debug&nbsp;info&nbsp;improvements&nbsp;(more&nbsp;than&nbsp;one&nbsp;rx/rw&nbsp;mapping)<br>
296422&nbsp;&nbsp;Add&nbsp;translation&nbsp;chaining&nbsp;support<br>
296457&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0xDF&nbsp;0xD1&nbsp;0x1&nbsp;0xE8&nbsp;0x6A&nbsp;(dup&nbsp;of&nbsp;AES)<br>
296792&nbsp;&nbsp;valgrind&nbsp;3.7.0:&nbsp;add&nbsp;SIOCSHWTSTAMP&nbsp;(0x89B0)&nbsp;ioctl&nbsp;wrapper<br>
296983&nbsp;&nbsp;Fix&nbsp;build&nbsp;issues&nbsp;on&nbsp;x86_64/ppc64&nbsp;without&nbsp;32-bit&nbsp;toolchains<br>
297078&nbsp;&nbsp;gdbserver&nbsp;signal&nbsp;handling&nbsp;problems&nbsp;[..]<br>
297147&nbsp;&nbsp;drd&nbsp;false&nbsp;positives&nbsp;on&nbsp;newly&nbsp;allocated&nbsp;memory<br>
297329&nbsp;&nbsp;disallow&nbsp;decoding&nbsp;of&nbsp;IBM&nbsp;Power&nbsp;DFP&nbsp;insns&nbsp;on&nbsp;some&nbsp;machines<br>
297497&nbsp;&nbsp;POWER&nbsp;Processor&nbsp;decimal&nbsp;floating&nbsp;point&nbsp;instruction&nbsp;support&nbsp;missing<br>
297701&nbsp;&nbsp;Another&nbsp;alias&nbsp;for&nbsp;strncasecmp_l&nbsp;in&nbsp;libc-2.13.so<br>
297911&nbsp;&nbsp;'invalid&nbsp;write'&nbsp;not&nbsp;reported&nbsp;when&nbsp;using&nbsp;APIs&nbsp;for&nbsp;custom&nbsp;mem&nbsp;allocators.<br>
297976&nbsp;&nbsp;s390x:&nbsp;revisit&nbsp;EX&nbsp;implementation<br>
297991&nbsp;&nbsp;Valgrind&nbsp;interferes&nbsp;with&nbsp;mmap()+ftell()&nbsp;<br>
297992&nbsp;&nbsp;Support&nbsp;systems&nbsp;missing&nbsp;WIFCONTINUED&nbsp;(e.g.&nbsp;pre-2.6.10&nbsp;Linux)&nbsp;<br>
297993&nbsp;&nbsp;Fix&nbsp;compilation&nbsp;of&nbsp;valgrind&nbsp;with&nbsp;gcc&nbsp;-g3.<br>
298080&nbsp;&nbsp;POWER&nbsp;Processor&nbsp;DFP&nbsp;support&nbsp;missing,&nbsp;part&nbsp;3<br>
298227&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
298335&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
298354&nbsp;&nbsp;Unhandled&nbsp;ARM&nbsp;Thumb&nbsp;instruction&nbsp;0xEB0D&nbsp;0x0585&nbsp;(streq)<br>
298394&nbsp;&nbsp;s390x:&nbsp;Don't&nbsp;bail&nbsp;out&nbsp;on&nbsp;an&nbsp;unknown&nbsp;machine&nbsp;model.&nbsp;&nbsp;[..]<br>
298421&nbsp;&nbsp;accept4()&nbsp;syscall&nbsp;(366)&nbsp;support&nbsp;is&nbsp;missing&nbsp;for&nbsp;ARM<br>
298718&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0xF&nbsp;0xB1&nbsp;0xCB&nbsp;0x9C&nbsp;0x8F&nbsp;0x45<br>
298732&nbsp;&nbsp;valgrind&nbsp;installation&nbsp;problem&nbsp;in&nbsp;ubuntu&nbsp;with&nbsp;kernel&nbsp;version&nbsp;3.x<br>
298862&nbsp;&nbsp;POWER&nbsp;Processor&nbsp;DFP&nbsp;instruction&nbsp;support&nbsp;missing,&nbsp;part&nbsp;4<br>
298864&nbsp;&nbsp;DWARF&nbsp;reader&nbsp;mis-parses&nbsp;DW_FORM_ref_addr<br>
298943&nbsp;&nbsp;massif&nbsp;asserts&nbsp;with&nbsp;--pages-as-heap=yes&nbsp;when&nbsp;brk&nbsp;is&nbsp;changing&nbsp;[..]<br>
299053&nbsp;&nbsp;Support&nbsp;DWARF4&nbsp;DW_AT_high_pc&nbsp;constant&nbsp;form<br>
299104&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
299316&nbsp;&nbsp;Helgrind:&nbsp;hg_main.c:628&nbsp;(map_threads_lookup):&nbsp;Assertion&nbsp;'thr'&nbsp;failed.<br>
299629&nbsp;&nbsp;dup3()&nbsp;syscall&nbsp;(358)&nbsp;support&nbsp;is&nbsp;missing&nbsp;for&nbsp;ARM<br>
299694&nbsp;&nbsp;POWER&nbsp;Processor&nbsp;DFP&nbsp;instruction&nbsp;support&nbsp;missing,&nbsp;part&nbsp;5<br>
299756&nbsp;&nbsp;Ignore&nbsp;--free-fill&nbsp;for&nbsp;MEMPOOL_FREE&nbsp;and&nbsp;FREELIKE&nbsp;client&nbsp;requests<br>
299803&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
299804&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
299805&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
300140&nbsp;&nbsp;ARM&nbsp;-&nbsp;Missing&nbsp;(T1)&nbsp;SMMUL<br>
300195&nbsp;&nbsp;==&nbsp;296318&nbsp;(ELF&nbsp;Debug&nbsp;info&nbsp;improvements&nbsp;(more&nbsp;than&nbsp;one&nbsp;rx/rw&nbsp;mapping))<br>
300389&nbsp;&nbsp;Assertion&nbsp;`are_valid_hwcaps(VexArchAMD64,&nbsp;[..])'&nbsp;failed.<br>
300414&nbsp;&nbsp;FCOM&nbsp;and&nbsp;FCOMP&nbsp;unimplemented&nbsp;for&nbsp;amd64&nbsp;guest<br>
301204&nbsp;&nbsp;infinite&nbsp;loop&nbsp;in&nbsp;canonicaliseSymtab&nbsp;with&nbsp;ifunc&nbsp;symbol<br>
301229&nbsp;&nbsp;==&nbsp;203877&nbsp;(increase&nbsp;to&nbsp;16Mb&nbsp;maximum&nbsp;allowed&nbsp;alignment&nbsp;for&nbsp;memalign&nbsp;etc)<br>
301265&nbsp;&nbsp;add&nbsp;x86&nbsp;support&nbsp;to&nbsp;Android&nbsp;build&nbsp;<br>
301984&nbsp;&nbsp;configure&nbsp;script&nbsp;doesn't&nbsp;detect&nbsp;certain&nbsp;versions&nbsp;of&nbsp;clang<br>
302205&nbsp;&nbsp;Fix&nbsp;compiler&nbsp;warnings&nbsp;for&nbsp;POWER&nbsp;VEX&nbsp;code&nbsp;and&nbsp;POWER&nbsp;test&nbsp;cases<br>
302287&nbsp;&nbsp;Unhandled&nbsp;movbe&nbsp;instruction&nbsp;on&nbsp;Atom&nbsp;processors<br>
302370&nbsp;&nbsp;PPC:&nbsp;fnmadd,&nbsp;fnmsub,&nbsp;fnmadds,&nbsp;fnmsubs&nbsp;insns&nbsp;always&nbsp;negate&nbsp;the&nbsp;result<br>
302536&nbsp;&nbsp;Fix&nbsp;for&nbsp;the&nbsp;POWER&nbsp;Valgrind&nbsp;regression&nbsp;test:&nbsp;memcheck-ISA2.0.<br>
302578&nbsp;&nbsp;Unrecognized&nbsp;isntruction&nbsp;0xc5&nbsp;0x32&nbsp;0xc2&nbsp;0xca&nbsp;0x09&nbsp;vcmpngess<br>
302656&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
302709&nbsp;&nbsp;valgrind&nbsp;for&nbsp;ARM&nbsp;needs&nbsp;extra&nbsp;tls&nbsp;support&nbsp;for&nbsp;android&nbsp;emulator&nbsp;[..]<br>
302827&nbsp;&nbsp;add&nbsp;wrapper&nbsp;for&nbsp;CDROM_GET_CAPABILITY<br>
302901&nbsp;&nbsp;Valgrind&nbsp;crashes&nbsp;with&nbsp;dwz&nbsp;optimized&nbsp;debuginfo<br>
302918&nbsp;&nbsp;Enable&nbsp;testing&nbsp;of&nbsp;the&nbsp;vmaddfp&nbsp;and&nbsp;vnsubfp&nbsp;instructions&nbsp;in&nbsp;the&nbsp;testsuite<br>
303116&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;the&nbsp;POWER&nbsp;instruction&nbsp;popcntb<br>
303127&nbsp;&nbsp;Power&nbsp;test&nbsp;suite&nbsp;fixes&nbsp;for&nbsp;frsqrte,&nbsp;vrefp,&nbsp;and&nbsp;vrsqrtefp&nbsp;instructions.<br>
303250&nbsp;&nbsp;Assertion&nbsp;`instrs_in-&gt;arr_used&nbsp;&lt;=&nbsp;10000'&nbsp;failed&nbsp;w/&nbsp;OpenSSL&nbsp;code<br>
303466&nbsp;&nbsp;==&nbsp;273475&nbsp;(Add&nbsp;support&nbsp;for&nbsp;AVX&nbsp;instructions)<br>
303624&nbsp;&nbsp;segmentation&nbsp;fault&nbsp;on&nbsp;Android&nbsp;4.1&nbsp;(e.g.&nbsp;on&nbsp;Galaxy&nbsp;Nexus&nbsp;OMAP)&nbsp;<br>
303963&nbsp;&nbsp;strstr()&nbsp;function&nbsp;produces&nbsp;wrong&nbsp;results&nbsp;under&nbsp;valgrind&nbsp;callgrind<br>
304054&nbsp;&nbsp;CALL_FN_xx&nbsp;macros&nbsp;need&nbsp;to&nbsp;enforce&nbsp;stack&nbsp;alignment<br>
304561&nbsp;&nbsp;tee&nbsp;system&nbsp;call&nbsp;not&nbsp;supported<br>
715750&nbsp;&nbsp;(MacOSX):&nbsp;Incorrect&nbsp;invalid-address&nbsp;errors&nbsp;near&nbsp;0xFFFFxxxx&nbsp;(mozbug#)<br>
n-i-bz&nbsp;&nbsp;Add&nbsp;missing&nbsp;gdbserver&nbsp;xml&nbsp;files&nbsp;for&nbsp;shadow&nbsp;registers&nbsp;for&nbsp;ppc32<br>
n-i-bz&nbsp;&nbsp;Bypass&nbsp;gcc4.4/4.5&nbsp;code&nbsp;gen&nbsp;bugs&nbsp;causing&nbsp;out&nbsp;of&nbsp;memory&nbsp;or&nbsp;asserts<br>
n-i-bz&nbsp;&nbsp;Fix&nbsp;assert&nbsp;in&nbsp;gdbserver&nbsp;for&nbsp;watchpoints&nbsp;watching&nbsp;the&nbsp;same&nbsp;address<br>
n-i-bz&nbsp;&nbsp;Fix&nbsp;false&nbsp;positive&nbsp;in&nbsp;sys_clone&nbsp;on&nbsp;amd64&nbsp;when&nbsp;optional&nbsp;args&nbsp;[..]<br>
n-i-bz&nbsp;&nbsp;s390x:&nbsp;Shadow&nbsp;registers&nbsp;can&nbsp;now&nbsp;be&nbsp;examined&nbsp;using&nbsp;vgdb<br>
<br>
(3.8.0-TEST3:&nbsp;&nbsp;9&nbsp;August&nbsp;2012,&nbsp;vex&nbsp;r2465,&nbsp;valgrind&nbsp;r12865)<br>
(3.8.0:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;August&nbsp;2012,&nbsp;vex&nbsp;r2465,&nbsp;valgrind&nbsp;r12866)<br>
<br>
<br>
<br>
Release&nbsp;3.7.0&nbsp;(5&nbsp;November&nbsp;2011)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.7.0&nbsp;is&nbsp;a&nbsp;feature&nbsp;release&nbsp;with&nbsp;many&nbsp;significant&nbsp;improvements&nbsp;and&nbsp;the<br>
usual&nbsp;collection&nbsp;of&nbsp;bug&nbsp;fixes.<br>
<br>
This&nbsp;release&nbsp;supports&nbsp;X86/Linux,&nbsp;AMD64/Linux,&nbsp;ARM/Linux,&nbsp;PPC32/Linux,<br>
PPC64/Linux,&nbsp;S390X/Linux,&nbsp;ARM/Android,&nbsp;X86/Darwin&nbsp;and&nbsp;AMD64/Darwin.<br>
Support&nbsp;for&nbsp;recent&nbsp;distros&nbsp;and&nbsp;toolchain&nbsp;components&nbsp;(glibc&nbsp;2.14,&nbsp;gcc<br>
4.6,&nbsp;MacOSX&nbsp;10.7)&nbsp;has&nbsp;been&nbsp;added.<br>
<br>
*&nbsp;==================&nbsp;PLATFORM&nbsp;CHANGES&nbsp;=================<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;IBM&nbsp;z/Architecture&nbsp;(s390x)&nbsp;running&nbsp;Linux.&nbsp;&nbsp;Valgrind&nbsp;can<br>
&nbsp;&nbsp;analyse&nbsp;64-bit&nbsp;programs&nbsp;running&nbsp;on&nbsp;z/Architecture.&nbsp;&nbsp;Most&nbsp;user&nbsp;space<br>
&nbsp;&nbsp;instructions&nbsp;up&nbsp;to&nbsp;and&nbsp;including&nbsp;z10&nbsp;are&nbsp;supported.&nbsp;&nbsp;Valgrind&nbsp;has<br>
&nbsp;&nbsp;been&nbsp;tested&nbsp;extensively&nbsp;on&nbsp;z9,&nbsp;z10,&nbsp;and&nbsp;z196&nbsp;machines&nbsp;running&nbsp;SLES<br>
&nbsp;&nbsp;10/11,&nbsp;RedHat&nbsp;5/6m,&nbsp;and&nbsp;Fedora.&nbsp;The&nbsp;Memcheck&nbsp;and&nbsp;Massif&nbsp;tools&nbsp;are<br>
&nbsp;&nbsp;known&nbsp;to&nbsp;work&nbsp;well.&nbsp;Callgrind,&nbsp;Helgrind,&nbsp;and&nbsp;DRD&nbsp;work&nbsp;reasonably<br>
&nbsp;&nbsp;well&nbsp;on&nbsp;z9&nbsp;and&nbsp;later&nbsp;models.&nbsp;See&nbsp;README.s390&nbsp;for&nbsp;more&nbsp;details.<br>
<br>
*&nbsp;Preliminary&nbsp;support&nbsp;for&nbsp;MacOSX&nbsp;10.7&nbsp;and&nbsp;XCode&nbsp;4.&nbsp;&nbsp;Both&nbsp;32-&nbsp;and<br>
&nbsp;&nbsp;64-bit&nbsp;processes&nbsp;are&nbsp;supported.&nbsp;&nbsp;Some&nbsp;complex&nbsp;threaded&nbsp;applications<br>
&nbsp;&nbsp;(Firefox)&nbsp;are&nbsp;observed&nbsp;to&nbsp;hang&nbsp;when&nbsp;run&nbsp;as&nbsp;32&nbsp;bit&nbsp;applications,<br>
&nbsp;&nbsp;whereas&nbsp;64-bit&nbsp;versions&nbsp;run&nbsp;OK.&nbsp;&nbsp;The&nbsp;cause&nbsp;is&nbsp;unknown.&nbsp;&nbsp;Memcheck<br>
&nbsp;&nbsp;will&nbsp;likely&nbsp;report&nbsp;some&nbsp;false&nbsp;errors.&nbsp;&nbsp;In&nbsp;general,&nbsp;expect&nbsp;some&nbsp;rough<br>
&nbsp;&nbsp;spots.&nbsp;&nbsp;This&nbsp;release&nbsp;also&nbsp;supports&nbsp;MacOSX&nbsp;10.6,&nbsp;but&nbsp;drops&nbsp;support<br>
&nbsp;&nbsp;for&nbsp;10.5.<br>
<br>
*&nbsp;Preliminary&nbsp;support&nbsp;for&nbsp;Android&nbsp;(on&nbsp;ARM).&nbsp;&nbsp;Valgrind&nbsp;can&nbsp;now&nbsp;run<br>
&nbsp;&nbsp;large&nbsp;applications&nbsp;(eg,&nbsp;Firefox)&nbsp;on&nbsp;(eg)&nbsp;a&nbsp;Samsung&nbsp;Nexus&nbsp;S.&nbsp;&nbsp;See<br>
&nbsp;&nbsp;README.android&nbsp;for&nbsp;more&nbsp;details,&nbsp;plus&nbsp;instructions&nbsp;on&nbsp;how&nbsp;to&nbsp;get<br>
&nbsp;&nbsp;started.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;the&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.06&nbsp;(Power7&nbsp;instructions)<br>
<br>
*&nbsp;General&nbsp;correctness&nbsp;and&nbsp;performance&nbsp;improvements&nbsp;for&nbsp;ARM/Linux,&nbsp;and,<br>
&nbsp;&nbsp;by&nbsp;extension,&nbsp;ARM/Android.<br>
<br>
*&nbsp;Further&nbsp;solidification&nbsp;of&nbsp;support&nbsp;for&nbsp;SSE&nbsp;4.2&nbsp;in&nbsp;64-bit&nbsp;mode.&nbsp;&nbsp;AVX<br>
&nbsp;&nbsp;instruction&nbsp;set&nbsp;support&nbsp;is&nbsp;under&nbsp;development&nbsp;but&nbsp;is&nbsp;not&nbsp;available&nbsp;in<br>
&nbsp;&nbsp;this&nbsp;release.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;AIX5&nbsp;has&nbsp;been&nbsp;removed.<br>
<br>
*&nbsp;====================&nbsp;TOOL&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;Memcheck:&nbsp;some&nbsp;incremental&nbsp;changes:<br>
<br>
&nbsp;&nbsp;-&nbsp;reduction&nbsp;of&nbsp;memory&nbsp;use&nbsp;in&nbsp;some&nbsp;circumstances<br>
<br>
&nbsp;&nbsp;-&nbsp;improved&nbsp;handling&nbsp;of&nbsp;freed&nbsp;memory,&nbsp;which&nbsp;in&nbsp;some&nbsp;circumstances&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;cause&nbsp;detection&nbsp;of&nbsp;use-after-free&nbsp;that&nbsp;would&nbsp;previously&nbsp;have<br>
&nbsp;&nbsp;&nbsp;&nbsp;been&nbsp;missed<br>
<br>
&nbsp;&nbsp;-&nbsp;fix&nbsp;of&nbsp;a&nbsp;longstanding&nbsp;bug&nbsp;that&nbsp;could&nbsp;cause&nbsp;false&nbsp;negatives&nbsp;(missed<br>
&nbsp;&nbsp;&nbsp;&nbsp;errors)&nbsp;in&nbsp;programs&nbsp;doing&nbsp;vector&nbsp;saturated&nbsp;narrowing&nbsp;instructions.<br>
<br>
*&nbsp;Helgrind:&nbsp;performance&nbsp;improvements&nbsp;and&nbsp;major&nbsp;memory&nbsp;use&nbsp;reductions,<br>
&nbsp;&nbsp;particularly&nbsp;for&nbsp;large,&nbsp;long&nbsp;running&nbsp;applications&nbsp;which&nbsp;perform&nbsp;many<br>
&nbsp;&nbsp;synchronisation&nbsp;(lock,&nbsp;unlock,&nbsp;etc)&nbsp;events.&nbsp;&nbsp;Plus&nbsp;many&nbsp;smaller<br>
&nbsp;&nbsp;changes:<br>
<br>
&nbsp;&nbsp;-&nbsp;display&nbsp;of&nbsp;locksets&nbsp;for&nbsp;both&nbsp;threads&nbsp;involved&nbsp;in&nbsp;a&nbsp;race<br>
<br>
&nbsp;&nbsp;-&nbsp;general&nbsp;improvements&nbsp;in&nbsp;formatting/clarity&nbsp;of&nbsp;error&nbsp;messages<br>
<br>
&nbsp;&nbsp;-&nbsp;addition&nbsp;of&nbsp;facilities&nbsp;and&nbsp;documentation&nbsp;regarding&nbsp;annotation<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;thread&nbsp;safe&nbsp;reference&nbsp;counted&nbsp;C++&nbsp;classes<br>
<br>
&nbsp;&nbsp;-&nbsp;new&nbsp;flag&nbsp;--check-stack-refs=no|yes&nbsp;[yes],&nbsp;to&nbsp;disable&nbsp;race&nbsp;checking<br>
&nbsp;&nbsp;&nbsp;&nbsp;on&nbsp;thread&nbsp;stacks&nbsp;(a&nbsp;performance&nbsp;hack)<br>
<br>
&nbsp;&nbsp;-&nbsp;new&nbsp;flag&nbsp;--free-is-write=no|yes&nbsp;[no],&nbsp;to&nbsp;enable&nbsp;detection&nbsp;of&nbsp;races<br>
&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;one&nbsp;thread&nbsp;accesses&nbsp;heap&nbsp;memory&nbsp;but&nbsp;another&nbsp;one&nbsp;frees&nbsp;it,<br>
&nbsp;&nbsp;&nbsp;&nbsp;without&nbsp;any&nbsp;coordinating&nbsp;synchronisation&nbsp;event<br>
<br>
*&nbsp;DRD:&nbsp;enabled&nbsp;XML&nbsp;output;&nbsp;added&nbsp;support&nbsp;for&nbsp;delayed&nbsp;thread&nbsp;deletion<br>
&nbsp;&nbsp;in&nbsp;order&nbsp;to&nbsp;detect&nbsp;races&nbsp;that&nbsp;occur&nbsp;close&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;thread<br>
&nbsp;&nbsp;(--join-list-vol);&nbsp;fixed&nbsp;a&nbsp;memory&nbsp;leak&nbsp;triggered&nbsp;by&nbsp;repeated&nbsp;client<br>
&nbsp;&nbsp;memory&nbsp;allocatation&nbsp;and&nbsp;deallocation;&nbsp;improved&nbsp;Darwin&nbsp;support.<br>
<br>
*&nbsp;exp-ptrcheck:&nbsp;this&nbsp;tool&nbsp;has&nbsp;been&nbsp;renamed&nbsp;to&nbsp;exp-sgcheck<br>
<br>
*&nbsp;exp-sgcheck:&nbsp;this&nbsp;tool&nbsp;has&nbsp;been&nbsp;reduced&nbsp;in&nbsp;scope&nbsp;so&nbsp;as&nbsp;to&nbsp;improve<br>
&nbsp;&nbsp;performance&nbsp;and&nbsp;remove&nbsp;checking&nbsp;that&nbsp;Memcheck&nbsp;does&nbsp;better.<br>
&nbsp;&nbsp;Specifically,&nbsp;the&nbsp;ability&nbsp;to&nbsp;check&nbsp;for&nbsp;overruns&nbsp;for&nbsp;stack&nbsp;and&nbsp;global<br>
&nbsp;&nbsp;arrays&nbsp;is&nbsp;unchanged,&nbsp;but&nbsp;the&nbsp;ability&nbsp;to&nbsp;check&nbsp;for&nbsp;overruns&nbsp;of&nbsp;heap<br>
&nbsp;&nbsp;blocks&nbsp;has&nbsp;been&nbsp;removed.&nbsp;&nbsp;The&nbsp;tool&nbsp;has&nbsp;accordingly&nbsp;been&nbsp;renamed&nbsp;to<br>
&nbsp;&nbsp;exp-sgcheck&nbsp;("Stack&nbsp;and&nbsp;Global&nbsp;Array&nbsp;Checking").<br>
<br>
*&nbsp;====================&nbsp;OTHER&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;GDB&nbsp;server:&nbsp;Valgrind&nbsp;now&nbsp;has&nbsp;an&nbsp;embedded&nbsp;GDB&nbsp;server.&nbsp;&nbsp;That&nbsp;means&nbsp;it<br>
&nbsp;&nbsp;is&nbsp;possible&nbsp;to&nbsp;control&nbsp;a&nbsp;Valgrind&nbsp;run&nbsp;from&nbsp;GDB,&nbsp;doing&nbsp;all&nbsp;the&nbsp;usual<br>
&nbsp;&nbsp;things&nbsp;that&nbsp;GDB&nbsp;can&nbsp;do&nbsp;(single&nbsp;stepping,&nbsp;breakpoints,&nbsp;examining<br>
&nbsp;&nbsp;data,&nbsp;etc).&nbsp;&nbsp;Tool-specific&nbsp;functionality&nbsp;is&nbsp;also&nbsp;available.&nbsp;&nbsp;For<br>
&nbsp;&nbsp;example,&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;query&nbsp;the&nbsp;definedness&nbsp;state&nbsp;of&nbsp;variables<br>
&nbsp;&nbsp;or&nbsp;memory&nbsp;from&nbsp;within&nbsp;GDB&nbsp;when&nbsp;running&nbsp;Memcheck;&nbsp;arbitrarily&nbsp;large<br>
&nbsp;&nbsp;memory&nbsp;watchpoints&nbsp;are&nbsp;supported,&nbsp;etc.&nbsp;&nbsp;To&nbsp;use&nbsp;the&nbsp;GDB&nbsp;server,&nbsp;start<br>
&nbsp;&nbsp;Valgrind&nbsp;with&nbsp;the&nbsp;flag&nbsp;--vgdb-error=0&nbsp;and&nbsp;follow&nbsp;the&nbsp;on-screen<br>
&nbsp;&nbsp;instructions.<br>
<br>
*&nbsp;Improved&nbsp;support&nbsp;for&nbsp;unfriendly&nbsp;self-modifying&nbsp;code:&nbsp;a&nbsp;new&nbsp;option<br>
&nbsp;&nbsp;--smc-check=all-non-file&nbsp;is&nbsp;available.&nbsp;&nbsp;This&nbsp;adds&nbsp;the&nbsp;relevant<br>
&nbsp;&nbsp;consistency&nbsp;checks&nbsp;only&nbsp;to&nbsp;code&nbsp;that&nbsp;originates&nbsp;in&nbsp;non-file-backed<br>
&nbsp;&nbsp;mappings.&nbsp;&nbsp;In&nbsp;effect&nbsp;this&nbsp;confines&nbsp;the&nbsp;consistency&nbsp;checking&nbsp;only&nbsp;to<br>
&nbsp;&nbsp;code&nbsp;that&nbsp;is&nbsp;or&nbsp;might&nbsp;be&nbsp;JIT&nbsp;generated,&nbsp;and&nbsp;avoids&nbsp;checks&nbsp;on&nbsp;code<br>
&nbsp;&nbsp;that&nbsp;must&nbsp;have&nbsp;been&nbsp;compiled&nbsp;ahead&nbsp;of&nbsp;time.&nbsp;&nbsp;This&nbsp;significantly<br>
&nbsp;&nbsp;improves&nbsp;performance&nbsp;on&nbsp;applications&nbsp;that&nbsp;generate&nbsp;code&nbsp;at&nbsp;run&nbsp;time.<br>
<br>
*&nbsp;It&nbsp;is&nbsp;now&nbsp;possible&nbsp;to&nbsp;build&nbsp;a&nbsp;working&nbsp;Valgrind&nbsp;using&nbsp;Clang-2.9&nbsp;on<br>
&nbsp;&nbsp;Linux.<br>
<br>
*&nbsp;new&nbsp;client&nbsp;requests&nbsp;VALGRIND_{DISABLE,ENABLE}_ERROR_REPORTING.<br>
&nbsp;&nbsp;These&nbsp;enable&nbsp;and&nbsp;disable&nbsp;error&nbsp;reporting&nbsp;on&nbsp;a&nbsp;per-thread,&nbsp;and<br>
&nbsp;&nbsp;nestable,&nbsp;basis.&nbsp;&nbsp;This&nbsp;is&nbsp;useful&nbsp;for&nbsp;hiding&nbsp;errors&nbsp;in&nbsp;particularly<br>
&nbsp;&nbsp;troublesome&nbsp;pieces&nbsp;of&nbsp;code.&nbsp;&nbsp;The&nbsp;MPI&nbsp;wrapper&nbsp;library&nbsp;(libmpiwrap.c)<br>
&nbsp;&nbsp;now&nbsp;uses&nbsp;this&nbsp;facility.<br>
<br>
*&nbsp;Added&nbsp;the&nbsp;--mod-funcname&nbsp;option&nbsp;to&nbsp;cg_diff.<br>
<br>
*&nbsp;====================&nbsp;FIXED&nbsp;BUGS&nbsp;====================<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed&nbsp;or&nbsp;resolved.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"<br>
stands&nbsp;for&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us<br>
but&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
bugzilla&nbsp;(http://bugs.kde.org/enter_valgrind_bug.cgi)&nbsp;rather&nbsp;than<br>
mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that&nbsp;are<br>
not&nbsp;entered&nbsp;into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
To&nbsp;see&nbsp;details&nbsp;of&nbsp;a&nbsp;given&nbsp;bug,&nbsp;visit<br>
https://bugs.kde.org/show_bug.cgi?id=XXXXXX<br>
where&nbsp;XXXXXX&nbsp;is&nbsp;the&nbsp;bug&nbsp;number&nbsp;as&nbsp;listed&nbsp;below.<br>
<br>
&nbsp;79311&nbsp;&nbsp;malloc&nbsp;silly&nbsp;arg&nbsp;warning&nbsp;does&nbsp;not&nbsp;give&nbsp;stack&nbsp;trace<br>
210935&nbsp;&nbsp;port&nbsp;valgrind.h&nbsp;(not&nbsp;valgrind)&nbsp;to&nbsp;win32&nbsp;to&nbsp;support&nbsp;client&nbsp;requests<br>
214223&nbsp;&nbsp;valgrind&nbsp;SIGSEGV&nbsp;on&nbsp;startup&nbsp;gcc&nbsp;4.4.1&nbsp;ppc32&nbsp;(G4)&nbsp;Ubuntu&nbsp;9.10<br>
243404&nbsp;&nbsp;Port&nbsp;to&nbsp;zSeries<br>
243935&nbsp;&nbsp;Helgrind:&nbsp;incorrect&nbsp;handling&nbsp;of&nbsp;ANNOTATE_HAPPENS_BEFORE()/AFTER()<br>
247223&nbsp;&nbsp;non-x86:&nbsp;Suppress&nbsp;warning:&nbsp;'regparm'&nbsp;attribute&nbsp;directive&nbsp;ignored<br>
250101&nbsp;&nbsp;huge&nbsp;"free"&nbsp;memory&nbsp;usage&nbsp;due&nbsp;to&nbsp;m_mallocfree.c&nbsp;fragmentation<br>
253206&nbsp;&nbsp;Some&nbsp;fixes&nbsp;for&nbsp;the&nbsp;faultstatus&nbsp;testcase<br>
255223&nbsp;&nbsp;capget&nbsp;testcase&nbsp;fails&nbsp;when&nbsp;running&nbsp;as&nbsp;root<br>
256703&nbsp;&nbsp;xlc_dbl_u32.c&nbsp;testcase&nbsp;broken<br>
256726&nbsp;&nbsp;Helgrind&nbsp;tests&nbsp;have&nbsp;broken&nbsp;inline&nbsp;asm&nbsp;<br>
259977&nbsp;&nbsp;==&nbsp;214223&nbsp;(Valgrind&nbsp;segfaults&nbsp;doing&nbsp;__builtin_longjmp)<br>
264800&nbsp;&nbsp;testcase&nbsp;compile&nbsp;failure&nbsp;on&nbsp;zseries<br>
265762&nbsp;&nbsp;make&nbsp;public&nbsp;VEX&nbsp;headers&nbsp;compilable&nbsp;by&nbsp;G++&nbsp;3.x<br>
265771&nbsp;&nbsp;assertion&nbsp;in&nbsp;jumps.c&nbsp;(r11523)&nbsp;fails&nbsp;with&nbsp;glibc-2.3<br>
266753&nbsp;&nbsp;configure&nbsp;script&nbsp;does&nbsp;not&nbsp;give&nbsp;the&nbsp;user&nbsp;the&nbsp;option&nbsp;to&nbsp;not&nbsp;use&nbsp;QtCore<br>
266931&nbsp;&nbsp;gen_insn_test.pl&nbsp;is&nbsp;broken<br>
266961&nbsp;&nbsp;ld-linux.so.2&nbsp;i?86-linux&nbsp;strlen&nbsp;issues<br>
266990&nbsp;&nbsp;setns&nbsp;instruction&nbsp;causes&nbsp;false&nbsp;positive<br>
267020&nbsp;&nbsp;Make&nbsp;directory&nbsp;for&nbsp;temporary&nbsp;files&nbsp;configurable&nbsp;at&nbsp;run-time.<br>
267342&nbsp;&nbsp;==&nbsp;267997&nbsp;(segmentation&nbsp;fault&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;10.6)<br>
267383&nbsp;&nbsp;Assertion&nbsp;'vgPlain_strlen(dir)&nbsp;+&nbsp;vgPlain_strlen(file)&nbsp;+&nbsp;1&nbsp;&lt;&nbsp;256'&nbsp;failed<br>
267413&nbsp;&nbsp;Assertion&nbsp;'DRD_(g_threadinfo)[tid].synchr_nesting&nbsp;&gt;=&nbsp;1'&nbsp;failed.<br>
267488&nbsp;&nbsp;regtest:&nbsp;darwin&nbsp;support&nbsp;for&nbsp;64-bit&nbsp;build<br>
267552&nbsp;&nbsp;SIGSEGV&nbsp;(misaligned_stack_error)&nbsp;with&nbsp;DRD,&nbsp;but&nbsp;not&nbsp;with&nbsp;other&nbsp;tools<br>
267630&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.06&nbsp;--&nbsp;stage&nbsp;1<br>
267769&nbsp;&nbsp;==&nbsp;267997&nbsp;(Darwin:&nbsp;memcheck&nbsp;triggers&nbsp;segmentation&nbsp;fault)<br>
267819&nbsp;&nbsp;Add&nbsp;client&nbsp;request&nbsp;for&nbsp;informing&nbsp;the&nbsp;core&nbsp;about&nbsp;reallocation<br>
267925&nbsp;&nbsp;laog&nbsp;data&nbsp;structure&nbsp;quadratic&nbsp;for&nbsp;a&nbsp;single&nbsp;sequence&nbsp;of&nbsp;lock<br>
267968&nbsp;&nbsp;drd:&nbsp;(vgDrd_thread_set_joinable):&nbsp;Assertion&nbsp;'0&nbsp;&lt;=&nbsp;(int)tid&nbsp;..'&nbsp;failed<br>
267997&nbsp;&nbsp;MacOSX:&nbsp;64-bit&nbsp;V&nbsp;segfaults&nbsp;on&nbsp;launch&nbsp;when&nbsp;built&nbsp;with&nbsp;Xcode&nbsp;4.0.1<br>
268513&nbsp;&nbsp;missed&nbsp;optimizations&nbsp;in&nbsp;fold_Expr<br>
268619&nbsp;&nbsp;s390x:&nbsp;fpr&nbsp;-&nbsp;gpr&nbsp;transfer&nbsp;facility&nbsp;<br>
268620&nbsp;&nbsp;s390x:&nbsp;reconsider&nbsp;"long&nbsp;displacement"&nbsp;requirement&nbsp;<br>
268621&nbsp;&nbsp;s390x:&nbsp;improve&nbsp;IR&nbsp;generation&nbsp;for&nbsp;XC<br>
268715&nbsp;&nbsp;s390x:&nbsp;FLOGR&nbsp;is&nbsp;not&nbsp;universally&nbsp;available<br>
268792&nbsp;&nbsp;==&nbsp;267997&nbsp;(valgrind&nbsp;seg&nbsp;faults&nbsp;on&nbsp;startup&nbsp;when&nbsp;compiled&nbsp;with&nbsp;Xcode&nbsp;4)<br>
268930&nbsp;&nbsp;s390x:&nbsp;MHY&nbsp;is&nbsp;not&nbsp;universally&nbsp;available<br>
269078&nbsp;&nbsp;arm-&gt;IR:&nbsp;unhandled&nbsp;instruction&nbsp;SUB&nbsp;(SP&nbsp;minus&nbsp;immediate/register)&nbsp;<br>
269079&nbsp;&nbsp;Support&nbsp;ptrace&nbsp;system&nbsp;call&nbsp;on&nbsp;ARM<br>
269144&nbsp;&nbsp;missing&nbsp;"Bad&nbsp;option"&nbsp;error&nbsp;message<br>
269209&nbsp;&nbsp;conditional&nbsp;load&nbsp;and&nbsp;store&nbsp;facility&nbsp;(z196)<br>
269354&nbsp;&nbsp;Shift&nbsp;by&nbsp;zero&nbsp;on&nbsp;x86&nbsp;can&nbsp;incorrectly&nbsp;clobber&nbsp;CC_NDEP<br>
269641&nbsp;&nbsp;==&nbsp;267997&nbsp;(valgrind&nbsp;segfaults&nbsp;immediately&nbsp;(segmentation&nbsp;fault))<br>
269736&nbsp;&nbsp;s390x:&nbsp;minor&nbsp;code&nbsp;generation&nbsp;tweaks<br>
269778&nbsp;&nbsp;==&nbsp;272986&nbsp;(valgrind.h:&nbsp;swap&nbsp;roles&nbsp;of&nbsp;VALGRIND_DO_CLIENT_REQUEST()&nbsp;..)<br>
269863&nbsp;&nbsp;s390x:&nbsp;remove&nbsp;unused&nbsp;function&nbsp;parameters<br>
269864&nbsp;&nbsp;s390x:&nbsp;tweak&nbsp;s390_emit_load_cc&nbsp;<br>
269884&nbsp;&nbsp;==&nbsp;250101&nbsp;(overhead&nbsp;for&nbsp;huge&nbsp;blocks&nbsp;exhausts&nbsp;space&nbsp;too&nbsp;soon)<br>
270082&nbsp;&nbsp;s390x:&nbsp;Make&nbsp;sure&nbsp;to&nbsp;point&nbsp;the&nbsp;PSW&nbsp;address&nbsp;to&nbsp;the&nbsp;next&nbsp;address&nbsp;on&nbsp;SIGILL<br>
270115&nbsp;&nbsp;s390x:&nbsp;rewrite&nbsp;some&nbsp;testcases<br>
270309&nbsp;&nbsp;==&nbsp;267997&nbsp;(valgrind&nbsp;crash&nbsp;on&nbsp;startup)<br>
270320&nbsp;&nbsp;add&nbsp;support&nbsp;for&nbsp;Linux&nbsp;FIOQSIZE&nbsp;ioctl()&nbsp;call<br>
270326&nbsp;&nbsp;segfault&nbsp;while&nbsp;trying&nbsp;to&nbsp;sanitize&nbsp;the&nbsp;environment&nbsp;passed&nbsp;to&nbsp;execle<br>
270794&nbsp;&nbsp;IBM&nbsp;POWER7&nbsp;support&nbsp;patch&nbsp;causes&nbsp;regression&nbsp;in&nbsp;none/tests<br>
270851&nbsp;&nbsp;IBM&nbsp;POWER7&nbsp;fcfidus&nbsp;instruction&nbsp;causes&nbsp;memcheck&nbsp;to&nbsp;fail<br>
270856&nbsp;&nbsp;IBM&nbsp;POWER7&nbsp;xsnmaddadp&nbsp;instruction&nbsp;causes&nbsp;memcheck&nbsp;to&nbsp;fail&nbsp;on&nbsp;32bit&nbsp;app&nbsp;<br>
270925&nbsp;&nbsp;hyper-optimized&nbsp;strspn()&nbsp;in&nbsp;/lib64/libc-2.13.so&nbsp;needs&nbsp;fix<br>
270959&nbsp;&nbsp;s390x:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;R0&nbsp;as&nbsp;base&nbsp;register<br>
271042&nbsp;&nbsp;VSX&nbsp;configure&nbsp;check&nbsp;fails&nbsp;when&nbsp;it&nbsp;should&nbsp;not&nbsp;<br>
271043&nbsp;&nbsp;Valgrind&nbsp;build&nbsp;fails&nbsp;with&nbsp;assembler&nbsp;error&nbsp;on&nbsp;ppc64&nbsp;with&nbsp;binutils&nbsp;2.21&nbsp;<br>
271259&nbsp;&nbsp;s390x:&nbsp;fix&nbsp;code&nbsp;confusion&nbsp;<br>
271337&nbsp;&nbsp;==&nbsp;267997&nbsp;(Valgrind&nbsp;segfaults&nbsp;on&nbsp;MacOS&nbsp;X)<br>
271385&nbsp;&nbsp;s390x:&nbsp;Implement&nbsp;Ist_MBE&nbsp;<br>
271501&nbsp;&nbsp;s390x:&nbsp;misc&nbsp;cleanups&nbsp;<br>
271504&nbsp;&nbsp;s390x:&nbsp;promote&nbsp;likely&nbsp;and&nbsp;unlikely&nbsp;<br>
271579&nbsp;&nbsp;ppc:&nbsp;using&nbsp;wrong&nbsp;enum&nbsp;type&nbsp;<br>
271615&nbsp;&nbsp;unhandled&nbsp;instruction&nbsp;"popcnt"&nbsp;(arch=amd10h)&nbsp;<br>
271730&nbsp;&nbsp;Fix&nbsp;bug&nbsp;when&nbsp;checking&nbsp;ioctls:&nbsp;duplicate&nbsp;check&nbsp;<br>
271776&nbsp;&nbsp;s390x:&nbsp;provide&nbsp;STFLE&nbsp;instruction&nbsp;support&nbsp;<br>
271779&nbsp;&nbsp;s390x:&nbsp;provide&nbsp;clock&nbsp;instructions&nbsp;like&nbsp;STCK&nbsp;<br>
271799&nbsp;&nbsp;Darwin:&nbsp;ioctls&nbsp;without&nbsp;an&nbsp;arg&nbsp;report&nbsp;a&nbsp;memory&nbsp;error&nbsp;<br>
271820&nbsp;&nbsp;arm:&nbsp;fix&nbsp;type&nbsp;confusion&nbsp;<br>
271917&nbsp;&nbsp;pthread_cond_timedwait&nbsp;failure&nbsp;leads&nbsp;to&nbsp;not-locked&nbsp;false&nbsp;positive&nbsp;<br>
272067&nbsp;&nbsp;s390x:&nbsp;fix&nbsp;DISP20&nbsp;macro&nbsp;<br>
272615&nbsp;&nbsp;A&nbsp;typo&nbsp;in&nbsp;debug&nbsp;output&nbsp;in&nbsp;mc_leakcheck.c<br>
272661&nbsp;&nbsp;callgrind_annotate&nbsp;chokes&nbsp;when&nbsp;run&nbsp;from&nbsp;paths&nbsp;containing&nbsp;regex&nbsp;chars<br>
272893&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x38&nbsp;0x2B&nbsp;0xC1&nbsp;0x66&nbsp;0xF&nbsp;0x7F&nbsp;==&nbsp;(closed&nbsp;as&nbsp;dup)<br>
272955&nbsp;&nbsp;Unhandled&nbsp;syscall&nbsp;error&nbsp;for&nbsp;pwrite64&nbsp;on&nbsp;ppc64&nbsp;arch&nbsp;<br>
272967&nbsp;&nbsp;make&nbsp;documentation&nbsp;build-system&nbsp;more&nbsp;robust&nbsp;<br>
272986&nbsp;&nbsp;Fix&nbsp;gcc-4.6&nbsp;warnings&nbsp;with&nbsp;valgrind.h<br>
273318&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0x61&nbsp;0xC1&nbsp;0x38&nbsp;(missing&nbsp;PCMPxSTRx&nbsp;case)<br>
273318&nbsp;&nbsp;unhandled&nbsp;PCMPxSTRx&nbsp;case:&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0x61&nbsp;0xC1&nbsp;0x38&nbsp;<br>
273431&nbsp;&nbsp;valgrind&nbsp;segfaults&nbsp;in&nbsp;evalCfiExpr&nbsp;(debuginfo.c:2039)<br>
273465&nbsp;&nbsp;Callgrind:&nbsp;jumps.c:164&nbsp;(new_jcc):&nbsp;Assertion&nbsp;'(0&nbsp;&lt;=&nbsp;jmp)&nbsp;&amp;&amp;&nbsp;...'<br>
273536&nbsp;&nbsp;Build&nbsp;error:&nbsp;multiple&nbsp;definition&nbsp;of&nbsp;`vgDrd_pthread_cond_initializer'<br>
273640&nbsp;&nbsp;ppc64-linux:&nbsp;unhandled&nbsp;syscalls&nbsp;setresuid(164)&nbsp;and&nbsp;setresgid(169)<br>
273729&nbsp;&nbsp;==&nbsp;283000&nbsp;(Illegal&nbsp;opcode&nbsp;for&nbsp;SSE2&nbsp;"roundsd"&nbsp;instruction)<br>
273778&nbsp;&nbsp;exp-ptrcheck:&nbsp;unhandled&nbsp;sysno&nbsp;==&nbsp;259<br>
274089&nbsp;&nbsp;exp-ptrcheck:&nbsp;unhandled&nbsp;sysno&nbsp;==&nbsp;208<br>
274378&nbsp;&nbsp;s390x:&nbsp;Various&nbsp;dispatcher&nbsp;tweaks<br>
274447&nbsp;&nbsp;WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;340<br>
274776&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x38&nbsp;0x2B&nbsp;0xC5&nbsp;0x66<br>
274784&nbsp;&nbsp;==&nbsp;267997&nbsp;(valgrind&nbsp;ls&nbsp;-l&nbsp;results&nbsp;in&nbsp;Segmentation&nbsp;Fault)<br>
274926&nbsp;&nbsp;valgrind&nbsp;does&nbsp;not&nbsp;build&nbsp;against&nbsp;linux-3<br>
275148&nbsp;&nbsp;configure&nbsp;FAIL&nbsp;with&nbsp;glibc-2.14<br>
275151&nbsp;&nbsp;Fedora&nbsp;15&nbsp;/&nbsp;glibc-2.14&nbsp;'make&nbsp;regtest'&nbsp;FAIL<br>
275168&nbsp;&nbsp;Make&nbsp;Valgrind&nbsp;work&nbsp;for&nbsp;MacOSX&nbsp;10.7&nbsp;Lion<br>
275212&nbsp;&nbsp;==&nbsp;275284&nbsp;(lots&nbsp;of&nbsp;false&nbsp;positives&nbsp;from&nbsp;__memcpy_ssse3_back&nbsp;et&nbsp;al)<br>
275278&nbsp;&nbsp;valgrind&nbsp;does&nbsp;not&nbsp;build&nbsp;on&nbsp;Linux&nbsp;kernel&nbsp;3.0.*&nbsp;due&nbsp;to&nbsp;silly<br>
275284&nbsp;&nbsp;Valgrind&nbsp;memcpy/memmove&nbsp;redirection&nbsp;stopped&nbsp;working&nbsp;in&nbsp;glibc&nbsp;2.14/x86_64<br>
275308&nbsp;&nbsp;Fix&nbsp;implementation&nbsp;for&nbsp;ppc64&nbsp;fres&nbsp;instruc<br>
275339&nbsp;&nbsp;s390x:&nbsp;fix&nbsp;testcase&nbsp;compile&nbsp;warnings<br>
275517&nbsp;&nbsp;s390x:&nbsp;Provide&nbsp;support&nbsp;for&nbsp;CKSM&nbsp;instruction<br>
275710&nbsp;&nbsp;s390x:&nbsp;get&nbsp;rid&nbsp;of&nbsp;redundant&nbsp;address&nbsp;mode&nbsp;calculation<br>
275815&nbsp;&nbsp;==&nbsp;247894&nbsp;(Valgrind&nbsp;doesn't&nbsp;know&nbsp;about&nbsp;Linux&nbsp;readahead(2)&nbsp;syscall)<br>
275852&nbsp;&nbsp;==&nbsp;250101&nbsp;(valgrind&nbsp;uses&nbsp;all&nbsp;swap&nbsp;space&nbsp;and&nbsp;is&nbsp;killed)<br>
276784&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.06&nbsp;--&nbsp;stage&nbsp;3<br>
276987&nbsp;&nbsp;gdbsrv:&nbsp;fix&nbsp;tests&nbsp;following&nbsp;recent&nbsp;commits<br>
277045&nbsp;&nbsp;Valgrind&nbsp;crashes&nbsp;with&nbsp;&nbsp;unhandled&nbsp;DW_OP_&nbsp;opcode&nbsp;0x2a<br>
277199&nbsp;&nbsp;The&nbsp;test_isa_2_06_part1.c&nbsp;in&nbsp;none/tests/ppc64&nbsp;should&nbsp;be&nbsp;a&nbsp;symlink<br>
277471&nbsp;&nbsp;Unhandled&nbsp;syscall:&nbsp;340<br>
277610&nbsp;&nbsp;valgrind&nbsp;crashes&nbsp;in&nbsp;VG_(lseek)(core_fd,&nbsp;phdrs[idx].p_offset,&nbsp;...)<br>
277653&nbsp;&nbsp;ARM:&nbsp;support&nbsp;Thumb2&nbsp;PLD&nbsp;instruction<br>
277663&nbsp;&nbsp;ARM:&nbsp;NEON&nbsp;float&nbsp;VMUL&nbsp;by&nbsp;scalar&nbsp;incorrect<br>
277689&nbsp;&nbsp;ARM:&nbsp;tests&nbsp;for&nbsp;VSTn&nbsp;with&nbsp;register&nbsp;post-index&nbsp;are&nbsp;broken<br>
277694&nbsp;&nbsp;ARM:&nbsp;BLX&nbsp;LR&nbsp;instruction&nbsp;broken&nbsp;in&nbsp;ARM&nbsp;mode<br>
277780&nbsp;&nbsp;ARM:&nbsp;VMOV.F32&nbsp;(immediate)&nbsp;instruction&nbsp;is&nbsp;broken<br>
278057&nbsp;&nbsp;fuse&nbsp;filesystem&nbsp;syscall&nbsp;deadlocks<br>
278078&nbsp;&nbsp;Unimplemented&nbsp;syscall&nbsp;280&nbsp;on&nbsp;ppc32<br>
278349&nbsp;&nbsp;F_GETPIPE_SZ&nbsp;and&nbsp;&nbsp;F_SETPIPE_SZ&nbsp;Linux&nbsp;fcntl&nbsp;commands<br>
278454&nbsp;&nbsp;VALGRIND_STACK_DEREGISTER&nbsp;has&nbsp;wrong&nbsp;output&nbsp;type<br>
278502&nbsp;&nbsp;==&nbsp;275284&nbsp;(Valgrind&nbsp;confuses&nbsp;memcpy()&nbsp;and&nbsp;memmove())<br>
278892&nbsp;&nbsp;gdbsrv:&nbsp;factorize&nbsp;gdb&nbsp;version&nbsp;handling,&nbsp;fix&nbsp;doc&nbsp;and&nbsp;typos<br>
279027&nbsp;&nbsp;Support&nbsp;for&nbsp;MVCL&nbsp;and&nbsp;CLCL&nbsp;instruction<br>
279027&nbsp;&nbsp;s390x:&nbsp;Provide&nbsp;support&nbsp;for&nbsp;CLCL&nbsp;and&nbsp;MVCL&nbsp;instructions<br>
279062&nbsp;&nbsp;Remove&nbsp;a&nbsp;redundant&nbsp;check&nbsp;in&nbsp;the&nbsp;insn&nbsp;selector&nbsp;for&nbsp;ppc.<br>
279071&nbsp;&nbsp;JDK&nbsp;creates&nbsp;PTEST&nbsp;with&nbsp;redundant&nbsp;REX.W&nbsp;prefix<br>
279212&nbsp;&nbsp;gdbsrv:&nbsp;add&nbsp;monitor&nbsp;cmd&nbsp;v.info&nbsp;scheduler.<br>
279378&nbsp;&nbsp;exp-ptrcheck:&nbsp;the&nbsp;'impossible'&nbsp;happened&nbsp;on&nbsp;mkfifo&nbsp;call<br>
279698&nbsp;&nbsp;memcheck&nbsp;discards&nbsp;valid-bits&nbsp;for&nbsp;packuswb<br>
279795&nbsp;&nbsp;memcheck&nbsp;reports&nbsp;uninitialised&nbsp;values&nbsp;for&nbsp;mincore&nbsp;on&nbsp;amd64<br>
279994&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power&nbsp;ISA&nbsp;2.06&nbsp;--&nbsp;stage&nbsp;3<br>
280083&nbsp;&nbsp;mempolicy&nbsp;syscall&nbsp;check&nbsp;errors<br>
280290&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x38&nbsp;0x28&nbsp;0xC1&nbsp;0x66&nbsp;0xF&nbsp;0x6F<br>
280710&nbsp;&nbsp;s390x:&nbsp;config&nbsp;files&nbsp;for&nbsp;nightly&nbsp;builds<br>
280757&nbsp;&nbsp;/tmp&nbsp;dir&nbsp;still&nbsp;used&nbsp;by&nbsp;valgrind&nbsp;even&nbsp;if&nbsp;TMPDIR&nbsp;is&nbsp;specified<br>
280965&nbsp;&nbsp;Valgrind&nbsp;breaks&nbsp;fcntl&nbsp;locks&nbsp;when&nbsp;program&nbsp;does&nbsp;mmap<br>
281138&nbsp;&nbsp;WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;340<br>
281241&nbsp;&nbsp;==&nbsp;275168&nbsp;(valgrind&nbsp;useless&nbsp;on&nbsp;Macos&nbsp;10.7.1&nbsp;Lion)<br>
281304&nbsp;&nbsp;==&nbsp;275168&nbsp;(Darwin:&nbsp;dyld&nbsp;"cannot&nbsp;load&nbsp;inserted&nbsp;library")<br>
281305&nbsp;&nbsp;==&nbsp;275168&nbsp;(unhandled&nbsp;syscall:&nbsp;unix:357&nbsp;on&nbsp;Darwin&nbsp;11.1)<br>
281468&nbsp;&nbsp;s390x:&nbsp;handle&nbsp;do_clone&nbsp;and&nbsp;gcc&nbsp;clones&nbsp;in&nbsp;call&nbsp;traces<br>
281488&nbsp;&nbsp;ARM:&nbsp;VFP&nbsp;register&nbsp;corruption<br>
281828&nbsp;&nbsp;==&nbsp;275284&nbsp;(false&nbsp;memmove&nbsp;warning:&nbsp;"Source&nbsp;and&nbsp;destination&nbsp;overlap")<br>
281883&nbsp;&nbsp;s390x:&nbsp;Fix&nbsp;system&nbsp;call&nbsp;wrapper&nbsp;for&nbsp;"clone".<br>
282105&nbsp;&nbsp;generalise&nbsp;'reclaimSuperBlock'&nbsp;to&nbsp;also&nbsp;reclaim&nbsp;splittable&nbsp;superblock<br>
282112&nbsp;&nbsp;Unhandled&nbsp;instruction&nbsp;bytes:&nbsp;0xDE&nbsp;0xD9&nbsp;0x9B&nbsp;0xDF&nbsp;(fcompp)<br>
282238&nbsp;&nbsp;SLES10:&nbsp;make&nbsp;check&nbsp;fails<br>
282979&nbsp;&nbsp;strcasestr&nbsp;needs&nbsp;replacement&nbsp;with&nbsp;recent(&gt;=2.12)&nbsp;glibc<br>
283000&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0xA&nbsp;0xC0&nbsp;0x9&nbsp;0xF3&nbsp;0xF<br>
283243&nbsp;&nbsp;Regression&nbsp;in&nbsp;ppc64&nbsp;memcheck&nbsp;tests<br>
283325&nbsp;&nbsp;==&nbsp;267997&nbsp;(Darwin:&nbsp;V&nbsp;segfaults&nbsp;on&nbsp;startup&nbsp;when&nbsp;built&nbsp;with&nbsp;Xcode&nbsp;4.0)<br>
283427&nbsp;&nbsp;re-connect&nbsp;epoll_pwait&nbsp;syscall&nbsp;on&nbsp;ARM&nbsp;linux<br>
283600&nbsp;&nbsp;gdbsrv:&nbsp;android:&nbsp;port&nbsp;vgdb.c<br>
283709&nbsp;&nbsp;none/tests/faultstatus&nbsp;needs&nbsp;to&nbsp;account&nbsp;for&nbsp;page&nbsp;size<br>
284305&nbsp;&nbsp;filter_gdb&nbsp;needs&nbsp;enhancement&nbsp;to&nbsp;work&nbsp;on&nbsp;ppc64<br>
284384&nbsp;&nbsp;clang&nbsp;3.1&nbsp;-Wunused-value&nbsp;warnings&nbsp;in&nbsp;valgrind.h,&nbsp;memcheck.h<br>
284472&nbsp;&nbsp;Thumb2&nbsp;ROR.W&nbsp;encoding&nbsp;T2&nbsp;not&nbsp;implemented<br>
284621&nbsp;&nbsp;XML-escape&nbsp;process&nbsp;command&nbsp;line&nbsp;in&nbsp;XML&nbsp;output<br>
n-i-bz&nbsp;&nbsp;cachegrind/callgrind:&nbsp;handle&nbsp;CPUID&nbsp;information&nbsp;for&nbsp;Core&nbsp;iX&nbsp;Intel&nbsp;CPUs<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;have&nbsp;non-power-of-2&nbsp;sizes&nbsp;(also&nbsp;AMDs)<br>
n-i-bz&nbsp;&nbsp;don't&nbsp;be&nbsp;spooked&nbsp;by&nbsp;libraries&nbsp;mashed&nbsp;by&nbsp;elfhack<br>
n-i-bz&nbsp;&nbsp;don't&nbsp;be&nbsp;spooked&nbsp;by&nbsp;libxul.so&nbsp;linked&nbsp;with&nbsp;gold<br>
n-i-bz&nbsp;&nbsp;improved&nbsp;checking&nbsp;for&nbsp;VALGRIND_CHECK_MEM_IS_DEFINED<br>
<br>
(3.7.0-TEST1:&nbsp;27&nbsp;&nbsp;October&nbsp;2011,&nbsp;vex&nbsp;r2228,&nbsp;valgrind&nbsp;r12245)<br>
(3.7.0.RC1:&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;November&nbsp;2011,&nbsp;vex&nbsp;r2231,&nbsp;valgrind&nbsp;r12257)<br>
(3.7.0:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;November&nbsp;2011,&nbsp;vex&nbsp;r2231,&nbsp;valgrind&nbsp;r12258)<br>
<br>
<br>
<br>
Release&nbsp;3.6.1&nbsp;(16&nbsp;February&nbsp;2011)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.6.1&nbsp;is&nbsp;a&nbsp;bug&nbsp;fix&nbsp;release.&nbsp;&nbsp;It&nbsp;adds&nbsp;support&nbsp;for&nbsp;some&nbsp;SSE4<br>
instructions&nbsp;that&nbsp;were&nbsp;omitted&nbsp;in&nbsp;3.6.0&nbsp;due&nbsp;to&nbsp;lack&nbsp;of&nbsp;time.&nbsp;&nbsp;Initial<br>
support&nbsp;for&nbsp;glibc-2.13&nbsp;has&nbsp;been&nbsp;added.&nbsp;&nbsp;A&nbsp;number&nbsp;of&nbsp;bugs&nbsp;causing<br>
crashing&nbsp;or&nbsp;assertion&nbsp;failures&nbsp;have&nbsp;been&nbsp;fixed.<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed&nbsp;or&nbsp;resolved.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"<br>
stands&nbsp;for&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us<br>
but&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
bugzilla&nbsp;(http://bugs.kde.org/enter_valgrind_bug.cgi)&nbsp;rather&nbsp;than<br>
mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that&nbsp;are<br>
not&nbsp;entered&nbsp;into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
To&nbsp;see&nbsp;details&nbsp;of&nbsp;a&nbsp;given&nbsp;bug,&nbsp;visit<br>
https://bugs.kde.org/show_bug.cgi?id=XXXXXX<br>
where&nbsp;XXXXXX&nbsp;is&nbsp;the&nbsp;bug&nbsp;number&nbsp;as&nbsp;listed&nbsp;below.<br>
<br>
188572&nbsp;&nbsp;Valgrind&nbsp;on&nbsp;Mac&nbsp;should&nbsp;suppress&nbsp;setenv()&nbsp;mem&nbsp;leak<br>
194402&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x48&nbsp;0xF&nbsp;0xAE&nbsp;0x4&nbsp;(proper&nbsp;FX{SAVE,RSTOR}&nbsp;support)<br>
210481&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;Assertion&nbsp;`sz&nbsp;==&nbsp;2&nbsp;||&nbsp;sz&nbsp;==&nbsp;4'&nbsp;failed&nbsp;(REX.W&nbsp;POPQ)<br>
246152&nbsp;&nbsp;callgrind&nbsp;internal&nbsp;error&nbsp;after&nbsp;pthread_cancel&nbsp;on&nbsp;32&nbsp;Bit&nbsp;Linux<br>
250038&nbsp;&nbsp;ppc64:&nbsp;Altivec&nbsp;LVSR&nbsp;and&nbsp;LVSL&nbsp;instructions&nbsp;fail&nbsp;their&nbsp;regtest<br>
254420&nbsp;&nbsp;memory&nbsp;pool&nbsp;tracking&nbsp;broken&nbsp;<br>
254957&nbsp;&nbsp;Test&nbsp;code&nbsp;failing&nbsp;to&nbsp;compile&nbsp;due&nbsp;to&nbsp;changes&nbsp;in&nbsp;memcheck.h<br>
255009&nbsp;&nbsp;helgrind/drd:&nbsp;crash&nbsp;on&nbsp;chmod&nbsp;with&nbsp;invalid&nbsp;parameter<br>
255130&nbsp;&nbsp;readdwarf3.c&nbsp;parse_type_DIE&nbsp;confused&nbsp;by&nbsp;GNAT&nbsp;Ada&nbsp;types<br>
255355&nbsp;&nbsp;helgrind/drd:&nbsp;crash&nbsp;on&nbsp;threaded&nbsp;programs&nbsp;doing&nbsp;fork<br>
255358&nbsp;&nbsp;==&nbsp;255355<br>
255418&nbsp;&nbsp;(SSE4.x)&nbsp;rint&nbsp;call&nbsp;compiled&nbsp;with&nbsp;ICC<br>
255822&nbsp;&nbsp;--gen-suppressions&nbsp;can&nbsp;create&nbsp;invalid&nbsp;files:&nbsp;"too&nbsp;many&nbsp;callers&nbsp;[...]"<br>
255888&nbsp;&nbsp;closing&nbsp;valgrindoutput&nbsp;tag&nbsp;outputted&nbsp;to&nbsp;log-stream&nbsp;on&nbsp;error<br>
255963&nbsp;&nbsp;(SSE4.x)&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0x9&nbsp;0xDB&nbsp;0x0&nbsp;(ROUNDPD)<br>
255966&nbsp;&nbsp;Slowness&nbsp;when&nbsp;using&nbsp;mempool&nbsp;annotations<br>
256387&nbsp;&nbsp;vex&nbsp;x86-&gt;IR:&nbsp;0xD4&nbsp;0xA&nbsp;0x2&nbsp;0x7&nbsp;(AAD&nbsp;and&nbsp;AAM)<br>
256600&nbsp;&nbsp;super-optimized&nbsp;strcasecmp()&nbsp;false&nbsp;positive<br>
256669&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;Unhandled&nbsp;LOOPNEL&nbsp;insn&nbsp;on&nbsp;amd64<br>
256968&nbsp;&nbsp;(SSE4.x)&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x38&nbsp;0x10&nbsp;0xD3&nbsp;0x66&nbsp;(BLENDVPx)<br>
257011&nbsp;&nbsp;(SSE4.x)&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0xE&nbsp;0xFD&nbsp;0xA0&nbsp;(PBLENDW)<br>
257063&nbsp;&nbsp;(SSE4.x)&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0x8&nbsp;0xC0&nbsp;0x0&nbsp;(ROUNDPS)<br>
257276&nbsp;&nbsp;Missing&nbsp;case&nbsp;in&nbsp;memcheck&nbsp;--track-origins=yes<br>
258870&nbsp;&nbsp;(SSE4.x)&nbsp;Add&nbsp;support&nbsp;for&nbsp;EXTRACTPS&nbsp;SSE&nbsp;4.1&nbsp;instruction<br>
261966&nbsp;&nbsp;(SSE4.x)&nbsp;support&nbsp;for&nbsp;CRC32B&nbsp;and&nbsp;CRC32Q&nbsp;is&nbsp;lacking&nbsp;(also&nbsp;CRC32{W,L})<br>
262985&nbsp;&nbsp;VEX&nbsp;regression&nbsp;in&nbsp;valgrind&nbsp;3.6.0&nbsp;in&nbsp;handling&nbsp;PowerPC&nbsp;VMX<br>
262995&nbsp;&nbsp;(SSE4.x)&nbsp;crash&nbsp;when&nbsp;trying&nbsp;to&nbsp;valgrind&nbsp;gcc-snapshot&nbsp;(PCMPxSTRx&nbsp;$0)<br>
263099&nbsp;&nbsp;callgrind_annotate&nbsp;counts&nbsp;Ir&nbsp;improperly&nbsp;[...]<br>
263877&nbsp;&nbsp;undefined&nbsp;coprocessor&nbsp;instruction&nbsp;on&nbsp;ARMv7<br>
265964&nbsp;&nbsp;configure&nbsp;FAIL&nbsp;with&nbsp;glibc-2.13<br>
n-i-bz&nbsp;&nbsp;Fix&nbsp;compile&nbsp;error&nbsp;w/&nbsp;icc-12.x&nbsp;in&nbsp;guest_arm_toIR.c<br>
n-i-bz&nbsp;&nbsp;Docs:&nbsp;fix&nbsp;bogus&nbsp;descriptions&nbsp;for&nbsp;VALGRIND_CREATE_BLOCK&nbsp;et&nbsp;al<br>
n-i-bz&nbsp;&nbsp;Massif:&nbsp;don't&nbsp;assert&nbsp;on&nbsp;shmat()&nbsp;with&nbsp;--pages-as-heap=yes<br>
n-i-bz&nbsp;&nbsp;Bug&nbsp;fixes&nbsp;and&nbsp;major&nbsp;speedups&nbsp;for&nbsp;the&nbsp;exp-DHAT&nbsp;space&nbsp;profiler<br>
n-i-bz&nbsp;&nbsp;DRD:&nbsp;disable&nbsp;--free-is-write&nbsp;due&nbsp;to&nbsp;implementation&nbsp;difficulties<br>
<br>
(3.6.1:&nbsp;16&nbsp;February&nbsp;2011,&nbsp;vex&nbsp;r2103,&nbsp;valgrind&nbsp;r11561).<br>
<br>
<br>
<br>
Release&nbsp;3.6.0&nbsp;(21&nbsp;October&nbsp;2010)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.6.0&nbsp;is&nbsp;a&nbsp;feature&nbsp;release&nbsp;with&nbsp;many&nbsp;significant&nbsp;improvements&nbsp;and&nbsp;the<br>
usual&nbsp;collection&nbsp;of&nbsp;bug&nbsp;fixes.<br>
<br>
This&nbsp;release&nbsp;supports&nbsp;X86/Linux,&nbsp;AMD64/Linux,&nbsp;ARM/Linux,&nbsp;PPC32/Linux,<br>
PPC64/Linux,&nbsp;X86/Darwin&nbsp;and&nbsp;AMD64/Darwin.&nbsp;&nbsp;Support&nbsp;for&nbsp;recent&nbsp;distros<br>
and&nbsp;toolchain&nbsp;components&nbsp;(glibc&nbsp;2.12,&nbsp;gcc&nbsp;4.5,&nbsp;OSX&nbsp;10.6)&nbsp;has&nbsp;been&nbsp;added.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-------------------------<br>
<br>
Here&nbsp;are&nbsp;some&nbsp;highlights.&nbsp;&nbsp;Details&nbsp;are&nbsp;shown&nbsp;further&nbsp;down:<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;ARM/Linux.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;recent&nbsp;Linux&nbsp;distros:&nbsp;Ubuntu&nbsp;10.10&nbsp;and&nbsp;Fedora&nbsp;14.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;10.6,&nbsp;both&nbsp;32-&nbsp;and&nbsp;64-bit&nbsp;executables.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;the&nbsp;SSE4.2&nbsp;instruction&nbsp;set.<br>
<br>
*&nbsp;Enhancements&nbsp;to&nbsp;the&nbsp;Callgrind&nbsp;profiler,&nbsp;including&nbsp;the&nbsp;ability&nbsp;to<br>
&nbsp;&nbsp;handle&nbsp;CPUs&nbsp;with&nbsp;three&nbsp;levels&nbsp;of&nbsp;cache.<br>
<br>
*&nbsp;A&nbsp;new&nbsp;experimental&nbsp;heap&nbsp;profiler,&nbsp;DHAT.<br>
<br>
*&nbsp;A&nbsp;huge&nbsp;number&nbsp;of&nbsp;bug&nbsp;fixes&nbsp;and&nbsp;small&nbsp;enhancements.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-------------------------<br>
<br>
Here&nbsp;are&nbsp;details&nbsp;of&nbsp;the&nbsp;above&nbsp;changes,&nbsp;together&nbsp;with&nbsp;descriptions&nbsp;of<br>
many&nbsp;other&nbsp;changes,&nbsp;and&nbsp;a&nbsp;list&nbsp;of&nbsp;fixed&nbsp;bugs.<br>
<br>
*&nbsp;==================&nbsp;PLATFORM&nbsp;CHANGES&nbsp;=================<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;ARM/Linux.&nbsp;&nbsp;Valgrind&nbsp;now&nbsp;runs&nbsp;on&nbsp;ARMv7&nbsp;capable&nbsp;CPUs<br>
&nbsp;&nbsp;running&nbsp;Linux.&nbsp;&nbsp;It&nbsp;is&nbsp;known&nbsp;to&nbsp;work&nbsp;on&nbsp;Ubuntu&nbsp;10.04,&nbsp;Ubuntu&nbsp;10.10,<br>
&nbsp;&nbsp;and&nbsp;Maemo&nbsp;5,&nbsp;so&nbsp;you&nbsp;can&nbsp;run&nbsp;Valgrind&nbsp;on&nbsp;your&nbsp;Nokia&nbsp;N900&nbsp;if&nbsp;you&nbsp;want.<br>
<br>
&nbsp;&nbsp;This&nbsp;requires&nbsp;a&nbsp;CPU&nbsp;capable&nbsp;of&nbsp;running&nbsp;the&nbsp;ARMv7-A&nbsp;instruction&nbsp;set<br>
&nbsp;&nbsp;(Cortex&nbsp;A5,&nbsp;A8&nbsp;and&nbsp;A9).&nbsp;&nbsp;Valgrind&nbsp;provides&nbsp;fairly&nbsp;complete&nbsp;coverage<br>
&nbsp;&nbsp;of&nbsp;the&nbsp;user&nbsp;space&nbsp;instruction&nbsp;set,&nbsp;including&nbsp;ARM&nbsp;and&nbsp;Thumb&nbsp;integer<br>
&nbsp;&nbsp;code,&nbsp;VFPv3,&nbsp;NEON&nbsp;and&nbsp;V6&nbsp;media&nbsp;instructions.&nbsp;&nbsp;The&nbsp;Memcheck,<br>
&nbsp;&nbsp;Cachegrind&nbsp;and&nbsp;Massif&nbsp;tools&nbsp;work&nbsp;properly;&nbsp;other&nbsp;tools&nbsp;work&nbsp;to<br>
&nbsp;&nbsp;varying&nbsp;degrees.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;recent&nbsp;Linux&nbsp;distros&nbsp;(Ubuntu&nbsp;10.10&nbsp;and&nbsp;Fedora&nbsp;14),&nbsp;along<br>
&nbsp;&nbsp;with&nbsp;support&nbsp;for&nbsp;recent&nbsp;releases&nbsp;of&nbsp;the&nbsp;underlying&nbsp;toolchain<br>
&nbsp;&nbsp;components,&nbsp;notably&nbsp;gcc-4.5&nbsp;and&nbsp;glibc-2.12.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;10.6,&nbsp;both&nbsp;32-&nbsp;and&nbsp;64-bit&nbsp;executables.&nbsp;&nbsp;64-bit<br>
&nbsp;&nbsp;support&nbsp;also&nbsp;works&nbsp;much&nbsp;better&nbsp;on&nbsp;OS&nbsp;X&nbsp;10.5,&nbsp;and&nbsp;is&nbsp;as&nbsp;solid&nbsp;as<br>
&nbsp;&nbsp;32-bit&nbsp;support&nbsp;now.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;the&nbsp;SSE4.2&nbsp;instruction&nbsp;set.&nbsp;&nbsp;SSE4.2&nbsp;is&nbsp;supported&nbsp;in<br>
&nbsp;&nbsp;64-bit&nbsp;mode.&nbsp;&nbsp;In&nbsp;32-bit&nbsp;mode,&nbsp;support&nbsp;is&nbsp;only&nbsp;available&nbsp;up&nbsp;to&nbsp;and<br>
&nbsp;&nbsp;including&nbsp;SSSE3.&nbsp;&nbsp;Some&nbsp;exceptions:&nbsp;SSE4.2&nbsp;AES&nbsp;instructions&nbsp;are&nbsp;not<br>
&nbsp;&nbsp;supported&nbsp;in&nbsp;64-bit&nbsp;mode,&nbsp;and&nbsp;32-bit&nbsp;mode&nbsp;does&nbsp;in&nbsp;fact&nbsp;support&nbsp;the<br>
&nbsp;&nbsp;bare&nbsp;minimum&nbsp;SSE4&nbsp;instructions&nbsp;to&nbsp;needed&nbsp;to&nbsp;run&nbsp;programs&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X<br>
&nbsp;&nbsp;10.6&nbsp;on&nbsp;32-bit&nbsp;targets.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;IBM&nbsp;POWER6&nbsp;cpus&nbsp;has&nbsp;been&nbsp;improved.&nbsp;&nbsp;The&nbsp;Power&nbsp;ISA&nbsp;up&nbsp;to<br>
&nbsp;&nbsp;and&nbsp;including&nbsp;version&nbsp;2.05&nbsp;is&nbsp;supported.<br>
<br>
*&nbsp;====================&nbsp;TOOL&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;Cachegrind&nbsp;has&nbsp;a&nbsp;new&nbsp;processing&nbsp;script,&nbsp;cg_diff,&nbsp;which&nbsp;finds&nbsp;the<br>
&nbsp;&nbsp;difference&nbsp;between&nbsp;two&nbsp;profiles.&nbsp;&nbsp;It's&nbsp;very&nbsp;useful&nbsp;for&nbsp;evaluating<br>
&nbsp;&nbsp;the&nbsp;performance&nbsp;effects&nbsp;of&nbsp;a&nbsp;change&nbsp;in&nbsp;a&nbsp;program.<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;Related&nbsp;to&nbsp;this&nbsp;change,&nbsp;the&nbsp;meaning&nbsp;of&nbsp;cg_annotate's&nbsp;(rarely-used)<br>
&nbsp;&nbsp;--threshold&nbsp;option&nbsp;has&nbsp;changed;&nbsp;this&nbsp;is&nbsp;unlikely&nbsp;to&nbsp;affect&nbsp;many<br>
&nbsp;&nbsp;people,&nbsp;if&nbsp;you&nbsp;do&nbsp;use&nbsp;it&nbsp;please&nbsp;see&nbsp;the&nbsp;user&nbsp;manual&nbsp;for&nbsp;details.<br>
<br>
*&nbsp;Callgrind&nbsp;now&nbsp;can&nbsp;do&nbsp;branch&nbsp;prediction&nbsp;simulation,&nbsp;similar&nbsp;to<br>
&nbsp;&nbsp;Cachegrind.&nbsp;&nbsp;In&nbsp;addition,&nbsp;it&nbsp;optionally&nbsp;can&nbsp;count&nbsp;the&nbsp;number&nbsp;of<br>
&nbsp;&nbsp;executed&nbsp;global&nbsp;bus&nbsp;events.&nbsp;&nbsp;Both&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;a&nbsp;better<br>
&nbsp;&nbsp;approximation&nbsp;of&nbsp;a&nbsp;"Cycle&nbsp;Estimation"&nbsp;as&nbsp;derived&nbsp;event&nbsp;(you&nbsp;need&nbsp;to<br>
&nbsp;&nbsp;update&nbsp;the&nbsp;event&nbsp;formula&nbsp;in&nbsp;KCachegrind&nbsp;yourself).<br>
<br>
*&nbsp;Cachegrind&nbsp;and&nbsp;Callgrind&nbsp;now&nbsp;refer&nbsp;to&nbsp;the&nbsp;LL&nbsp;(last-level)&nbsp;cache<br>
&nbsp;&nbsp;rather&nbsp;than&nbsp;the&nbsp;L2&nbsp;cache.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;accommodate&nbsp;machines&nbsp;with<br>
&nbsp;&nbsp;three&nbsp;levels&nbsp;of&nbsp;caches&nbsp;--&nbsp;if&nbsp;Cachegrind/Callgrind&nbsp;auto-detects&nbsp;the<br>
&nbsp;&nbsp;cache&nbsp;configuration&nbsp;of&nbsp;such&nbsp;a&nbsp;machine&nbsp;it&nbsp;will&nbsp;run&nbsp;the&nbsp;simulation&nbsp;as<br>
&nbsp;&nbsp;if&nbsp;the&nbsp;L2&nbsp;cache&nbsp;isn't&nbsp;present.&nbsp;&nbsp;This&nbsp;means&nbsp;the&nbsp;results&nbsp;are&nbsp;less<br>
&nbsp;&nbsp;likely&nbsp;to&nbsp;match&nbsp;the&nbsp;true&nbsp;result&nbsp;for&nbsp;the&nbsp;machine,&nbsp;but<br>
&nbsp;&nbsp;Cachegrind/Callgrind's&nbsp;results&nbsp;are&nbsp;already&nbsp;only&nbsp;approximate,&nbsp;and<br>
&nbsp;&nbsp;should&nbsp;not&nbsp;be&nbsp;considered&nbsp;authoritative.&nbsp;&nbsp;The&nbsp;results&nbsp;are&nbsp;still<br>
&nbsp;&nbsp;useful&nbsp;for&nbsp;giving&nbsp;a&nbsp;general&nbsp;idea&nbsp;about&nbsp;a&nbsp;program's&nbsp;locality.<br>
<br>
*&nbsp;Massif&nbsp;has&nbsp;a&nbsp;new&nbsp;option,&nbsp;--pages-as-heap,&nbsp;which&nbsp;is&nbsp;disabled&nbsp;by<br>
&nbsp;&nbsp;default.&nbsp;&nbsp;When&nbsp;enabled,&nbsp;instead&nbsp;of&nbsp;tracking&nbsp;allocations&nbsp;at&nbsp;the&nbsp;level<br>
&nbsp;&nbsp;of&nbsp;heap&nbsp;blocks&nbsp;(as&nbsp;allocated&nbsp;with&nbsp;malloc/new/new[]),&nbsp;it&nbsp;instead<br>
&nbsp;&nbsp;tracks&nbsp;memory&nbsp;allocations&nbsp;at&nbsp;the&nbsp;level&nbsp;of&nbsp;memory&nbsp;pages&nbsp;(as&nbsp;mapped&nbsp;by<br>
&nbsp;&nbsp;mmap,&nbsp;brk,&nbsp;etc).&nbsp;&nbsp;Each&nbsp;mapped&nbsp;page&nbsp;is&nbsp;treated&nbsp;as&nbsp;its&nbsp;own&nbsp;block.<br>
&nbsp;&nbsp;Interpreting&nbsp;the&nbsp;page-level&nbsp;output&nbsp;is&nbsp;harder&nbsp;than&nbsp;the&nbsp;heap-level<br>
&nbsp;&nbsp;output,&nbsp;but&nbsp;this&nbsp;option&nbsp;is&nbsp;useful&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;account&nbsp;for&nbsp;every<br>
&nbsp;&nbsp;byte&nbsp;of&nbsp;memory&nbsp;used&nbsp;by&nbsp;a&nbsp;program.<br>
<br>
*&nbsp;DRD&nbsp;has&nbsp;two&nbsp;new&nbsp;command-line&nbsp;options:&nbsp;--free-is-write&nbsp;and<br>
&nbsp;&nbsp;--trace-alloc.&nbsp;&nbsp;The&nbsp;former&nbsp;allows&nbsp;to&nbsp;detect&nbsp;reading&nbsp;from&nbsp;already&nbsp;freed<br>
&nbsp;&nbsp;memory,&nbsp;and&nbsp;the&nbsp;latter&nbsp;allows&nbsp;tracing&nbsp;of&nbsp;all&nbsp;memory&nbsp;allocations&nbsp;and<br>
&nbsp;&nbsp;deallocations.<br>
<br>
*&nbsp;DRD&nbsp;has&nbsp;several&nbsp;new&nbsp;annotations.&nbsp;&nbsp;Custom&nbsp;barrier&nbsp;implementations&nbsp;can<br>
&nbsp;&nbsp;now&nbsp;be&nbsp;annotated,&nbsp;as&nbsp;well&nbsp;as&nbsp;benign&nbsp;races&nbsp;on&nbsp;static&nbsp;variables.<br>
<br>
*&nbsp;DRD's&nbsp;happens&nbsp;before&nbsp;/&nbsp;happens&nbsp;after&nbsp;annotations&nbsp;have&nbsp;been&nbsp;made&nbsp;more<br>
&nbsp;&nbsp;powerful,&nbsp;so&nbsp;that&nbsp;they&nbsp;can&nbsp;now&nbsp;also&nbsp;be&nbsp;used&nbsp;to&nbsp;annotate&nbsp;e.g.&nbsp;a&nbsp;smart<br>
&nbsp;&nbsp;pointer&nbsp;implementation.<br>
<br>
*&nbsp;Helgrind's&nbsp;annotation&nbsp;set&nbsp;has&nbsp;also&nbsp;been&nbsp;drastically&nbsp;improved,&nbsp;so&nbsp;as<br>
&nbsp;&nbsp;to&nbsp;provide&nbsp;to&nbsp;users&nbsp;a&nbsp;general&nbsp;set&nbsp;of&nbsp;annotations&nbsp;to&nbsp;describe&nbsp;locks,<br>
&nbsp;&nbsp;semaphores,&nbsp;barriers&nbsp;and&nbsp;condition&nbsp;variables.&nbsp;&nbsp;Annotations&nbsp;to<br>
&nbsp;&nbsp;describe&nbsp;thread-safe&nbsp;reference&nbsp;counted&nbsp;heap&nbsp;objects&nbsp;have&nbsp;also&nbsp;been<br>
&nbsp;&nbsp;added.<br>
<br>
*&nbsp;Memcheck&nbsp;has&nbsp;a&nbsp;new&nbsp;command-line&nbsp;option,&nbsp;--show-possibly-lost,&nbsp;which<br>
&nbsp;&nbsp;is&nbsp;enabled&nbsp;by&nbsp;default.&nbsp;&nbsp;When&nbsp;disabled,&nbsp;the&nbsp;leak&nbsp;detector&nbsp;will&nbsp;not<br>
&nbsp;&nbsp;show&nbsp;possibly-lost&nbsp;blocks.<br>
<br>
*&nbsp;A&nbsp;new&nbsp;experimental&nbsp;heap&nbsp;profiler,&nbsp;DHAT&nbsp;(Dynamic&nbsp;Heap&nbsp;Analysis&nbsp;Tool),<br>
&nbsp;&nbsp;has&nbsp;been&nbsp;added.&nbsp;&nbsp;DHAT&nbsp;keeps&nbsp;track&nbsp;of&nbsp;allocated&nbsp;heap&nbsp;blocks,&nbsp;and&nbsp;also<br>
&nbsp;&nbsp;inspects&nbsp;every&nbsp;memory&nbsp;reference&nbsp;to&nbsp;see&nbsp;which&nbsp;block&nbsp;(if&nbsp;any)&nbsp;is&nbsp;being<br>
&nbsp;&nbsp;accessed.&nbsp;&nbsp;This&nbsp;gives&nbsp;a&nbsp;lot&nbsp;of&nbsp;insight&nbsp;into&nbsp;block&nbsp;lifetimes,<br>
&nbsp;&nbsp;utilisation,&nbsp;turnover,&nbsp;liveness,&nbsp;and&nbsp;the&nbsp;location&nbsp;of&nbsp;hot&nbsp;and&nbsp;cold<br>
&nbsp;&nbsp;fields.&nbsp;&nbsp;You&nbsp;can&nbsp;use&nbsp;DHAT&nbsp;to&nbsp;do&nbsp;hot-field&nbsp;profiling.<br>
<br>
*&nbsp;====================&nbsp;OTHER&nbsp;CHANGES&nbsp;====================<br>
<br>
*&nbsp;Improved&nbsp;support&nbsp;for&nbsp;unfriendly&nbsp;self-modifying&nbsp;code:&nbsp;the&nbsp;extra<br>
&nbsp;&nbsp;overhead&nbsp;incurred&nbsp;by&nbsp;--smc-check=all&nbsp;has&nbsp;been&nbsp;reduced&nbsp;by<br>
&nbsp;&nbsp;approximately&nbsp;a&nbsp;factor&nbsp;of&nbsp;5&nbsp;as&nbsp;compared&nbsp;with&nbsp;3.5.0.<br>
<br>
*&nbsp;Ability&nbsp;to&nbsp;show&nbsp;directory&nbsp;names&nbsp;for&nbsp;source&nbsp;files&nbsp;in&nbsp;error&nbsp;messages.<br>
&nbsp;&nbsp;This&nbsp;is&nbsp;combined&nbsp;with&nbsp;a&nbsp;flexible&nbsp;mechanism&nbsp;for&nbsp;specifying&nbsp;which<br>
&nbsp;&nbsp;parts&nbsp;of&nbsp;the&nbsp;paths&nbsp;should&nbsp;be&nbsp;shown.&nbsp;&nbsp;This&nbsp;is&nbsp;enabled&nbsp;by&nbsp;the&nbsp;new&nbsp;flag<br>
&nbsp;&nbsp;--fullpath-after.<br>
<br>
*&nbsp;A&nbsp;new&nbsp;flag,&nbsp;--require-text-symbol,&nbsp;which&nbsp;will&nbsp;stop&nbsp;the&nbsp;run&nbsp;if&nbsp;a<br>
&nbsp;&nbsp;specified&nbsp;symbol&nbsp;is&nbsp;not&nbsp;found&nbsp;it&nbsp;a&nbsp;given&nbsp;shared&nbsp;object&nbsp;when&nbsp;it&nbsp;is<br>
&nbsp;&nbsp;loaded&nbsp;into&nbsp;the&nbsp;process.&nbsp;&nbsp;This&nbsp;makes&nbsp;advanced&nbsp;working&nbsp;with&nbsp;function<br>
&nbsp;&nbsp;intercepting&nbsp;and&nbsp;wrapping&nbsp;safer&nbsp;and&nbsp;more&nbsp;reliable.<br>
<br>
*&nbsp;Improved&nbsp;support&nbsp;for&nbsp;the&nbsp;Valkyrie&nbsp;GUI,&nbsp;version&nbsp;2.0.0.&nbsp;&nbsp;GUI&nbsp;output<br>
&nbsp;&nbsp;and&nbsp;control&nbsp;of&nbsp;Valgrind&nbsp;is&nbsp;now&nbsp;available&nbsp;for&nbsp;the&nbsp;tools&nbsp;Memcheck&nbsp;and<br>
&nbsp;&nbsp;Helgrind.&nbsp;&nbsp;XML&nbsp;output&nbsp;from&nbsp;Valgrind&nbsp;is&nbsp;available&nbsp;for&nbsp;Memcheck,<br>
&nbsp;&nbsp;Helgrind&nbsp;and&nbsp;exp-Ptrcheck.<br>
<br>
*&nbsp;More&nbsp;reliable&nbsp;stack&nbsp;unwinding&nbsp;on&nbsp;amd64-linux,&nbsp;particularly&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;presence&nbsp;of&nbsp;function&nbsp;wrappers,&nbsp;and&nbsp;with&nbsp;gcc-4.5&nbsp;compiled&nbsp;code.<br>
<br>
*&nbsp;Modest&nbsp;scalability&nbsp;(performance&nbsp;improvements)&nbsp;for&nbsp;massive<br>
&nbsp;&nbsp;long-running&nbsp;applications,&nbsp;particularly&nbsp;for&nbsp;those&nbsp;with&nbsp;huge&nbsp;amounts<br>
&nbsp;&nbsp;of&nbsp;code.<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;analyzing&nbsp;programs&nbsp;running&nbsp;under&nbsp;Wine&nbsp;with&nbsp;has&nbsp;been<br>
&nbsp;&nbsp;improved.&nbsp;&nbsp;The&nbsp;header&nbsp;files&nbsp;&lt;valgrind/valgrind.h&gt;,<br>
&nbsp;&nbsp;&lt;valgrind/memcheck.h&gt;&nbsp;and&nbsp;&lt;valgrind/drd.h&gt;&nbsp;can&nbsp;now&nbsp;be&nbsp;used&nbsp;in<br>
&nbsp;&nbsp;Windows-programs&nbsp;compiled&nbsp;with&nbsp;MinGW&nbsp;or&nbsp;one&nbsp;of&nbsp;the&nbsp;Microsoft&nbsp;Visual<br>
&nbsp;&nbsp;Studio&nbsp;compilers.<br>
<br>
*&nbsp;A&nbsp;rare&nbsp;but&nbsp;serious&nbsp;error&nbsp;in&nbsp;the&nbsp;64-bit&nbsp;x86&nbsp;CPU&nbsp;simulation&nbsp;was&nbsp;fixed.<br>
&nbsp;&nbsp;The&nbsp;32-bit&nbsp;simulator&nbsp;was&nbsp;not&nbsp;affected.&nbsp;&nbsp;This&nbsp;did&nbsp;not&nbsp;occur&nbsp;often,<br>
&nbsp;&nbsp;but&nbsp;when&nbsp;it&nbsp;did&nbsp;would&nbsp;usually&nbsp;crash&nbsp;the&nbsp;program&nbsp;under&nbsp;test.<br>
&nbsp;&nbsp;Bug&nbsp;245925.<br>
<br>
*&nbsp;A&nbsp;large&nbsp;number&nbsp;of&nbsp;bugs&nbsp;were&nbsp;fixed.&nbsp;&nbsp;These&nbsp;are&nbsp;shown&nbsp;below.<br>
<br>
*&nbsp;A&nbsp;number&nbsp;of&nbsp;bugs&nbsp;were&nbsp;investigated,&nbsp;and&nbsp;were&nbsp;candidates&nbsp;for&nbsp;fixing,<br>
&nbsp;&nbsp;but&nbsp;are&nbsp;not&nbsp;fixed&nbsp;in&nbsp;3.6.0,&nbsp;due&nbsp;to&nbsp;lack&nbsp;of&nbsp;developer&nbsp;time.&nbsp;&nbsp;They&nbsp;may<br>
&nbsp;&nbsp;get&nbsp;fixed&nbsp;in&nbsp;later&nbsp;releases.&nbsp;&nbsp;They&nbsp;are:<br>
<br>
&nbsp;&nbsp;194402&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x48&nbsp;0xF&nbsp;0xAE&nbsp;0x4&nbsp;0x24&nbsp;0x49&nbsp;&nbsp;(FXSAVE64)<br>
&nbsp;&nbsp;212419&nbsp;&nbsp;false&nbsp;positive&nbsp;"lock&nbsp;order&nbsp;violated"&nbsp;(A+B&nbsp;vs&nbsp;A)&nbsp;<br>
&nbsp;&nbsp;213685&nbsp;&nbsp;Undefined&nbsp;value&nbsp;propagates&nbsp;past&nbsp;dependency&nbsp;breaking&nbsp;instruction<br>
&nbsp;&nbsp;216837&nbsp;&nbsp;Incorrect&nbsp;instrumentation&nbsp;of&nbsp;NSOperationQueue&nbsp;on&nbsp;Darwin&nbsp;<br>
&nbsp;&nbsp;237920&nbsp;&nbsp;valgrind&nbsp;segfault&nbsp;on&nbsp;fork&nbsp;failure&nbsp;<br>
&nbsp;&nbsp;242137&nbsp;&nbsp;support&nbsp;for&nbsp;code&nbsp;compiled&nbsp;by&nbsp;LLVM-2.8<br>
&nbsp;&nbsp;242423&nbsp;&nbsp;Another&nbsp;unknown&nbsp;Intel&nbsp;cache&nbsp;config&nbsp;value&nbsp;<br>
&nbsp;&nbsp;243232&nbsp;&nbsp;Inconsistent&nbsp;Lock&nbsp;Orderings&nbsp;report&nbsp;with&nbsp;trylock&nbsp;<br>
&nbsp;&nbsp;243483&nbsp;&nbsp;ppc:&nbsp;callgrind&nbsp;triggers&nbsp;VEX&nbsp;assertion&nbsp;failure&nbsp;<br>
&nbsp;&nbsp;243935&nbsp;&nbsp;Helgrind:&nbsp;implementation&nbsp;of&nbsp;ANNOTATE_HAPPENS_BEFORE()&nbsp;is&nbsp;wrong<br>
&nbsp;&nbsp;244677&nbsp;&nbsp;Helgrind&nbsp;crash&nbsp;hg_main.c:616&nbsp;(map_threads_lookup):&nbsp;Assertion<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'thr'&nbsp;failed.&nbsp;<br>
&nbsp;&nbsp;246152&nbsp;&nbsp;callgrind&nbsp;internal&nbsp;error&nbsp;after&nbsp;pthread_cancel&nbsp;on&nbsp;32&nbsp;Bit&nbsp;Linux&nbsp;<br>
&nbsp;&nbsp;249435&nbsp;&nbsp;Analyzing&nbsp;wine&nbsp;programs&nbsp;with&nbsp;callgrind&nbsp;triggers&nbsp;a&nbsp;crash&nbsp;<br>
&nbsp;&nbsp;250038&nbsp;&nbsp;ppc64:&nbsp;Altivec&nbsp;lvsr&nbsp;and&nbsp;lvsl&nbsp;instructions&nbsp;fail&nbsp;their&nbsp;regtest<br>
&nbsp;&nbsp;250065&nbsp;&nbsp;Handling&nbsp;large&nbsp;allocations&nbsp;<br>
&nbsp;&nbsp;250101&nbsp;&nbsp;huge&nbsp;"free"&nbsp;memory&nbsp;usage&nbsp;due&nbsp;to&nbsp;m_mallocfree.c<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"superblocks&nbsp;fragmentation"<br>
&nbsp;&nbsp;251569&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0xF&nbsp;0x1&nbsp;0xF9&nbsp;0x8B&nbsp;0x4C&nbsp;0x24&nbsp;(RDTSCP)<br>
&nbsp;&nbsp;252091&nbsp;&nbsp;Callgrind&nbsp;on&nbsp;ARM&nbsp;does&nbsp;not&nbsp;detect&nbsp;function&nbsp;returns&nbsp;correctly<br>
&nbsp;&nbsp;252600&nbsp;&nbsp;[PATCH]&nbsp;Allow&nbsp;lhs&nbsp;to&nbsp;be&nbsp;a&nbsp;pointer&nbsp;for&nbsp;shl/shr<br>
&nbsp;&nbsp;254420&nbsp;&nbsp;memory&nbsp;pool&nbsp;tracking&nbsp;broken<br>
&nbsp;&nbsp;n-i-bz&nbsp;&nbsp;support&nbsp;for&nbsp;adding&nbsp;symbols&nbsp;for&nbsp;JIT&nbsp;generated&nbsp;code<br>
<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed&nbsp;or&nbsp;resolved.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"<br>
stands&nbsp;for&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us<br>
but&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
bugzilla&nbsp;(http://bugs.kde.org/enter_valgrind_bug.cgi)&nbsp;rather&nbsp;than<br>
mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that&nbsp;are<br>
not&nbsp;entered&nbsp;into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
To&nbsp;see&nbsp;details&nbsp;of&nbsp;a&nbsp;given&nbsp;bug,&nbsp;visit<br>
https://bugs.kde.org/show_bug.cgi?id=XXXXXX<br>
where&nbsp;XXXXXX&nbsp;is&nbsp;the&nbsp;bug&nbsp;number&nbsp;as&nbsp;listed&nbsp;below.<br>
<br>
135264&nbsp;&nbsp;dcbzl&nbsp;instruction&nbsp;missing<br>
142688&nbsp;&nbsp;==&nbsp;250799<br>
153699&nbsp;&nbsp;Valgrind&nbsp;should&nbsp;report&nbsp;unaligned&nbsp;reads&nbsp;with&nbsp;movdqa<br>
180217&nbsp;&nbsp;==&nbsp;212335<br>
190429&nbsp;&nbsp;Valgrind&nbsp;reports&nbsp;lost&nbsp;of&nbsp;errors&nbsp;in&nbsp;ld.so<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;x86_64&nbsp;2.9.90&nbsp;glibc&nbsp;<br>
197266&nbsp;&nbsp;valgrind&nbsp;appears&nbsp;to&nbsp;choke&nbsp;on&nbsp;the&nbsp;xmms&nbsp;instruction<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"roundsd"&nbsp;on&nbsp;x86_64&nbsp;<br>
197988&nbsp;&nbsp;Crash&nbsp;when&nbsp;demangling&nbsp;very&nbsp;large&nbsp;symbol&nbsp;names<br>
202315&nbsp;&nbsp;unhandled&nbsp;syscall:&nbsp;332&nbsp;(inotify_init1)<br>
203256&nbsp;&nbsp;Add&nbsp;page-level&nbsp;profiling&nbsp;to&nbsp;Massif<br>
205093&nbsp;&nbsp;dsymutil=yes&nbsp;needs&nbsp;quotes,&nbsp;locking&nbsp;(partial&nbsp;fix)<br>
205241&nbsp;&nbsp;Snow&nbsp;Leopard&nbsp;10.6&nbsp;support&nbsp;(partial&nbsp;fix)<br>
206600&nbsp;&nbsp;Leak&nbsp;checker&nbsp;fails&nbsp;to&nbsp;upgrade&nbsp;indirect&nbsp;blocks&nbsp;when&nbsp;their<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent&nbsp;becomes&nbsp;reachable&nbsp;<br>
210935&nbsp;&nbsp;port&nbsp;valgrind.h&nbsp;(not&nbsp;valgrind)&nbsp;to&nbsp;win32&nbsp;so&nbsp;apps&nbsp;run&nbsp;under<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wine&nbsp;can&nbsp;make&nbsp;client&nbsp;requests<br>
211410&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x15&nbsp;0xFF&nbsp;0xFF&nbsp;0x0&nbsp;0x0&nbsp;0x89<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;within&nbsp;Linux&nbsp;ip-stack&nbsp;checksum&nbsp;functions&nbsp;<br>
212335&nbsp;&nbsp;unhandled&nbsp;instruction&nbsp;bytes:&nbsp;0xF3&nbsp;0xF&nbsp;0xBD&nbsp;0xC0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lzcnt&nbsp;%eax,%eax)&nbsp;<br>
213685&nbsp;&nbsp;Undefined&nbsp;value&nbsp;propagates&nbsp;past&nbsp;dependency&nbsp;breaking&nbsp;instruction<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(partial&nbsp;fix)<br>
215914&nbsp;&nbsp;Valgrind&nbsp;inserts&nbsp;bogus&nbsp;empty&nbsp;environment&nbsp;variable&nbsp;<br>
217863&nbsp;&nbsp;==&nbsp;197988<br>
219538&nbsp;&nbsp;adjtimex&nbsp;syscall&nbsp;wrapper&nbsp;wrong&nbsp;in&nbsp;readonly&nbsp;adjtime&nbsp;mode&nbsp;<br>
222545&nbsp;&nbsp;shmat&nbsp;fails&nbsp;under&nbsp;valgind&nbsp;on&nbsp;some&nbsp;arm&nbsp;targets&nbsp;<br>
222560&nbsp;&nbsp;ARM&nbsp;NEON&nbsp;support&nbsp;<br>
230407&nbsp;&nbsp;==&nbsp;202315<br>
231076&nbsp;&nbsp;==&nbsp;202315<br>
232509&nbsp;&nbsp;Docs&nbsp;build&nbsp;fails&nbsp;with&nbsp;formatting&nbsp;inside&nbsp;&lt;title&gt;&lt;/title&gt;&nbsp;elements&nbsp;<br>
232793&nbsp;&nbsp;==&nbsp;202315<br>
235642&nbsp;&nbsp;[PATCH]&nbsp;syswrap-linux.c:&nbsp;support&nbsp;evdev&nbsp;EVIOCG*&nbsp;ioctls&nbsp;<br>
236546&nbsp;&nbsp;vex&nbsp;x86-&gt;IR:&nbsp;0x66&nbsp;0xF&nbsp;0x3A&nbsp;0xA<br>
237202&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0xF3&nbsp;0xF&nbsp;0xB8&nbsp;0xC0&nbsp;0x49&nbsp;0x3B&nbsp;<br>
237371&nbsp;&nbsp;better&nbsp;support&nbsp;for&nbsp;VALGRIND_MALLOCLIKE_BLOCK&nbsp;<br>
237485&nbsp;&nbsp;symlink&nbsp;(syscall&nbsp;57)&nbsp;is&nbsp;not&nbsp;supported&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;<br>
237723&nbsp;&nbsp;sysno&nbsp;==&nbsp;101&nbsp;exp-ptrcheck:&nbsp;the&nbsp;'impossible'&nbsp;happened:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unhandled&nbsp;syscall&nbsp;<br>
238208&nbsp;&nbsp;is_just_below_ESP&nbsp;doesn't&nbsp;take&nbsp;into&nbsp;account&nbsp;red-zone&nbsp;<br>
238345&nbsp;&nbsp;valgrind&nbsp;passes&nbsp;wrong&nbsp;$0&nbsp;when&nbsp;executing&nbsp;a&nbsp;shell&nbsp;script&nbsp;<br>
238679&nbsp;&nbsp;mq_timedreceive&nbsp;syscall&nbsp;doesn't&nbsp;flag&nbsp;the&nbsp;reception&nbsp;buffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;"defined"<br>
238696&nbsp;&nbsp;fcntl&nbsp;command&nbsp;F_DUPFD_CLOEXEC&nbsp;not&nbsp;supported&nbsp;<br>
238713&nbsp;&nbsp;unhandled&nbsp;instruction&nbsp;bytes:&nbsp;0x66&nbsp;0xF&nbsp;0x29&nbsp;0xC6&nbsp;<br>
238713&nbsp;&nbsp;unhandled&nbsp;instruction&nbsp;bytes:&nbsp;0x66&nbsp;0xF&nbsp;0x29&nbsp;0xC6&nbsp;<br>
238745&nbsp;&nbsp;3.5.0&nbsp;Make&nbsp;fails&nbsp;on&nbsp;PPC&nbsp;Altivec&nbsp;opcodes,&nbsp;though&nbsp;configure<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;says&nbsp;"Altivec&nbsp;off"<br>
239992&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;0x48&nbsp;0xF&nbsp;0xC4&nbsp;0xC1&nbsp;0x0&nbsp;0x48&nbsp;<br>
240488&nbsp;&nbsp;==&nbsp;197988<br>
240639&nbsp;&nbsp;==&nbsp;212335<br>
241377&nbsp;&nbsp;==&nbsp;236546<br>
241903&nbsp;&nbsp;==&nbsp;202315<br>
241920&nbsp;&nbsp;==&nbsp;212335<br>
242606&nbsp;&nbsp;unhandled&nbsp;syscall:&nbsp;setegid&nbsp;(in&nbsp;Ptrcheck)<br>
242814&nbsp;&nbsp;Helgrind&nbsp;"Impossible&nbsp;has&nbsp;happened"&nbsp;during<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QApplication::initInstance();&nbsp;<br>
243064&nbsp;&nbsp;Valgrind&nbsp;attempting&nbsp;to&nbsp;read&nbsp;debug&nbsp;information&nbsp;from&nbsp;iso&nbsp;<br>
243270&nbsp;&nbsp;Make&nbsp;stack&nbsp;unwinding&nbsp;in&nbsp;Valgrind&nbsp;wrappers&nbsp;more&nbsp;reliable<br>
243884&nbsp;&nbsp;exp-ptrcheck:&nbsp;the&nbsp;'impossible&nbsp;happened:&nbsp;unhandled&nbsp;syscall&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sysno&nbsp;=&nbsp;277&nbsp;(mq_open)<br>
244009&nbsp;&nbsp;exp-ptrcheck&nbsp;unknown&nbsp;syscalls&nbsp;in&nbsp;analyzing&nbsp;lighttpd<br>
244493&nbsp;&nbsp;ARM&nbsp;VFP&nbsp;d16-d31&nbsp;registers&nbsp;support&nbsp;<br>
244670&nbsp;&nbsp;add&nbsp;support&nbsp;for&nbsp;audit_session_self&nbsp;syscall&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;10.6<br>
244921&nbsp;&nbsp;The&nbsp;xml&nbsp;report&nbsp;of&nbsp;helgrind&nbsp;tool&nbsp;is&nbsp;not&nbsp;well&nbsp;format<br>
244923&nbsp;&nbsp;In&nbsp;the&nbsp;xml&nbsp;report&nbsp;file,&nbsp;the&nbsp;&lt;preamble&gt;&nbsp;not&nbsp;escape&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xml&nbsp;char,&nbsp;eg&nbsp;'&lt;','&amp;','&gt;'<br>
245535&nbsp;&nbsp;print&nbsp;full&nbsp;path&nbsp;names&nbsp;in&nbsp;plain&nbsp;text&nbsp;reports&nbsp;<br>
245925&nbsp;&nbsp;x86-64&nbsp;red&nbsp;zone&nbsp;handling&nbsp;problem&nbsp;<br>
246258&nbsp;&nbsp;Valgrind&nbsp;not&nbsp;catching&nbsp;integer&nbsp;underruns&nbsp;+&nbsp;new&nbsp;[]&nbsp;s<br>
246311&nbsp;&nbsp;reg/reg&nbsp;cmpxchg&nbsp;doesn't&nbsp;work&nbsp;on&nbsp;amd64<br>
246549&nbsp;&nbsp;unhandled&nbsp;syscall&nbsp;unix:277&nbsp;while&nbsp;testing&nbsp;32-bit&nbsp;Darwin&nbsp;app&nbsp;<br>
246888&nbsp;&nbsp;Improve&nbsp;Makefile.vex.am&nbsp;<br>
247510&nbsp;&nbsp;[OS&nbsp;X&nbsp;10.6]&nbsp;Memcheck&nbsp;reports&nbsp;unaddressable&nbsp;bytes&nbsp;passed&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;[f]chmod_extended<br>
247526&nbsp;&nbsp;IBM&nbsp;POWER6&nbsp;(ISA&nbsp;2.05)&nbsp;support&nbsp;is&nbsp;incomplete<br>
247561&nbsp;&nbsp;Some&nbsp;leak&nbsp;testcases&nbsp;fails&nbsp;due&nbsp;to&nbsp;reachable&nbsp;addresses&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caller&nbsp;save&nbsp;regs<br>
247875&nbsp;&nbsp;sizeofIRType&nbsp;to&nbsp;handle&nbsp;Ity_I128&nbsp;<br>
247894&nbsp;&nbsp;[PATCH]&nbsp;unhandled&nbsp;syscall&nbsp;sys_readahead&nbsp;<br>
247980&nbsp;&nbsp;Doesn't&nbsp;honor&nbsp;CFLAGS&nbsp;passed&nbsp;to&nbsp;configure&nbsp;<br>
248373&nbsp;&nbsp;darwin10.supp&nbsp;is&nbsp;empty&nbsp;in&nbsp;the&nbsp;trunk&nbsp;<br>
248822&nbsp;&nbsp;Linux&nbsp;FIBMAP&nbsp;ioctl&nbsp;has&nbsp;int&nbsp;parameter&nbsp;instead&nbsp;of&nbsp;long<br>
248893&nbsp;&nbsp;[PATCH]&nbsp;make&nbsp;readdwarf.c&nbsp;big&nbsp;endianess&nbsp;safe&nbsp;to&nbsp;enable<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unwinding&nbsp;on&nbsp;big&nbsp;endian&nbsp;systems<br>
249224&nbsp;&nbsp;Syscall&nbsp;336&nbsp;not&nbsp;supported&nbsp;(SYS_proc_info)&nbsp;<br>
249359&nbsp;&nbsp;==&nbsp;245535<br>
249775&nbsp;&nbsp;Incorrect&nbsp;scheme&nbsp;for&nbsp;detecting&nbsp;NEON&nbsp;capabilities&nbsp;of&nbsp;host&nbsp;CPU<br>
249943&nbsp;&nbsp;jni&nbsp;JVM&nbsp;init&nbsp;fails&nbsp;when&nbsp;using&nbsp;valgrind<br>
249991&nbsp;&nbsp;Valgrind&nbsp;incorrectly&nbsp;declares&nbsp;AESKEYGENASSIST&nbsp;support<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;since&nbsp;VEX&nbsp;r2011<br>
249996&nbsp;&nbsp;linux/arm:&nbsp;unhandled&nbsp;syscall:&nbsp;181&nbsp;(__NR_pwrite64)<br>
250799&nbsp;&nbsp;frexp$fenv_access_off&nbsp;function&nbsp;generates&nbsp;SIGILL&nbsp;<br>
250998&nbsp;&nbsp;vex&nbsp;x86-&gt;IR:&nbsp;unhandled&nbsp;instruction&nbsp;bytes:&nbsp;0x66&nbsp;0x66&nbsp;0x66&nbsp;0x2E&nbsp;<br>
251251&nbsp;&nbsp;support&nbsp;pclmulqdq&nbsp;insn&nbsp;<br>
251362&nbsp;&nbsp;valgrind:&nbsp;ARM:&nbsp;attach&nbsp;to&nbsp;debugger&nbsp;either&nbsp;fails&nbsp;or&nbsp;provokes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kernel&nbsp;oops&nbsp;<br>
251674&nbsp;&nbsp;Unhandled&nbsp;syscall&nbsp;294<br>
251818&nbsp;&nbsp;==&nbsp;254550<br>
<br>
254257&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;debugfiles&nbsp;found&nbsp;by&nbsp;build-id<br>
254550&nbsp;&nbsp;[PATCH]&nbsp;Implement&nbsp;DW_ATE_UTF&nbsp;(DWARF4)<br>
254646&nbsp;&nbsp;Wrapped&nbsp;functions&nbsp;cause&nbsp;stack&nbsp;misalignment&nbsp;on&nbsp;OS&nbsp;X<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(and&nbsp;possibly&nbsp;Linux)<br>
254556&nbsp;&nbsp;ARM:&nbsp;valgrinding&nbsp;anything&nbsp;fails&nbsp;with&nbsp;SIGSEGV&nbsp;for&nbsp;0xFFFF0FA0<br>
<br>
(3.6.0:&nbsp;21&nbsp;October&nbsp;2010,&nbsp;vex&nbsp;r2068,&nbsp;valgrind&nbsp;r11471).<br>
<br>
<br>
<br>
Release&nbsp;3.5.0&nbsp;(19&nbsp;August&nbsp;2009)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.5.0&nbsp;is&nbsp;a&nbsp;feature&nbsp;release&nbsp;with&nbsp;many&nbsp;significant&nbsp;improvements&nbsp;and&nbsp;the<br>
usual&nbsp;collection&nbsp;of&nbsp;bug&nbsp;fixes.&nbsp;&nbsp;The&nbsp;main&nbsp;improvement&nbsp;is&nbsp;that&nbsp;Valgrind<br>
now&nbsp;works&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X.<br>
<br>
This&nbsp;release&nbsp;supports&nbsp;X86/Linux,&nbsp;AMD64/Linux,&nbsp;PPC32/Linux,&nbsp;PPC64/Linux<br>
and&nbsp;X86/Darwin.&nbsp;&nbsp;Support&nbsp;for&nbsp;recent&nbsp;distros&nbsp;and&nbsp;toolchain&nbsp;components<br>
(glibc&nbsp;2.10,&nbsp;gcc&nbsp;4.5)&nbsp;has&nbsp;been&nbsp;added.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-------------------------<br>
<br>
Here&nbsp;is&nbsp;a&nbsp;short&nbsp;summary&nbsp;of&nbsp;the&nbsp;changes.&nbsp;&nbsp;Details&nbsp;are&nbsp;shown&nbsp;further<br>
down:<br>
<br>
*&nbsp;Support&nbsp;for&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;(10.5.x).<br>
<br>
*&nbsp;Improvements&nbsp;and&nbsp;simplifications&nbsp;to&nbsp;Memcheck's&nbsp;leak&nbsp;checker.<br>
<br>
*&nbsp;Clarification&nbsp;and&nbsp;simplifications&nbsp;in&nbsp;various&nbsp;aspects&nbsp;of&nbsp;Valgrind's<br>
&nbsp;&nbsp;text&nbsp;output.<br>
<br>
*&nbsp;XML&nbsp;output&nbsp;for&nbsp;Helgrind&nbsp;and&nbsp;Ptrcheck.<br>
<br>
*&nbsp;Performance&nbsp;and&nbsp;stability&nbsp;improvements&nbsp;for&nbsp;Helgrind&nbsp;and&nbsp;DRD.<br>
<br>
*&nbsp;Genuinely&nbsp;atomic&nbsp;support&nbsp;for&nbsp;x86/amd64/ppc&nbsp;atomic&nbsp;instructions.<br>
<br>
*&nbsp;A&nbsp;new&nbsp;experimental&nbsp;tool,&nbsp;BBV,&nbsp;useful&nbsp;for&nbsp;computer&nbsp;architecture<br>
&nbsp;&nbsp;research.<br>
<br>
*&nbsp;Improved&nbsp;Wine&nbsp;support,&nbsp;including&nbsp;ability&nbsp;to&nbsp;read&nbsp;Windows&nbsp;PDB<br>
&nbsp;&nbsp;debuginfo.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-------------------------<br>
<br>
Here&nbsp;are&nbsp;details&nbsp;of&nbsp;the&nbsp;above&nbsp;changes,&nbsp;followed&nbsp;by&nbsp;descriptions&nbsp;of<br>
many&nbsp;other&nbsp;minor&nbsp;changes,&nbsp;and&nbsp;a&nbsp;list&nbsp;of&nbsp;fixed&nbsp;bugs.<br>
<br>
<br>
*&nbsp;Valgrind&nbsp;now&nbsp;runs&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X.&nbsp;&nbsp;(Note&nbsp;that&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;is&nbsp;sometimes<br>
&nbsp;&nbsp;called&nbsp;"Darwin"&nbsp;because&nbsp;that&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;OS&nbsp;core,&nbsp;which&nbsp;is&nbsp;the<br>
&nbsp;&nbsp;level&nbsp;that&nbsp;Valgrind&nbsp;works&nbsp;at.)<br>
<br>
&nbsp;&nbsp;Supported&nbsp;systems:<br>
<br>
&nbsp;&nbsp;-&nbsp;It&nbsp;requires&nbsp;OS&nbsp;10.5.x&nbsp;(Leopard).&nbsp;&nbsp;Porting&nbsp;to&nbsp;10.4.x&nbsp;is&nbsp;not&nbsp;planned<br>
&nbsp;&nbsp;&nbsp;&nbsp;because&nbsp;it&nbsp;would&nbsp;require&nbsp;work&nbsp;and&nbsp;10.4&nbsp;is&nbsp;only&nbsp;becoming&nbsp;less&nbsp;common.<br>
<br>
&nbsp;&nbsp;-&nbsp;32-bit&nbsp;programs&nbsp;on&nbsp;x86&nbsp;and&nbsp;AMD64&nbsp;(a.k.a&nbsp;x86-64)&nbsp;machines&nbsp;are&nbsp;supported<br>
&nbsp;&nbsp;&nbsp;&nbsp;fairly&nbsp;well.&nbsp;&nbsp;For&nbsp;10.5.x,&nbsp;32-bit&nbsp;programs&nbsp;are&nbsp;the&nbsp;default&nbsp;even&nbsp;on<br>
&nbsp;&nbsp;&nbsp;&nbsp;64-bit&nbsp;machines,&nbsp;so&nbsp;it&nbsp;handles&nbsp;most&nbsp;current&nbsp;programs.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;-&nbsp;64-bit&nbsp;programs&nbsp;on&nbsp;x86&nbsp;and&nbsp;AMD64&nbsp;(a.k.a&nbsp;x86-64)&nbsp;machines&nbsp;are&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;officially&nbsp;supported,&nbsp;but&nbsp;simple&nbsp;programs&nbsp;at&nbsp;least&nbsp;will&nbsp;probably&nbsp;work.<br>
&nbsp;&nbsp;&nbsp;&nbsp;However,&nbsp;start-up&nbsp;is&nbsp;slow.<br>
<br>
&nbsp;&nbsp;-&nbsp;PowerPC&nbsp;machines&nbsp;are&nbsp;not&nbsp;supported.<br>
<br>
&nbsp;&nbsp;Things&nbsp;that&nbsp;don't&nbsp;work:<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;Ptrcheck&nbsp;tool.<br>
<br>
&nbsp;&nbsp;-&nbsp;Objective-C&nbsp;garbage&nbsp;collection.<br>
<br>
&nbsp;&nbsp;-&nbsp;--db-attach=yes.<br>
<br>
&nbsp;&nbsp;-&nbsp;If&nbsp;you&nbsp;have&nbsp;Rogue&nbsp;Amoeba's&nbsp;"Instant&nbsp;Hijack"&nbsp;program&nbsp;installed,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Valgrind&nbsp;will&nbsp;fail&nbsp;with&nbsp;a&nbsp;SIGTRAP&nbsp;at&nbsp;start-up.&nbsp;&nbsp;See<br>
&nbsp;&nbsp;&nbsp;&nbsp;https://bugs.kde.org/show_bug.cgi?id=193917&nbsp;for&nbsp;details&nbsp;and&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;simple&nbsp;work-around.<br>
<br>
&nbsp;&nbsp;Usage&nbsp;notes:<br>
<br>
&nbsp;&nbsp;-&nbsp;You&nbsp;will&nbsp;likely&nbsp;find&nbsp;--dsymutil=yes&nbsp;a&nbsp;useful&nbsp;option,&nbsp;as&nbsp;error<br>
&nbsp;&nbsp;&nbsp;&nbsp;messages&nbsp;may&nbsp;be&nbsp;imprecise&nbsp;without&nbsp;it.<br>
<br>
&nbsp;&nbsp;-&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;support&nbsp;is&nbsp;new&nbsp;and&nbsp;therefore&nbsp;will&nbsp;be&nbsp;less&nbsp;robust&nbsp;than&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;Linux&nbsp;support.&nbsp;&nbsp;Please&nbsp;report&nbsp;any&nbsp;bugs&nbsp;you&nbsp;find.<br>
<br>
&nbsp;&nbsp;-&nbsp;Threaded&nbsp;programs&nbsp;may&nbsp;run&nbsp;more&nbsp;slowly&nbsp;than&nbsp;on&nbsp;Linux.<br>
<br>
&nbsp;&nbsp;Many&nbsp;thanks&nbsp;to&nbsp;Greg&nbsp;Parker&nbsp;for&nbsp;developing&nbsp;this&nbsp;port&nbsp;over&nbsp;several&nbsp;years.<br>
<br>
<br>
*&nbsp;Memcheck's&nbsp;leak&nbsp;checker&nbsp;has&nbsp;been&nbsp;improved.&nbsp;&nbsp;<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;results&nbsp;for&nbsp;--leak-check=summary&nbsp;now&nbsp;match&nbsp;the&nbsp;summary&nbsp;results<br>
&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;--leak-check=full.&nbsp;&nbsp;Previously&nbsp;they&nbsp;could&nbsp;differ&nbsp;because<br>
&nbsp;&nbsp;&nbsp;&nbsp;--leak-check=summary&nbsp;counted&nbsp;"indirectly&nbsp;lost"&nbsp;blocks&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;"suppressed"&nbsp;blocks&nbsp;as&nbsp;"definitely&nbsp;lost".<br>
<br>
&nbsp;&nbsp;-&nbsp;Blocks&nbsp;that&nbsp;are&nbsp;only&nbsp;reachable&nbsp;via&nbsp;at&nbsp;least&nbsp;one&nbsp;interior-pointer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;are&nbsp;directly&nbsp;pointed&nbsp;to&nbsp;by&nbsp;a&nbsp;start-pointer,&nbsp;were&nbsp;previously<br>
&nbsp;&nbsp;&nbsp;&nbsp;marked&nbsp;as&nbsp;"still&nbsp;reachable".&nbsp;&nbsp;They&nbsp;are&nbsp;now&nbsp;correctly&nbsp;marked&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;"possibly&nbsp;lost".<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;default&nbsp;value&nbsp;for&nbsp;the&nbsp;--leak-resolution&nbsp;option&nbsp;has&nbsp;been<br>
&nbsp;&nbsp;&nbsp;&nbsp;changed&nbsp;from&nbsp;"low"&nbsp;to&nbsp;"high".&nbsp;&nbsp;In&nbsp;general,&nbsp;this&nbsp;means&nbsp;that&nbsp;more<br>
&nbsp;&nbsp;&nbsp;&nbsp;leak&nbsp;reports&nbsp;will&nbsp;be&nbsp;produced,&nbsp;but&nbsp;each&nbsp;leak&nbsp;report&nbsp;will&nbsp;describe<br>
&nbsp;&nbsp;&nbsp;&nbsp;fewer&nbsp;leaked&nbsp;blocks.<br>
<br>
&nbsp;&nbsp;-&nbsp;With&nbsp;--leak-check=full,&nbsp;"definitely&nbsp;lost"&nbsp;and&nbsp;"possibly&nbsp;lost"<br>
&nbsp;&nbsp;&nbsp;&nbsp;leaks&nbsp;are&nbsp;now&nbsp;considered&nbsp;as&nbsp;proper&nbsp;errors,&nbsp;ie.&nbsp;they&nbsp;are&nbsp;counted<br>
&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;"ERROR&nbsp;SUMMARY"&nbsp;and&nbsp;affect&nbsp;the&nbsp;behaviour&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;--error-exitcode.&nbsp;&nbsp;These&nbsp;leaks&nbsp;are&nbsp;not&nbsp;counted&nbsp;as&nbsp;errors&nbsp;if<br>
&nbsp;&nbsp;&nbsp;&nbsp;--leak-check=summary&nbsp;is&nbsp;specified,&nbsp;however.<br>
<br>
&nbsp;&nbsp;-&nbsp;Documentation&nbsp;for&nbsp;the&nbsp;leak&nbsp;checker&nbsp;has&nbsp;been&nbsp;improved.<br>
<br>
<br>
*&nbsp;Various&nbsp;aspects&nbsp;of&nbsp;Valgrind's&nbsp;text&nbsp;output&nbsp;have&nbsp;changed.<br>
<br>
&nbsp;&nbsp;-&nbsp;Valgrind's&nbsp;start-up&nbsp;message&nbsp;has&nbsp;changed.&nbsp;&nbsp;It&nbsp;is&nbsp;shorter&nbsp;but&nbsp;also<br>
&nbsp;&nbsp;&nbsp;&nbsp;includes&nbsp;the&nbsp;command&nbsp;being&nbsp;run,&nbsp;which&nbsp;makes&nbsp;it&nbsp;easier&nbsp;to&nbsp;use<br>
&nbsp;&nbsp;&nbsp;&nbsp;--trace-children=yes.&nbsp;&nbsp;An&nbsp;example:<br>
<br>
&nbsp;&nbsp;-&nbsp;Valgrind's&nbsp;shut-down&nbsp;messages&nbsp;have&nbsp;also&nbsp;changed.&nbsp;&nbsp;This&nbsp;is&nbsp;most<br>
&nbsp;&nbsp;&nbsp;&nbsp;noticeable&nbsp;with&nbsp;Memcheck,&nbsp;where&nbsp;the&nbsp;leak&nbsp;summary&nbsp;now&nbsp;occurs&nbsp;before<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;error&nbsp;summary.&nbsp;&nbsp;This&nbsp;change&nbsp;was&nbsp;necessary&nbsp;to&nbsp;allow&nbsp;leaks&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;counted&nbsp;as&nbsp;proper&nbsp;errors&nbsp;(see&nbsp;the&nbsp;description&nbsp;of&nbsp;the&nbsp;leak&nbsp;checker<br>
&nbsp;&nbsp;&nbsp;&nbsp;changes&nbsp;above&nbsp;for&nbsp;more&nbsp;details).&nbsp;&nbsp;This&nbsp;was&nbsp;also&nbsp;necessary&nbsp;to&nbsp;fix&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;longstanding&nbsp;bug&nbsp;in&nbsp;which&nbsp;uses&nbsp;of&nbsp;suppressions&nbsp;against&nbsp;leaks&nbsp;were<br>
&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;"counted",&nbsp;leading&nbsp;to&nbsp;difficulties&nbsp;in&nbsp;maintaining&nbsp;suppression<br>
&nbsp;&nbsp;&nbsp;&nbsp;files&nbsp;(see&nbsp;https://bugs.kde.org/show_bug.cgi?id=186790).<br>
<br>
&nbsp;&nbsp;-&nbsp;Behavior&nbsp;of&nbsp;-v&nbsp;has&nbsp;changed.&nbsp;&nbsp;In&nbsp;previous&nbsp;versions,&nbsp;-v&nbsp;printed&nbsp;out<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;mixture&nbsp;of&nbsp;marginally-user-useful&nbsp;information,&nbsp;and&nbsp;tool/core<br>
&nbsp;&nbsp;&nbsp;&nbsp;statistics.&nbsp;&nbsp;The&nbsp;statistics&nbsp;printing&nbsp;has&nbsp;now&nbsp;been&nbsp;moved&nbsp;to&nbsp;its&nbsp;own<br>
&nbsp;&nbsp;&nbsp;&nbsp;flag,&nbsp;--stats=yes.&nbsp;&nbsp;This&nbsp;means&nbsp;-v&nbsp;is&nbsp;less&nbsp;verbose&nbsp;and&nbsp;more&nbsp;likely<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;convey&nbsp;useful&nbsp;end-user&nbsp;information.<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;format&nbsp;of&nbsp;some&nbsp;(non-XML)&nbsp;stack&nbsp;trace&nbsp;entries&nbsp;has&nbsp;changed&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;little.&nbsp;&nbsp;Previously&nbsp;there&nbsp;were&nbsp;six&nbsp;possible&nbsp;forms:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;really&nbsp;(a.c:20)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;really&nbsp;(in&nbsp;/foo/a.out)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;really<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;(within&nbsp;/foo/a.out)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;???&nbsp;(a.c:20)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;???<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;third&nbsp;and&nbsp;fourth&nbsp;of&nbsp;these&nbsp;forms&nbsp;have&nbsp;been&nbsp;made&nbsp;more&nbsp;consistent<br>
&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;others.&nbsp;&nbsp;The&nbsp;six&nbsp;possible&nbsp;forms&nbsp;are&nbsp;now:<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;really&nbsp;(a.c:20)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;really&nbsp;(in&nbsp;/foo/a.out)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;really&nbsp;(in&nbsp;???)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;???&nbsp;(in&nbsp;/foo/a.out)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;???&nbsp;(a.c:20)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x80483BF:&nbsp;???<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Stack&nbsp;traces&nbsp;produced&nbsp;when&nbsp;--xml=yes&nbsp;is&nbsp;specified&nbsp;are&nbsp;different<br>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;unchanged.<br>
<br>
<br>
*&nbsp;Helgrind&nbsp;and&nbsp;Ptrcheck&nbsp;now&nbsp;support&nbsp;XML&nbsp;output,&nbsp;so&nbsp;they&nbsp;can&nbsp;be&nbsp;used<br>
&nbsp;&nbsp;from&nbsp;GUI&nbsp;tools.&nbsp;&nbsp;Also,&nbsp;the&nbsp;XML&nbsp;output&nbsp;mechanism&nbsp;has&nbsp;been<br>
&nbsp;&nbsp;overhauled.<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;XML&nbsp;format&nbsp;has&nbsp;been&nbsp;overhauled&nbsp;and&nbsp;generalised,&nbsp;so&nbsp;it&nbsp;is&nbsp;more<br>
&nbsp;&nbsp;&nbsp;&nbsp;suitable&nbsp;for&nbsp;error&nbsp;reporting&nbsp;tools&nbsp;in&nbsp;general.&nbsp;&nbsp;The&nbsp;Memcheck<br>
&nbsp;&nbsp;&nbsp;&nbsp;specific&nbsp;aspects&nbsp;of&nbsp;it&nbsp;have&nbsp;been&nbsp;removed.&nbsp;&nbsp;The&nbsp;new&nbsp;format,&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;an&nbsp;evolution&nbsp;of&nbsp;the&nbsp;old&nbsp;format,&nbsp;is&nbsp;described&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;docs/internals/xml-output-protocol4.txt.<br>
<br>
&nbsp;&nbsp;-&nbsp;Memcheck&nbsp;has&nbsp;been&nbsp;updated&nbsp;to&nbsp;use&nbsp;the&nbsp;new&nbsp;format.<br>
<br>
&nbsp;&nbsp;-&nbsp;Helgrind&nbsp;and&nbsp;Ptrcheck&nbsp;are&nbsp;now&nbsp;able&nbsp;to&nbsp;emit&nbsp;output&nbsp;in&nbsp;this&nbsp;format.<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;XML&nbsp;output&nbsp;mechanism&nbsp;has&nbsp;been&nbsp;overhauled.&nbsp;&nbsp;XML&nbsp;is&nbsp;now&nbsp;output<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;its&nbsp;own&nbsp;file&nbsp;descriptor,&nbsp;which&nbsp;means&nbsp;that:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Valgrind&nbsp;can&nbsp;output&nbsp;text&nbsp;and&nbsp;XML&nbsp;independently.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;longstanding&nbsp;problem&nbsp;of&nbsp;XML&nbsp;output&nbsp;being&nbsp;corrupted&nbsp;by&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unexpected&nbsp;un-tagged&nbsp;text&nbsp;messages&nbsp;&nbsp;is&nbsp;solved.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;As&nbsp;before,&nbsp;the&nbsp;destination&nbsp;for&nbsp;text&nbsp;output&nbsp;is&nbsp;specified&nbsp;using<br>
&nbsp;&nbsp;&nbsp;&nbsp;--log-file=,&nbsp;--log-fd=&nbsp;or&nbsp;--log-socket=.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;As&nbsp;before,&nbsp;XML&nbsp;output&nbsp;for&nbsp;a&nbsp;tool&nbsp;is&nbsp;enabled&nbsp;using&nbsp;--xml=yes.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Because&nbsp;there's&nbsp;a&nbsp;new&nbsp;XML&nbsp;output&nbsp;channel,&nbsp;the&nbsp;XML&nbsp;output<br>
&nbsp;&nbsp;&nbsp;&nbsp;destination&nbsp;is&nbsp;now&nbsp;specified&nbsp;by&nbsp;--xml-file=,&nbsp;--xml-fd=&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;--xml-socket=.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Initial&nbsp;feedback&nbsp;has&nbsp;shown&nbsp;this&nbsp;causes&nbsp;some&nbsp;confusion.&nbsp;&nbsp;To<br>
&nbsp;&nbsp;&nbsp;&nbsp;clarify,&nbsp;the&nbsp;two&nbsp;envisaged&nbsp;usage&nbsp;scenarios&nbsp;are:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;(1)&nbsp;Normal&nbsp;text&nbsp;output.&nbsp;&nbsp;In&nbsp;this&nbsp;case,&nbsp;do&nbsp;not&nbsp;specify&nbsp;--xml=yes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nor&nbsp;any&nbsp;of&nbsp;--xml-file=,&nbsp;--xml-fd=&nbsp;or&nbsp;--xml-socket=.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;(2)&nbsp;XML&nbsp;output.&nbsp;&nbsp;In&nbsp;this&nbsp;case,&nbsp;specify&nbsp;--xml=yes,&nbsp;and&nbsp;one&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--xml-file=,&nbsp;--xml-fd=&nbsp;or&nbsp;--xml-socket=&nbsp;to&nbsp;select&nbsp;the&nbsp;XML<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destination,&nbsp;one&nbsp;of&nbsp;--log-file=,&nbsp;--log-fd=&nbsp;or&nbsp;--log-socket=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;select&nbsp;the&nbsp;destination&nbsp;for&nbsp;any&nbsp;remaining&nbsp;text&nbsp;messages,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and,&nbsp;importantly,&nbsp;-q.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-q&nbsp;makes&nbsp;Valgrind&nbsp;completely&nbsp;silent&nbsp;on&nbsp;the&nbsp;text&nbsp;channel,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;critical&nbsp;failures,&nbsp;such&nbsp;as&nbsp;Valgrind<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itself&nbsp;segfaulting,&nbsp;or&nbsp;failing&nbsp;to&nbsp;read&nbsp;debugging&nbsp;information.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hence,&nbsp;in&nbsp;this&nbsp;scenario,&nbsp;it&nbsp;suffices&nbsp;to&nbsp;check&nbsp;whether&nbsp;or&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;output&nbsp;appeared&nbsp;on&nbsp;the&nbsp;text&nbsp;channel.&nbsp;&nbsp;If&nbsp;yes,&nbsp;then&nbsp;it&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;likely&nbsp;to&nbsp;be&nbsp;a&nbsp;critical&nbsp;error&nbsp;which&nbsp;should&nbsp;be&nbsp;brought&nbsp;to&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attention&nbsp;of&nbsp;the&nbsp;user.&nbsp;&nbsp;If&nbsp;no&nbsp;(the&nbsp;text&nbsp;channel&nbsp;produced&nbsp;no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output)&nbsp;then&nbsp;it&nbsp;can&nbsp;be&nbsp;assumed&nbsp;that&nbsp;the&nbsp;run&nbsp;was&nbsp;successful.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;allows&nbsp;GUIs&nbsp;to&nbsp;make&nbsp;the&nbsp;critical&nbsp;distinction&nbsp;they&nbsp;need&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make&nbsp;(did&nbsp;the&nbsp;run&nbsp;fail&nbsp;or&nbsp;not?)&nbsp;without&nbsp;having&nbsp;to&nbsp;search&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter&nbsp;the&nbsp;text&nbsp;output&nbsp;channel&nbsp;in&nbsp;any&nbsp;way.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;is&nbsp;also&nbsp;recommended&nbsp;to&nbsp;use&nbsp;--child-silent-after-fork=yes&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;scenario&nbsp;(2).<br>
<br>
<br>
*&nbsp;Improvements&nbsp;and&nbsp;changes&nbsp;in&nbsp;Helgrind:<br>
<br>
&nbsp;&nbsp;-&nbsp;XML&nbsp;output,&nbsp;as&nbsp;described&nbsp;above<br>
<br>
&nbsp;&nbsp;-&nbsp;Checks&nbsp;for&nbsp;consistent&nbsp;association&nbsp;between&nbsp;pthread&nbsp;condition<br>
&nbsp;&nbsp;&nbsp;&nbsp;variables&nbsp;and&nbsp;their&nbsp;associated&nbsp;mutexes&nbsp;are&nbsp;now&nbsp;performed.<br>
<br>
&nbsp;&nbsp;-&nbsp;pthread_spinlock&nbsp;functions&nbsp;are&nbsp;supported.<br>
<br>
&nbsp;&nbsp;-&nbsp;Modest&nbsp;performance&nbsp;improvements.<br>
<br>
&nbsp;&nbsp;-&nbsp;Initial&nbsp;(skeletal)&nbsp;support&nbsp;for&nbsp;describing&nbsp;the&nbsp;behaviour&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;non-POSIX&nbsp;synchronisation&nbsp;objects&nbsp;through&nbsp;ThreadSanitizer<br>
&nbsp;&nbsp;&nbsp;&nbsp;compatible&nbsp;ANNOTATE_*&nbsp;macros.<br>
<br>
&nbsp;&nbsp;-&nbsp;More&nbsp;controllable&nbsp;tradeoffs&nbsp;between&nbsp;performance&nbsp;and&nbsp;the&nbsp;level&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;detail&nbsp;of&nbsp;"previous"&nbsp;accesses&nbsp;in&nbsp;a&nbsp;race.&nbsp;&nbsp;There&nbsp;are&nbsp;now&nbsp;three<br>
&nbsp;&nbsp;&nbsp;&nbsp;settings:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;--history-level=full.&nbsp;&nbsp;This&nbsp;is&nbsp;the&nbsp;default,&nbsp;and&nbsp;was&nbsp;also&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;in&nbsp;3.4.x.&nbsp;&nbsp;It&nbsp;shows&nbsp;both&nbsp;stacks&nbsp;involved&nbsp;in&nbsp;a&nbsp;race,&nbsp;but<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requires&nbsp;a&nbsp;lot&nbsp;of&nbsp;memory&nbsp;and&nbsp;can&nbsp;be&nbsp;very&nbsp;slow&nbsp;in&nbsp;programs&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do&nbsp;many&nbsp;inter-thread&nbsp;synchronisation&nbsp;events.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;--history-level=none.&nbsp;&nbsp;This&nbsp;only&nbsp;shows&nbsp;the&nbsp;later&nbsp;stack&nbsp;involved<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;a&nbsp;race.&nbsp;&nbsp;This&nbsp;can&nbsp;be&nbsp;much&nbsp;faster&nbsp;than&nbsp;--history-level=full,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;makes&nbsp;it&nbsp;much&nbsp;more&nbsp;difficult&nbsp;to&nbsp;find&nbsp;the&nbsp;other&nbsp;access<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;involved&nbsp;in&nbsp;the&nbsp;race.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;new&nbsp;intermediate&nbsp;setting&nbsp;is<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;--history-level=approx<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;the&nbsp;earlier&nbsp;(other)&nbsp;access,&nbsp;two&nbsp;stacks&nbsp;are&nbsp;presented.&nbsp;&nbsp;The<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;earlier&nbsp;access&nbsp;is&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;somewhere&nbsp;in&nbsp;between&nbsp;the&nbsp;two<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;program&nbsp;points&nbsp;denoted&nbsp;by&nbsp;those&nbsp;stacks.&nbsp;&nbsp;This&nbsp;is&nbsp;not&nbsp;as&nbsp;useful<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;showing&nbsp;the&nbsp;exact&nbsp;stack&nbsp;for&nbsp;the&nbsp;previous&nbsp;access&nbsp;(as&nbsp;per<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--history-level=full),&nbsp;but&nbsp;it&nbsp;is&nbsp;better&nbsp;than&nbsp;nothing,&nbsp;and&nbsp;it's<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;almost&nbsp;as&nbsp;fast&nbsp;as&nbsp;--history-level=none.<br>
<br>
<br>
*&nbsp;New&nbsp;features&nbsp;and&nbsp;improvements&nbsp;in&nbsp;DRD:<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;error&nbsp;messages&nbsp;printed&nbsp;by&nbsp;DRD&nbsp;are&nbsp;now&nbsp;easier&nbsp;to&nbsp;interpret.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Instead&nbsp;of&nbsp;using&nbsp;two&nbsp;different&nbsp;numbers&nbsp;to&nbsp;identify&nbsp;each&nbsp;thread<br>
&nbsp;&nbsp;&nbsp;&nbsp;(Valgrind&nbsp;thread&nbsp;ID&nbsp;and&nbsp;DRD&nbsp;thread&nbsp;ID),&nbsp;DRD&nbsp;does&nbsp;now&nbsp;identify<br>
&nbsp;&nbsp;&nbsp;&nbsp;threads&nbsp;via&nbsp;a&nbsp;single&nbsp;number&nbsp;(the&nbsp;DRD&nbsp;thread&nbsp;ID).&nbsp;&nbsp;Furthermore<br>
&nbsp;&nbsp;&nbsp;&nbsp;"first&nbsp;observed&nbsp;at"&nbsp;information&nbsp;is&nbsp;now&nbsp;printed&nbsp;for&nbsp;all&nbsp;error<br>
&nbsp;&nbsp;&nbsp;&nbsp;messages&nbsp;related&nbsp;to&nbsp;synchronization&nbsp;objects.<br>
<br>
&nbsp;&nbsp;-&nbsp;Added&nbsp;support&nbsp;for&nbsp;named&nbsp;semaphores&nbsp;(sem_open()&nbsp;and&nbsp;sem_close()).<br>
<br>
&nbsp;&nbsp;-&nbsp;Race&nbsp;conditions&nbsp;between&nbsp;pthread_barrier_wait()&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;pthread_barrier_destroy()&nbsp;calls&nbsp;are&nbsp;now&nbsp;reported.<br>
<br>
&nbsp;&nbsp;-&nbsp;Added&nbsp;support&nbsp;for&nbsp;custom&nbsp;allocators&nbsp;through&nbsp;the&nbsp;macros<br>
&nbsp;&nbsp;&nbsp;&nbsp;VALGRIND_MALLOCLIKE_BLOCK()&nbsp;VALGRIND_FREELIKE_BLOCK()&nbsp;(defined&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;&lt;valgrind/valgrind.h&gt;).&nbsp;An&nbsp;alternative&nbsp;for&nbsp;these&nbsp;two&nbsp;macros&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;new&nbsp;client&nbsp;request&nbsp;VG_USERREQ__DRD_CLEAN_MEMORY&nbsp;(defined&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;valgrind/drd.h&gt;).<br>
<br>
&nbsp;&nbsp;-&nbsp;Added&nbsp;support&nbsp;for&nbsp;annotating&nbsp;non-POSIX&nbsp;synchronization&nbsp;objects<br>
&nbsp;&nbsp;&nbsp;&nbsp;through&nbsp;several&nbsp;new&nbsp;ANNOTATE_*()&nbsp;macros.<br>
<br>
&nbsp;&nbsp;-&nbsp;OpenMP:&nbsp;added&nbsp;support&nbsp;for&nbsp;the&nbsp;OpenMP&nbsp;runtime&nbsp;(libgomp)&nbsp;included<br>
&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;gcc&nbsp;versions&nbsp;4.3.0&nbsp;and&nbsp;4.4.0.<br>
<br>
&nbsp;&nbsp;-&nbsp;Faster&nbsp;operation.<br>
<br>
&nbsp;&nbsp;-&nbsp;Added&nbsp;two&nbsp;new&nbsp;command-line&nbsp;options&nbsp;(--first-race-only&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;--segment-merging-interval).<br>
<br>
<br>
*&nbsp;Genuinely&nbsp;atomic&nbsp;support&nbsp;for&nbsp;x86/amd64/ppc&nbsp;atomic&nbsp;instructions<br>
<br>
&nbsp;&nbsp;Valgrind&nbsp;will&nbsp;now&nbsp;preserve&nbsp;(memory-access)&nbsp;atomicity&nbsp;of&nbsp;LOCK-<br>
&nbsp;&nbsp;prefixed&nbsp;x86/amd64&nbsp;instructions,&nbsp;and&nbsp;any&nbsp;others&nbsp;implying&nbsp;a&nbsp;global<br>
&nbsp;&nbsp;bus&nbsp;lock.&nbsp;&nbsp;Ditto&nbsp;for&nbsp;PowerPC&nbsp;l{w,d}arx/st{w,d}cx.&nbsp;instructions.<br>
<br>
&nbsp;&nbsp;This&nbsp;means&nbsp;that&nbsp;Valgrinded&nbsp;processes&nbsp;will&nbsp;"play&nbsp;nicely"&nbsp;in<br>
&nbsp;&nbsp;situations&nbsp;where&nbsp;communication&nbsp;with&nbsp;other&nbsp;processes,&nbsp;or&nbsp;the&nbsp;kernel,<br>
&nbsp;&nbsp;is&nbsp;done&nbsp;through&nbsp;shared&nbsp;memory&nbsp;and&nbsp;coordinated&nbsp;with&nbsp;such&nbsp;atomic<br>
&nbsp;&nbsp;instructions.&nbsp;&nbsp;Prior&nbsp;to&nbsp;this&nbsp;change,&nbsp;such&nbsp;arrangements&nbsp;usually<br>
&nbsp;&nbsp;resulted&nbsp;in&nbsp;hangs,&nbsp;races&nbsp;or&nbsp;other&nbsp;synchronisation&nbsp;failures,&nbsp;because<br>
&nbsp;&nbsp;Valgrind&nbsp;did&nbsp;not&nbsp;honour&nbsp;atomicity&nbsp;of&nbsp;such&nbsp;instructions.<br>
<br>
<br>
*&nbsp;A&nbsp;new&nbsp;experimental&nbsp;tool,&nbsp;BBV,&nbsp;has&nbsp;been&nbsp;added.&nbsp;&nbsp;BBV&nbsp;generates&nbsp;basic<br>
&nbsp;&nbsp;block&nbsp;vectors&nbsp;for&nbsp;use&nbsp;with&nbsp;the&nbsp;SimPoint&nbsp;analysis&nbsp;tool,&nbsp;which&nbsp;allows<br>
&nbsp;&nbsp;a&nbsp;program's&nbsp;overall&nbsp;behaviour&nbsp;to&nbsp;be&nbsp;approximated&nbsp;by&nbsp;running&nbsp;only&nbsp;a<br>
&nbsp;&nbsp;fraction&nbsp;of&nbsp;it.&nbsp;&nbsp;This&nbsp;is&nbsp;useful&nbsp;for&nbsp;computer&nbsp;architecture<br>
&nbsp;&nbsp;researchers.&nbsp;&nbsp;You&nbsp;can&nbsp;run&nbsp;BBV&nbsp;by&nbsp;specifying&nbsp;--tool=exp-bbv&nbsp;(the<br>
&nbsp;&nbsp;"exp-"&nbsp;prefix&nbsp;is&nbsp;short&nbsp;for&nbsp;"experimental").&nbsp;&nbsp;BBV&nbsp;was&nbsp;written&nbsp;by<br>
&nbsp;&nbsp;Vince&nbsp;Weaver.<br>
<br>
<br>
*&nbsp;Modestly&nbsp;improved&nbsp;support&nbsp;for&nbsp;running&nbsp;Windows&nbsp;applications&nbsp;under<br>
&nbsp;&nbsp;Wine.&nbsp;&nbsp;In&nbsp;particular,&nbsp;initial&nbsp;support&nbsp;for&nbsp;reading&nbsp;Windows&nbsp;.PDB&nbsp;debug<br>
&nbsp;&nbsp;information&nbsp;has&nbsp;been&nbsp;added.<br>
<br>
<br>
*&nbsp;A&nbsp;new&nbsp;Memcheck&nbsp;client&nbsp;request&nbsp;VALGRIND_COUNT_LEAK_BLOCKS&nbsp;has&nbsp;been<br>
&nbsp;&nbsp;added.&nbsp;&nbsp;It&nbsp;is&nbsp;similar&nbsp;to&nbsp;VALGRIND_COUNT_LEAKS&nbsp;but&nbsp;counts&nbsp;blocks<br>
&nbsp;&nbsp;instead&nbsp;of&nbsp;bytes.<br>
<br>
<br>
*&nbsp;The&nbsp;Valgrind&nbsp;client&nbsp;requests&nbsp;VALGRIND_PRINTF&nbsp;and<br>
&nbsp;&nbsp;VALGRIND_PRINTF_BACKTRACE&nbsp;have&nbsp;been&nbsp;changed&nbsp;slightly.&nbsp;&nbsp;Previously,<br>
&nbsp;&nbsp;the&nbsp;string&nbsp;was&nbsp;always&nbsp;printed&nbsp;immediately&nbsp;on&nbsp;its&nbsp;own&nbsp;line.&nbsp;&nbsp;Now,&nbsp;the<br>
&nbsp;&nbsp;string&nbsp;will&nbsp;be&nbsp;added&nbsp;to&nbsp;a&nbsp;buffer&nbsp;but&nbsp;not&nbsp;printed&nbsp;until&nbsp;a&nbsp;newline&nbsp;is<br>
&nbsp;&nbsp;encountered,&nbsp;or&nbsp;other&nbsp;Valgrind&nbsp;output&nbsp;is&nbsp;printed&nbsp;(note&nbsp;that&nbsp;for<br>
&nbsp;&nbsp;VALGRIND_PRINTF_BACKTRACE,&nbsp;the&nbsp;back-trace&nbsp;itself&nbsp;is&nbsp;considered<br>
&nbsp;&nbsp;"other&nbsp;Valgrind&nbsp;output").&nbsp;&nbsp;This&nbsp;allows&nbsp;you&nbsp;to&nbsp;use&nbsp;multiple<br>
&nbsp;&nbsp;VALGRIND_PRINTF&nbsp;calls&nbsp;to&nbsp;build&nbsp;up&nbsp;a&nbsp;single&nbsp;output&nbsp;line,&nbsp;and&nbsp;also&nbsp;to<br>
&nbsp;&nbsp;print&nbsp;multiple&nbsp;output&nbsp;lines&nbsp;with&nbsp;a&nbsp;single&nbsp;request&nbsp;(by&nbsp;embedding<br>
&nbsp;&nbsp;multiple&nbsp;newlines&nbsp;in&nbsp;the&nbsp;string).<br>
<br>
<br>
*&nbsp;The&nbsp;graphs&nbsp;drawn&nbsp;by&nbsp;Massif's&nbsp;ms_print&nbsp;program&nbsp;have&nbsp;changed&nbsp;slightly:<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;half-height&nbsp;chars&nbsp;'.'&nbsp;and&nbsp;','&nbsp;are&nbsp;no&nbsp;longer&nbsp;drawn,&nbsp;because<br>
&nbsp;&nbsp;&nbsp;&nbsp;they&nbsp;are&nbsp;confusing.&nbsp;&nbsp;The&nbsp;--y&nbsp;option&nbsp;can&nbsp;be&nbsp;used&nbsp;if&nbsp;the&nbsp;default<br>
&nbsp;&nbsp;&nbsp;&nbsp;y-resolution&nbsp;is&nbsp;not&nbsp;high&nbsp;enough.<br>
<br>
&nbsp;&nbsp;-&nbsp;Horizontal&nbsp;lines&nbsp;are&nbsp;now&nbsp;drawn&nbsp;after&nbsp;the&nbsp;top&nbsp;of&nbsp;a&nbsp;snapshot&nbsp;if<br>
&nbsp;&nbsp;&nbsp;&nbsp;there&nbsp;is&nbsp;a&nbsp;gap&nbsp;until&nbsp;the&nbsp;next&nbsp;snapshot.&nbsp;&nbsp;This&nbsp;makes&nbsp;it&nbsp;clear&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;memory&nbsp;usage&nbsp;has&nbsp;not&nbsp;dropped&nbsp;to&nbsp;zero&nbsp;between&nbsp;snapshots.<br>
<br>
<br>
*&nbsp;Something&nbsp;that&nbsp;happened&nbsp;in&nbsp;3.4.0,&nbsp;but&nbsp;wasn't&nbsp;clearly&nbsp;announced:&nbsp;the<br>
&nbsp;&nbsp;option&nbsp;--read-var-info=yes&nbsp;can&nbsp;be&nbsp;used&nbsp;by&nbsp;some&nbsp;tools&nbsp;(Memcheck,<br>
&nbsp;&nbsp;Helgrind&nbsp;and&nbsp;DRD).&nbsp;&nbsp;When&nbsp;enabled,&nbsp;it&nbsp;causes&nbsp;Valgrind&nbsp;to&nbsp;read&nbsp;DWARF3<br>
&nbsp;&nbsp;variable&nbsp;type&nbsp;and&nbsp;location&nbsp;information.&nbsp;&nbsp;This&nbsp;makes&nbsp;those&nbsp;tools<br>
&nbsp;&nbsp;start&nbsp;up&nbsp;more&nbsp;slowly&nbsp;and&nbsp;increases&nbsp;memory&nbsp;consumption,&nbsp;but<br>
&nbsp;&nbsp;descriptions&nbsp;of&nbsp;data&nbsp;addresses&nbsp;in&nbsp;error&nbsp;messages&nbsp;become&nbsp;more<br>
&nbsp;&nbsp;detailed.<br>
<br>
<br>
*&nbsp;exp-Omega,&nbsp;an&nbsp;experimental&nbsp;instantaneous&nbsp;leak-detecting&nbsp;tool,&nbsp;was<br>
&nbsp;&nbsp;disabled&nbsp;in&nbsp;3.4.0&nbsp;due&nbsp;to&nbsp;a&nbsp;lack&nbsp;of&nbsp;interest&nbsp;and&nbsp;maintenance,<br>
&nbsp;&nbsp;although&nbsp;the&nbsp;source&nbsp;code&nbsp;was&nbsp;still&nbsp;in&nbsp;the&nbsp;distribution.&nbsp;&nbsp;The&nbsp;source<br>
&nbsp;&nbsp;code&nbsp;has&nbsp;now&nbsp;been&nbsp;removed&nbsp;from&nbsp;the&nbsp;distribution.&nbsp;&nbsp;For&nbsp;anyone<br>
&nbsp;&nbsp;interested,&nbsp;the&nbsp;removal&nbsp;occurred&nbsp;in&nbsp;SVN&nbsp;revision&nbsp;r10247.<br>
<br>
<br>
*&nbsp;Some&nbsp;changes&nbsp;have&nbsp;been&nbsp;made&nbsp;to&nbsp;the&nbsp;build&nbsp;system.<br>
<br>
&nbsp;&nbsp;-&nbsp;VEX/&nbsp;is&nbsp;now&nbsp;integrated&nbsp;properly&nbsp;into&nbsp;the&nbsp;build&nbsp;system.&nbsp;&nbsp;This&nbsp;means<br>
&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;dependency&nbsp;tracking&nbsp;within&nbsp;VEX/&nbsp;now&nbsp;works&nbsp;properly,&nbsp;"make<br>
&nbsp;&nbsp;&nbsp;&nbsp;install"&nbsp;will&nbsp;work&nbsp;without&nbsp;requiring&nbsp;"make"&nbsp;before&nbsp;it,&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;parallel&nbsp;builds&nbsp;(ie.&nbsp;'make&nbsp;-j')&nbsp;now&nbsp;work&nbsp;(previously&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;.NOTPARALLEL&nbsp;directive&nbsp;was&nbsp;used&nbsp;to&nbsp;serialize&nbsp;builds,&nbsp;ie.&nbsp;'make&nbsp;-j'<br>
&nbsp;&nbsp;&nbsp;&nbsp;was&nbsp;effectively&nbsp;ignored).<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;--with-vex&nbsp;configure&nbsp;option&nbsp;has&nbsp;been&nbsp;removed.&nbsp;&nbsp;It&nbsp;was&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;little&nbsp;use&nbsp;and&nbsp;removing&nbsp;it&nbsp;simplified&nbsp;the&nbsp;build&nbsp;system.<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;location&nbsp;of&nbsp;some&nbsp;install&nbsp;files&nbsp;has&nbsp;changed.&nbsp;&nbsp;This&nbsp;should&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;affect&nbsp;most&nbsp;users.&nbsp;&nbsp;Those&nbsp;who&nbsp;might&nbsp;be&nbsp;affected:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;For&nbsp;people&nbsp;who&nbsp;use&nbsp;Valgrind&nbsp;with&nbsp;MPI&nbsp;programs,&nbsp;the&nbsp;installed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;libmpiwrap.so&nbsp;library&nbsp;has&nbsp;moved&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(INSTALL)/&lt;platform&gt;/libmpiwrap.so&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(INSTALL)/libmpiwrap-&lt;platform&gt;.so.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;For&nbsp;people&nbsp;who&nbsp;distribute&nbsp;standalone&nbsp;Valgrind&nbsp;tools,&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;installed&nbsp;libraries&nbsp;such&nbsp;as&nbsp;$(INSTALL)/&lt;platform&gt;/libcoregrind.a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;have&nbsp;moved&nbsp;to&nbsp;$(INSTALL)/libcoregrind-&lt;platform&gt;.a.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;These&nbsp;changes&nbsp;simplify&nbsp;the&nbsp;build&nbsp;system.<br>
<br>
&nbsp;&nbsp;-&nbsp;Previously,&nbsp;all&nbsp;the&nbsp;distributed&nbsp;suppression&nbsp;(*.supp)&nbsp;files&nbsp;were<br>
&nbsp;&nbsp;&nbsp;&nbsp;installed.&nbsp;&nbsp;Now,&nbsp;only&nbsp;default.supp&nbsp;is&nbsp;installed.&nbsp;&nbsp;This&nbsp;should&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;affect&nbsp;users&nbsp;as&nbsp;the&nbsp;other&nbsp;installed&nbsp;suppression&nbsp;files&nbsp;were&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;read;&nbsp;the&nbsp;fact&nbsp;that&nbsp;they&nbsp;were&nbsp;installed&nbsp;was&nbsp;a&nbsp;mistake.<br>
<br>
<br>
*&nbsp;KNOWN&nbsp;LIMITATIONS:<br>
<br>
&nbsp;&nbsp;-&nbsp;Memcheck&nbsp;is&nbsp;unusable&nbsp;with&nbsp;the&nbsp;Intel&nbsp;compiler&nbsp;suite&nbsp;version&nbsp;11.1,<br>
&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;it&nbsp;generates&nbsp;code&nbsp;for&nbsp;SSE2-and-above&nbsp;capable&nbsp;targets.&nbsp;&nbsp;This<br>
&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;because&nbsp;of&nbsp;icc's&nbsp;use&nbsp;of&nbsp;highly&nbsp;optimised&nbsp;inlined&nbsp;strlen<br>
&nbsp;&nbsp;&nbsp;&nbsp;implementations.&nbsp;&nbsp;It&nbsp;causes&nbsp;Memcheck&nbsp;to&nbsp;report&nbsp;huge&nbsp;numbers&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;false&nbsp;errors&nbsp;even&nbsp;in&nbsp;simple&nbsp;programs.&nbsp;&nbsp;Helgrind&nbsp;and&nbsp;DRD&nbsp;may&nbsp;also<br>
&nbsp;&nbsp;&nbsp;&nbsp;have&nbsp;problems.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Versions&nbsp;11.0&nbsp;and&nbsp;earlier&nbsp;may&nbsp;be&nbsp;OK,&nbsp;but&nbsp;this&nbsp;has&nbsp;not&nbsp;been<br>
&nbsp;&nbsp;&nbsp;&nbsp;properly&nbsp;tested.<br>
<br>
<br>
The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed&nbsp;or&nbsp;resolved.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"<br>
stands&nbsp;for&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us<br>
but&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
bugzilla&nbsp;(http://bugs.kde.org/enter_valgrind_bug.cgi)&nbsp;rather&nbsp;than<br>
mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that&nbsp;are<br>
not&nbsp;entered&nbsp;into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
To&nbsp;see&nbsp;details&nbsp;of&nbsp;a&nbsp;given&nbsp;bug,&nbsp;visit<br>
https://bugs.kde.org/show_bug.cgi?id=XXXXXX<br>
where&nbsp;XXXXXX&nbsp;is&nbsp;the&nbsp;bug&nbsp;number&nbsp;as&nbsp;listed&nbsp;below.<br>
<br>
84303&nbsp;&nbsp;&nbsp;How&nbsp;about&nbsp;a&nbsp;LockCheck&nbsp;tool?&nbsp;<br>
91633&nbsp;&nbsp;&nbsp;dereference&nbsp;of&nbsp;null&nbsp;ptr&nbsp;in&nbsp;vgPlain_st_basetype&nbsp;<br>
97452&nbsp;&nbsp;&nbsp;Valgrind&nbsp;doesn't&nbsp;report&nbsp;any&nbsp;pthreads&nbsp;problems&nbsp;<br>
100628&nbsp;&nbsp;leak-check&nbsp;gets&nbsp;assertion&nbsp;failure&nbsp;when&nbsp;using&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VALGRIND_MALLOCLIKE_BLOCK&nbsp;on&nbsp;malloc()ed&nbsp;memory&nbsp;<br>
108528&nbsp;&nbsp;NPTL&nbsp;pthread&nbsp;cleanup&nbsp;handlers&nbsp;not&nbsp;called&nbsp;<br>
110126&nbsp;&nbsp;Valgrind&nbsp;2.4.1&nbsp;configure.in&nbsp;tramples&nbsp;CFLAGS&nbsp;<br>
110128&nbsp;&nbsp;mallinfo&nbsp;is&nbsp;not&nbsp;implemented...&nbsp;<br>
110770&nbsp;&nbsp;VEX:&nbsp;Generated&nbsp;files&nbsp;not&nbsp;always&nbsp;updated&nbsp;when&nbsp;making&nbsp;valgrind<br>
111102&nbsp;&nbsp;Memcheck:&nbsp;problems&nbsp;with&nbsp;large&nbsp;(memory&nbsp;footprint)&nbsp;applications&nbsp;<br>
115673&nbsp;&nbsp;Vex's&nbsp;decoder&nbsp;should&nbsp;never&nbsp;assert&nbsp;<br>
117564&nbsp;&nbsp;False&nbsp;positive:&nbsp;Syscall&nbsp;param&nbsp;clone(child_tidptr)&nbsp;contains<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uninitialised&nbsp;byte(s)&nbsp;<br>
119404&nbsp;&nbsp;executing&nbsp;ssh&nbsp;from&nbsp;inside&nbsp;valgrind&nbsp;fails&nbsp;<br>
133679&nbsp;&nbsp;Callgrind&nbsp;does&nbsp;not&nbsp;write&nbsp;path&nbsp;names&nbsp;to&nbsp;sources&nbsp;with&nbsp;dwarf&nbsp;debug<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info<br>
135847&nbsp;&nbsp;configure.in&nbsp;problem&nbsp;with&nbsp;non&nbsp;gnu&nbsp;compilers&nbsp;(and&nbsp;possible&nbsp;fix)&nbsp;<br>
136154&nbsp;&nbsp;threads.c:273&nbsp;(vgCallgrind_post_signal):&nbsp;Assertion<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'*(vgCallgrind_current_fn_stack.top)&nbsp;==&nbsp;0'&nbsp;failed.&nbsp;<br>
136230&nbsp;&nbsp;memcheck&nbsp;reports&nbsp;"possibly&nbsp;lost",&nbsp;should&nbsp;be&nbsp;"still&nbsp;reachable"&nbsp;<br>
137073&nbsp;&nbsp;NULL&nbsp;arg&nbsp;to&nbsp;MALLOCLIKE_BLOCK&nbsp;causes&nbsp;crash&nbsp;<br>
137904&nbsp;&nbsp;Valgrind&nbsp;reports&nbsp;a&nbsp;memory&nbsp;leak&nbsp;when&nbsp;using&nbsp;POSIX&nbsp;threads,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;it&nbsp;shouldn't&nbsp;<br>
139076&nbsp;&nbsp;valgrind&nbsp;VT_GETSTATE&nbsp;error&nbsp;<br>
142228&nbsp;&nbsp;complaint&nbsp;of&nbsp;elf_dynamic_do_rela&nbsp;in&nbsp;trivial&nbsp;usage&nbsp;<br>
145347&nbsp;&nbsp;spurious&nbsp;warning&nbsp;with&nbsp;USBDEVFS_REAPURB&nbsp;<br>
148441&nbsp;&nbsp;(wine)&nbsp;can't&nbsp;find&nbsp;memory&nbsp;leak&nbsp;in&nbsp;Wine,&nbsp;win32&nbsp;binary&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;executable&nbsp;file.<br>
148742&nbsp;&nbsp;Leak-check&nbsp;fails&nbsp;assert&nbsp;on&nbsp;exit&nbsp;<br>
149878&nbsp;&nbsp;add&nbsp;(proper)&nbsp;check&nbsp;for&nbsp;calloc&nbsp;integer&nbsp;overflow&nbsp;<br>
150606&nbsp;&nbsp;Call&nbsp;graph&nbsp;is&nbsp;broken&nbsp;when&nbsp;using&nbsp;callgrind&nbsp;control&nbsp;<br>
152393&nbsp;&nbsp;leak&nbsp;errors&nbsp;produce&nbsp;an&nbsp;exit&nbsp;code&nbsp;of&nbsp;0.&nbsp;I&nbsp;need&nbsp;some&nbsp;way&nbsp;to&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cause&nbsp;leak&nbsp;errors&nbsp;to&nbsp;result&nbsp;in&nbsp;a&nbsp;nonzero&nbsp;exit&nbsp;code.&nbsp;<br>
157154&nbsp;&nbsp;documentation&nbsp;(leak-resolution&nbsp;doc&nbsp;speaks&nbsp;about&nbsp;num-callers<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def=4)&nbsp;+&nbsp;what&nbsp;is&nbsp;a&nbsp;loss&nbsp;record<br>
159501&nbsp;&nbsp;incorrect&nbsp;handling&nbsp;of&nbsp;ALSA&nbsp;ioctls&nbsp;<br>
162020&nbsp;&nbsp;Valgrinding&nbsp;an&nbsp;empty/zero-byte&nbsp;file&nbsp;crashes&nbsp;valgrind&nbsp;<br>
162482&nbsp;&nbsp;ppc:&nbsp;Valgrind&nbsp;crashes&nbsp;while&nbsp;reading&nbsp;stabs&nbsp;information&nbsp;<br>
162718&nbsp;&nbsp;x86:&nbsp;avoid&nbsp;segment&nbsp;selector&nbsp;0&nbsp;in&nbsp;sys_set_thread_area()&nbsp;<br>
163253&nbsp;&nbsp;(wine)&nbsp;canonicaliseSymtab&nbsp;forgot&nbsp;some&nbsp;fields&nbsp;in&nbsp;DiSym&nbsp;<br>
163560&nbsp;&nbsp;VEX/test_main.c&nbsp;is&nbsp;missing&nbsp;from&nbsp;valgrind-3.3.1&nbsp;<br>
164353&nbsp;&nbsp;malloc_usable_size()&nbsp;doesn't&nbsp;return&nbsp;a&nbsp;usable&nbsp;size&nbsp;<br>
165468&nbsp;&nbsp;Inconsistent&nbsp;formatting&nbsp;in&nbsp;memcheck&nbsp;manual&nbsp;--&nbsp;please&nbsp;fix&nbsp;<br>
169505&nbsp;&nbsp;main.c:286&nbsp;(endOfInstr):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assertion&nbsp;'ii-&gt;cost_offset&nbsp;==&nbsp;*cost_offset'&nbsp;failed&nbsp;<br>
177206&nbsp;&nbsp;Generate&nbsp;default.supp&nbsp;during&nbsp;compile&nbsp;instead&nbsp;of&nbsp;configure<br>
177209&nbsp;&nbsp;Configure&nbsp;valt_load_address&nbsp;based&nbsp;on&nbsp;arch+os&nbsp;<br>
177305&nbsp;&nbsp;eventfd&nbsp;/&nbsp;syscall&nbsp;323&nbsp;patch&nbsp;lost<br>
179731&nbsp;&nbsp;Tests&nbsp;fail&nbsp;to&nbsp;build&nbsp;because&nbsp;of&nbsp;inlining&nbsp;of&nbsp;non-local&nbsp;asm&nbsp;labels<br>
181394&nbsp;&nbsp;helgrind:&nbsp;libhb_core.c:3762&nbsp;(msm_write):&nbsp;Assertion&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'ordxx&nbsp;==&nbsp;POrd_EQ&nbsp;||&nbsp;ordxx&nbsp;==&nbsp;POrd_LT'&nbsp;failed.&nbsp;<br>
181594&nbsp;&nbsp;Bogus&nbsp;warning&nbsp;for&nbsp;empty&nbsp;text&nbsp;segment&nbsp;<br>
181707&nbsp;&nbsp;dwarf&nbsp;doesn't&nbsp;require&nbsp;enumerations&nbsp;to&nbsp;have&nbsp;name&nbsp;<br>
185038&nbsp;&nbsp;exp-ptrcheck:&nbsp;"unhandled&nbsp;syscall:&nbsp;285"&nbsp;(fallocate)&nbsp;on&nbsp;x86_64&nbsp;<br>
185050&nbsp;&nbsp;exp-ptrcheck:&nbsp;sg_main.c:727&nbsp;(add_block_to_GlobalTree):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assertion&nbsp;'!already_present'&nbsp;failed.<br>
185359&nbsp;&nbsp;exp-ptrcheck:&nbsp;unhandled&nbsp;syscall&nbsp;getresuid()<br>
185794&nbsp;&nbsp;"WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;285"&nbsp;(fallocate)&nbsp;on&nbsp;x86_64<br>
185816&nbsp;&nbsp;Valgrind&nbsp;is&nbsp;unable&nbsp;to&nbsp;handle&nbsp;debug&nbsp;info&nbsp;for&nbsp;files&nbsp;with&nbsp;split<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug&nbsp;info&nbsp;that&nbsp;are&nbsp;prelinked&nbsp;afterwards&nbsp;<br>
185980&nbsp;&nbsp;[darwin]&nbsp;unhandled&nbsp;syscall:&nbsp;sem_open&nbsp;<br>
186238&nbsp;&nbsp;bbToIR_AMD64:&nbsp;disInstr&nbsp;miscalculated&nbsp;next&nbsp;%rip<br>
186507&nbsp;&nbsp;exp-ptrcheck&nbsp;unhandled&nbsp;syscalls&nbsp;prctl,&nbsp;etc.&nbsp;<br>
186790&nbsp;&nbsp;Suppression&nbsp;pattern&nbsp;used&nbsp;for&nbsp;leaks&nbsp;are&nbsp;not&nbsp;reported&nbsp;<br>
186796&nbsp;&nbsp;Symbols&nbsp;with&nbsp;length&gt;200&nbsp;in&nbsp;suppression&nbsp;files&nbsp;are&nbsp;ignored&nbsp;<br>
187048&nbsp;&nbsp;drd:&nbsp;mutex&nbsp;PTHREAD_PROCESS_SHARED&nbsp;attribute&nbsp;missinterpretation<br>
187416&nbsp;&nbsp;exp-ptrcheck:&nbsp;support&nbsp;for&nbsp;__NR_{setregid,setreuid,setresuid}<br>
188038&nbsp;&nbsp;helgrind:&nbsp;hg_main.c:926:&nbsp;mk_SHVAL_fail:&nbsp;the&nbsp;'impossible'&nbsp;happened<br>
188046&nbsp;&nbsp;bashisms&nbsp;in&nbsp;the&nbsp;configure&nbsp;script<br>
188127&nbsp;&nbsp;amd64-&gt;IR:&nbsp;unhandled&nbsp;instruction&nbsp;bytes:&nbsp;0xF0&nbsp;0xF&nbsp;0xB0&nbsp;0xA<br>
188161&nbsp;&nbsp;memcheck:&nbsp;--track-origins=yes&nbsp;asserts&nbsp;"mc_machine.c:672<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(get_otrack_shadow_offset_wrk):&nbsp;the&nbsp;'impossible'&nbsp;happened."<br>
188248&nbsp;&nbsp;helgrind:&nbsp;pthread_cleanup_push,&nbsp;pthread_rwlock_unlock,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertion&nbsp;fail&nbsp;"!lock-&gt;heldBy"&nbsp;<br>
188427&nbsp;&nbsp;Add&nbsp;support&nbsp;for&nbsp;epoll_create1&nbsp;(with&nbsp;patch)&nbsp;<br>
188530&nbsp;&nbsp;Support&nbsp;for&nbsp;SIOCGSTAMPNS<br>
188560&nbsp;&nbsp;Include&nbsp;valgrind.spec&nbsp;in&nbsp;the&nbsp;tarball<br>
188572&nbsp;&nbsp;Valgrind&nbsp;on&nbsp;Mac&nbsp;should&nbsp;suppress&nbsp;setenv()&nbsp;mem&nbsp;leak&nbsp;<br>
189054&nbsp;&nbsp;Valgrind&nbsp;fails&nbsp;to&nbsp;build&nbsp;because&nbsp;of&nbsp;duplicate&nbsp;non-local&nbsp;asm&nbsp;labels&nbsp;<br>
189737&nbsp;&nbsp;vex&nbsp;amd64-&gt;IR:&nbsp;unhandled&nbsp;instruction&nbsp;bytes:&nbsp;0xAC<br>
189762&nbsp;&nbsp;epoll_create&nbsp;syscall&nbsp;not&nbsp;handled&nbsp;(--tool=exp-ptrcheck)<br>
189763&nbsp;&nbsp;drd&nbsp;assertion&nbsp;failure:&nbsp;s_threadinfo[tid].is_recording&nbsp;<br>
190219&nbsp;&nbsp;unhandled&nbsp;syscall:&nbsp;328&nbsp;(x86-linux)<br>
190391&nbsp;&nbsp;dup&nbsp;of&nbsp;181394;&nbsp;see&nbsp;above<br>
190429&nbsp;&nbsp;Valgrind&nbsp;reports&nbsp;lots&nbsp;of&nbsp;errors&nbsp;in&nbsp;ld.so&nbsp;with&nbsp;x86_64&nbsp;2.9.90&nbsp;glibc&nbsp;<br>
190820&nbsp;&nbsp;No&nbsp;debug&nbsp;information&nbsp;on&nbsp;powerpc-linux<br>
191095&nbsp;&nbsp;PATCH:&nbsp;Improve&nbsp;usbdevfs&nbsp;ioctl&nbsp;handling&nbsp;<br>
191182&nbsp;&nbsp;memcheck:&nbsp;VALGRIND_LEAK_CHECK&nbsp;quadratic&nbsp;when&nbsp;big&nbsp;nr&nbsp;of&nbsp;chunks<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;big&nbsp;nr&nbsp;of&nbsp;errors<br>
191189&nbsp;&nbsp;--xml=yes&nbsp;should&nbsp;obey&nbsp;--gen-suppressions=all&nbsp;<br>
191192&nbsp;&nbsp;syslog()&nbsp;needs&nbsp;a&nbsp;suppression&nbsp;on&nbsp;macosx&nbsp;<br>
191271&nbsp;&nbsp;DARWIN:&nbsp;WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;33554697&nbsp;a.k.a.:&nbsp;265&nbsp;<br>
191761&nbsp;&nbsp;getrlimit&nbsp;on&nbsp;MacOSX&nbsp;<br>
191992&nbsp;&nbsp;multiple&nbsp;--fn-skip&nbsp;only&nbsp;works&nbsp;sometimes;&nbsp;dependent&nbsp;on&nbsp;order&nbsp;<br>
192634&nbsp;&nbsp;V.&nbsp;reports&nbsp;"aspacem&nbsp;sync_check_mapping_callback:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;segment&nbsp;mismatch"&nbsp;on&nbsp;Darwin<br>
192954&nbsp;&nbsp;__extension__&nbsp;missing&nbsp;on&nbsp;2&nbsp;client&nbsp;requests&nbsp;<br>
194429&nbsp;&nbsp;Crash&nbsp;at&nbsp;start-up&nbsp;with&nbsp;glibc-2.10.1&nbsp;and&nbsp;linux-2.6.29&nbsp;<br>
194474&nbsp;&nbsp;"INSTALL"&nbsp;file&nbsp;has&nbsp;different&nbsp;build&nbsp;instructions&nbsp;than&nbsp;"README"<br>
194671&nbsp;&nbsp;Unhandled&nbsp;syscall&nbsp;(sem_wait?)&nbsp;from&nbsp;mac&nbsp;valgrind&nbsp;<br>
195069&nbsp;&nbsp;memcheck:&nbsp;reports&nbsp;leak&nbsp;(memory&nbsp;still&nbsp;reachable)&nbsp;for&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("%d',&nbsp;x)&nbsp;<br>
195169&nbsp;&nbsp;drd:&nbsp;(vgDrd_barrier_post_wait):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assertion&nbsp;'r-&gt;sg[p-&gt;post_iteration]'&nbsp;failed.&nbsp;<br>
195268&nbsp;&nbsp;valgrind&nbsp;--log-file&nbsp;doesn't&nbsp;accept&nbsp;~/...<br>
195838&nbsp;&nbsp;VEX&nbsp;abort:&nbsp;LibVEX_N_SPILL_BYTES&nbsp;too&nbsp;small&nbsp;for&nbsp;CPUID&nbsp;boilerplate&nbsp;<br>
195860&nbsp;&nbsp;WARNING:&nbsp;unhandled&nbsp;syscall:&nbsp;unix:223&nbsp;<br>
196528&nbsp;&nbsp;need&nbsp;a&nbsp;error&nbsp;suppression&nbsp;for&nbsp;pthread_rwlock_init&nbsp;under&nbsp;os&nbsp;x?&nbsp;<br>
197227&nbsp;&nbsp;Support&nbsp;aio_*&nbsp;syscalls&nbsp;on&nbsp;Darwin<br>
197456&nbsp;&nbsp;valgrind&nbsp;should&nbsp;reject&nbsp;--suppressions=(directory)&nbsp;<br>
197512&nbsp;&nbsp;DWARF2&nbsp;CFI&nbsp;reader:&nbsp;unhandled&nbsp;CFI&nbsp;instruction&nbsp;0:10&nbsp;<br>
197591&nbsp;&nbsp;unhandled&nbsp;syscall&nbsp;27&nbsp;(mincore)&nbsp;<br>
197793&nbsp;&nbsp;Merge&nbsp;DCAS&nbsp;branch&nbsp;to&nbsp;the&nbsp;trunk&nbsp;==&nbsp;85756,&nbsp;142103<br>
197794&nbsp;&nbsp;Avoid&nbsp;duplicate&nbsp;filenames&nbsp;in&nbsp;Vex&nbsp;<br>
197898&nbsp;&nbsp;make&nbsp;check&nbsp;fails&nbsp;on&nbsp;current&nbsp;SVN&nbsp;<br>
197901&nbsp;&nbsp;make&nbsp;check&nbsp;fails&nbsp;also&nbsp;under&nbsp;exp-ptrcheck&nbsp;in&nbsp;current&nbsp;SVN&nbsp;<br>
197929&nbsp;&nbsp;Make&nbsp;--leak-resolution=high&nbsp;the&nbsp;default&nbsp;<br>
197930&nbsp;&nbsp;Reduce&nbsp;spacing&nbsp;between&nbsp;leak&nbsp;reports&nbsp;<br>
197933&nbsp;&nbsp;Print&nbsp;command&nbsp;line&nbsp;of&nbsp;client&nbsp;at&nbsp;start-up,&nbsp;and&nbsp;shorten&nbsp;preamble&nbsp;<br>
197966&nbsp;&nbsp;unhandled&nbsp;syscall&nbsp;205&nbsp;(x86-linux,&nbsp;--tool=exp-ptrcheck)<br>
198395&nbsp;&nbsp;add&nbsp;BBV&nbsp;to&nbsp;the&nbsp;distribution&nbsp;as&nbsp;an&nbsp;experimental&nbsp;tool&nbsp;<br>
198624&nbsp;&nbsp;Missing&nbsp;syscalls&nbsp;on&nbsp;Darwin:&nbsp;82,&nbsp;167,&nbsp;281,&nbsp;347&nbsp;<br>
198649&nbsp;&nbsp;callgrind_annotate&nbsp;doesn't&nbsp;cumulate&nbsp;counters&nbsp;<br>
199338&nbsp;&nbsp;callgrind_annotate&nbsp;sorting/thresholds&nbsp;are&nbsp;broken&nbsp;for&nbsp;all&nbsp;but&nbsp;Ir&nbsp;<br>
199977&nbsp;&nbsp;Valgrind&nbsp;complains&nbsp;about&nbsp;an&nbsp;unrecognized&nbsp;instruction&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;atomic_incs&nbsp;test&nbsp;program<br>
200029&nbsp;&nbsp;valgrind&nbsp;isn't&nbsp;able&nbsp;to&nbsp;read&nbsp;Fedora&nbsp;12&nbsp;debuginfo&nbsp;<br>
200760&nbsp;&nbsp;darwin&nbsp;unhandled&nbsp;syscall:&nbsp;unix:284&nbsp;<br>
200827&nbsp;&nbsp;DRD&nbsp;doesn't&nbsp;work&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;<br>
200990&nbsp;&nbsp;VG_(read_millisecond_timer)()&nbsp;does&nbsp;not&nbsp;work&nbsp;correctly&nbsp;<br>
201016&nbsp;&nbsp;Valgrind&nbsp;does&nbsp;not&nbsp;support&nbsp;pthread_kill()&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;<br>
201169&nbsp;&nbsp;Document&nbsp;--read-var-info<br>
201323&nbsp;&nbsp;Pre-3.5.0&nbsp;performance&nbsp;sanity&nbsp;checking&nbsp;<br>
201384&nbsp;&nbsp;Review&nbsp;user&nbsp;manual&nbsp;for&nbsp;the&nbsp;3.5.0&nbsp;release&nbsp;<br>
201585&nbsp;&nbsp;mfpvr&nbsp;not&nbsp;implemented&nbsp;on&nbsp;ppc&nbsp;<br>
201708&nbsp;&nbsp;tests&nbsp;failing&nbsp;because&nbsp;x86&nbsp;direction&nbsp;flag&nbsp;is&nbsp;left&nbsp;set&nbsp;<br>
201757&nbsp;&nbsp;Valgrind&nbsp;doesn't&nbsp;handle&nbsp;any&nbsp;recent&nbsp;sys_futex&nbsp;additions&nbsp;<br>
204377&nbsp;&nbsp;64-bit&nbsp;valgrind&nbsp;can&nbsp;not&nbsp;start&nbsp;a&nbsp;shell&nbsp;script<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(with&nbsp;#!/path/to/shell)&nbsp;if&nbsp;the&nbsp;shell&nbsp;is&nbsp;a&nbsp;32-bit&nbsp;executable<br>
n-i-bz&nbsp;&nbsp;drd:&nbsp;fixed&nbsp;assertion&nbsp;failure&nbsp;triggered&nbsp;by&nbsp;mutex&nbsp;reinitialization.<br>
n-i-bz&nbsp;&nbsp;drd:&nbsp;fixed&nbsp;a&nbsp;bug&nbsp;that&nbsp;caused&nbsp;incorrect&nbsp;messages&nbsp;to&nbsp;be&nbsp;printed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;memory&nbsp;allocation&nbsp;events&nbsp;with&nbsp;memory&nbsp;access&nbsp;tracing&nbsp;enabled<br>
n-i-bz&nbsp;&nbsp;drd:&nbsp;fixed&nbsp;a&nbsp;memory&nbsp;leak&nbsp;triggered&nbsp;by&nbsp;vector&nbsp;clock&nbsp;deallocation<br>
<br>
(3.5.0:&nbsp;19&nbsp;Aug&nbsp;2009,&nbsp;vex&nbsp;r1913,&nbsp;valgrind&nbsp;r10846).<br>
<br>
<br>
<br>
Release&nbsp;3.4.1&nbsp;(28&nbsp;February&nbsp;2009)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.4.1&nbsp;is&nbsp;a&nbsp;bug-fix&nbsp;release&nbsp;that&nbsp;fixes&nbsp;some&nbsp;regressions&nbsp;and&nbsp;assertion<br>
failures&nbsp;in&nbsp;debug&nbsp;info&nbsp;reading&nbsp;in&nbsp;3.4.0,&nbsp;most&nbsp;notably&nbsp;incorrect&nbsp;stack<br>
traces&nbsp;on&nbsp;amd64-linux&nbsp;on&nbsp;older&nbsp;(glibc-2.3&nbsp;based)&nbsp;systems.&nbsp;Various<br>
other&nbsp;debug&nbsp;info&nbsp;problems&nbsp;are&nbsp;also&nbsp;fixed.&nbsp;&nbsp;A&nbsp;number&nbsp;of&nbsp;bugs&nbsp;in&nbsp;the<br>
exp-ptrcheck&nbsp;tool&nbsp;introduced&nbsp;in&nbsp;3.4.0&nbsp;have&nbsp;been&nbsp;fixed.<br>
<br>
In&nbsp;view&nbsp;of&nbsp;the&nbsp;fact&nbsp;that&nbsp;3.4.0&nbsp;contains&nbsp;user-visible&nbsp;regressions<br>
relative&nbsp;to&nbsp;3.3.x,&nbsp;upgrading&nbsp;to&nbsp;3.4.1&nbsp;is&nbsp;recommended.&nbsp;&nbsp;Packagers&nbsp;are<br>
encouraged&nbsp;to&nbsp;ship&nbsp;3.4.1&nbsp;in&nbsp;preference&nbsp;to&nbsp;3.4.0.<br>
<br>
The&nbsp;fixed&nbsp;bugs&nbsp;are&nbsp;as&nbsp;follows.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"&nbsp;stands&nbsp;for&nbsp;"not&nbsp;in<br>
bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us&nbsp;but&nbsp;never&nbsp;got&nbsp;a<br>
bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in&nbsp;bugzilla<br>
(http://bugs.kde.org/enter_valgrind_bug.cgi)&nbsp;rather&nbsp;than&nbsp;mailing&nbsp;the<br>
developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly&nbsp;--&nbsp;bugs&nbsp;that&nbsp;are&nbsp;not&nbsp;entered<br>
into&nbsp;bugzilla&nbsp;tend&nbsp;to&nbsp;get&nbsp;forgotten&nbsp;about&nbsp;or&nbsp;ignored.<br>
<br>
n-i-bz&nbsp;&nbsp;Fix&nbsp;various&nbsp;bugs&nbsp;reading&nbsp;icc-11&nbsp;generated&nbsp;debug&nbsp;info<br>
n-i-bz&nbsp;&nbsp;Fix&nbsp;various&nbsp;bugs&nbsp;reading&nbsp;gcc-4.4&nbsp;generated&nbsp;debug&nbsp;info<br>
n-i-bz&nbsp;&nbsp;Preliminary&nbsp;support&nbsp;for&nbsp;glibc-2.10&nbsp;/&nbsp;Fedora&nbsp;11<br>
n-i-bz&nbsp;&nbsp;Cachegrind&nbsp;and&nbsp;Callgrind:&nbsp;handle&nbsp;non-power-of-two&nbsp;cache&nbsp;sizes,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;as&nbsp;to&nbsp;support&nbsp;(eg)&nbsp;24k&nbsp;Atom&nbsp;D1&nbsp;and&nbsp;Core2&nbsp;with&nbsp;3/6/12MB&nbsp;L2.<br>
179618&nbsp;&nbsp;exp-ptrcheck&nbsp;crashed&nbsp;/&nbsp;exit&nbsp;prematurely<br>
179624&nbsp;&nbsp;helgrind:&nbsp;false&nbsp;positive&nbsp;races&nbsp;with&nbsp;pthread_create&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recv/open/close/read<br>
134207&nbsp;&nbsp;pkg-config&nbsp;output&nbsp;contains&nbsp;@VG_PLATFORM@<br>
176926&nbsp;&nbsp;floating&nbsp;point&nbsp;exception&nbsp;at&nbsp;valgrind&nbsp;startup&nbsp;with&nbsp;PPC&nbsp;440EPX<br>
181594&nbsp;&nbsp;Bogus&nbsp;warning&nbsp;for&nbsp;empty&nbsp;text&nbsp;segment<br>
173751&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0x48&nbsp;0xF&nbsp;0x6F&nbsp;0x45&nbsp;(even&nbsp;more&nbsp;redundant&nbsp;rex&nbsp;prefixes)<br>
181707&nbsp;&nbsp;Dwarf3&nbsp;doesn't&nbsp;require&nbsp;enumerations&nbsp;to&nbsp;have&nbsp;name<br>
185038&nbsp;&nbsp;exp-ptrcheck:&nbsp;"unhandled&nbsp;syscall:&nbsp;285"&nbsp;(fallocate)&nbsp;on&nbsp;x86_64<br>
185050&nbsp;&nbsp;exp-ptrcheck:&nbsp;sg_main.c:727&nbsp;(add_block_to_GlobalTree):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assertion&nbsp;'!already_present'&nbsp;failed.<br>
185359&nbsp;&nbsp;exp-ptrcheck&nbsp;unhandled&nbsp;syscall&nbsp;getresuid()<br>
<br>
(3.4.1.RC1:&nbsp;&nbsp;24&nbsp;Feb&nbsp;2008,&nbsp;vex&nbsp;r1884,&nbsp;valgrind&nbsp;r9253).<br>
(3.4.1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28&nbsp;Feb&nbsp;2008,&nbsp;vex&nbsp;r1884,&nbsp;valgrind&nbsp;r9293).<br>
<br>
<br>
<br>
Release&nbsp;3.4.0&nbsp;(2&nbsp;January&nbsp;2009)<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
3.4.0&nbsp;is&nbsp;a&nbsp;feature&nbsp;release&nbsp;with&nbsp;many&nbsp;significant&nbsp;improvements&nbsp;and&nbsp;the<br>
usual&nbsp;collection&nbsp;of&nbsp;bug&nbsp;fixes.&nbsp;&nbsp;This&nbsp;release&nbsp;supports&nbsp;X86/Linux,<br>
AMD64/Linux,&nbsp;PPC32/Linux&nbsp;and&nbsp;PPC64/Linux.&nbsp;&nbsp;Support&nbsp;for&nbsp;recent&nbsp;distros<br>
(using&nbsp;gcc&nbsp;4.4,&nbsp;glibc&nbsp;2.8&nbsp;and&nbsp;2.9)&nbsp;has&nbsp;been&nbsp;added.<br>
<br>
3.4.0&nbsp;brings&nbsp;some&nbsp;significant&nbsp;tool&nbsp;improvements.&nbsp;&nbsp;Memcheck&nbsp;can&nbsp;now<br>
report&nbsp;the&nbsp;origin&nbsp;of&nbsp;uninitialised&nbsp;values,&nbsp;the&nbsp;thread&nbsp;checkers<br>
Helgrind&nbsp;and&nbsp;DRD&nbsp;are&nbsp;much&nbsp;improved,&nbsp;and&nbsp;we&nbsp;have&nbsp;a&nbsp;new&nbsp;experimental<br>
tool,&nbsp;exp-Ptrcheck,&nbsp;which&nbsp;is&nbsp;able&nbsp;to&nbsp;detect&nbsp;overruns&nbsp;of&nbsp;stack&nbsp;and<br>
global&nbsp;arrays.&nbsp;&nbsp;In&nbsp;detail:<br>
<br>
*&nbsp;Memcheck&nbsp;is&nbsp;now&nbsp;able&nbsp;to&nbsp;track&nbsp;the&nbsp;origin&nbsp;of&nbsp;uninitialised&nbsp;values.<br>
&nbsp;&nbsp;When&nbsp;it&nbsp;reports&nbsp;an&nbsp;uninitialised&nbsp;value&nbsp;error,&nbsp;it&nbsp;will&nbsp;try&nbsp;to&nbsp;show<br>
&nbsp;&nbsp;the&nbsp;origin&nbsp;of&nbsp;the&nbsp;value,&nbsp;as&nbsp;either&nbsp;a&nbsp;heap&nbsp;or&nbsp;stack&nbsp;allocation.<br>
&nbsp;&nbsp;Origin&nbsp;tracking&nbsp;is&nbsp;expensive&nbsp;and&nbsp;so&nbsp;is&nbsp;not&nbsp;enabled&nbsp;by&nbsp;default.&nbsp;&nbsp;To<br>
&nbsp;&nbsp;use&nbsp;it,&nbsp;specify&nbsp;--track-origins=yes.&nbsp;&nbsp;Memcheck's&nbsp;speed&nbsp;will&nbsp;be<br>
&nbsp;&nbsp;essentially&nbsp;halved,&nbsp;and&nbsp;memory&nbsp;usage&nbsp;will&nbsp;be&nbsp;significantly<br>
&nbsp;&nbsp;increased.&nbsp;&nbsp;Nevertheless&nbsp;it&nbsp;can&nbsp;drastically&nbsp;reduce&nbsp;the&nbsp;effort<br>
&nbsp;&nbsp;required&nbsp;to&nbsp;identify&nbsp;the&nbsp;root&nbsp;cause&nbsp;of&nbsp;uninitialised&nbsp;value&nbsp;errors,<br>
&nbsp;&nbsp;and&nbsp;so&nbsp;is&nbsp;often&nbsp;a&nbsp;programmer&nbsp;productivity&nbsp;win,&nbsp;despite&nbsp;running&nbsp;more<br>
&nbsp;&nbsp;slowly.<br>
<br>
*&nbsp;A&nbsp;version&nbsp;(1.4.0)&nbsp;of&nbsp;the&nbsp;Valkyrie&nbsp;GUI,&nbsp;that&nbsp;works&nbsp;with&nbsp;Memcheck&nbsp;in<br>
&nbsp;&nbsp;3.4.0,&nbsp;will&nbsp;be&nbsp;released&nbsp;shortly.<br>
<br>
*&nbsp;Helgrind's&nbsp;race&nbsp;detection&nbsp;algorithm&nbsp;has&nbsp;been&nbsp;completely&nbsp;redesigned<br>
&nbsp;&nbsp;and&nbsp;reimplemented,&nbsp;to&nbsp;address&nbsp;usability&nbsp;and&nbsp;scalability&nbsp;concerns:<br>
<br>
&nbsp;&nbsp;-&nbsp;The&nbsp;new&nbsp;algorithm&nbsp;has&nbsp;a&nbsp;lower&nbsp;false-error&nbsp;rate:&nbsp;it&nbsp;is&nbsp;much&nbsp;less<br>
&nbsp;&nbsp;&nbsp;&nbsp;likely&nbsp;to&nbsp;report&nbsp;races&nbsp;that&nbsp;do&nbsp;not&nbsp;really&nbsp;exist.<br>
<br>
&nbsp;&nbsp;-&nbsp;Helgrind&nbsp;will&nbsp;display&nbsp;full&nbsp;call&nbsp;stacks&nbsp;for&nbsp;both&nbsp;accesses&nbsp;involved<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;a&nbsp;race.&nbsp;&nbsp;This&nbsp;makes&nbsp;it&nbsp;easier&nbsp;to&nbsp;identify&nbsp;the&nbsp;root&nbsp;causes&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;races.<br>
<br>
&nbsp;&nbsp;-&nbsp;Limitations&nbsp;on&nbsp;the&nbsp;size&nbsp;of&nbsp;program&nbsp;that&nbsp;can&nbsp;run&nbsp;have&nbsp;been&nbsp;removed.<br>
<br>
&nbsp;&nbsp;-&nbsp;Performance&nbsp;has&nbsp;been&nbsp;modestly&nbsp;improved,&nbsp;although&nbsp;that&nbsp;is&nbsp;very<br>
&nbsp;&nbsp;&nbsp;&nbsp;workload-dependent.<br>
<br>
&nbsp;&nbsp;-&nbsp;Direct&nbsp;support&nbsp;for&nbsp;Qt4&nbsp;threading&nbsp;has&nbsp;been&nbsp;added.<br>
<br>
&nbsp;&nbsp;-&nbsp;pthread_barriers&nbsp;are&nbsp;now&nbsp;directly&nbsp;supported.<br>
<br>
&nbsp;&nbsp;-&nbsp;Helgrind&nbsp;works&nbsp;well&nbsp;on&nbsp;all&nbsp;supported&nbsp;Linux&nbsp;targets.<br>
<br>
*&nbsp;The&nbsp;DRD&nbsp;thread&nbsp;debugging&nbsp;tool&nbsp;has&nbsp;seen&nbsp;major&nbsp;improvements:<br>
<br>
&nbsp;&nbsp;-&nbsp;Greatly&nbsp;improved&nbsp;performance&nbsp;and&nbsp;significantly&nbsp;reduced&nbsp;memory<br>
&nbsp;&nbsp;&nbsp;&nbsp;usage.<br>
<br>
&nbsp;&nbsp;-&nbsp;Support&nbsp;for&nbsp;several&nbsp;major&nbsp;threading&nbsp;libraries&nbsp;(Boost.Thread,&nbsp;Qt4,<br>
&nbsp;&nbsp;&nbsp;&nbsp;glib,&nbsp;OpenMP)&nbsp;has&nbsp;been&nbsp;added.<br>
<br>
&nbsp;&nbsp;-&nbsp;Support&nbsp;for&nbsp;atomic&nbsp;instructions,&nbsp;POSIX&nbsp;semaphores,&nbsp;barriers&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;reader-writer&nbsp;locks&nbsp;has&nbsp;been&nbsp;added.<br>
<br>
&nbsp;&nbsp;-&nbsp;Works&nbsp;now&nbsp;on&nbsp;PowerPC&nbsp;CPUs&nbsp;too.<br>
<br>
&nbsp;&nbsp;-&nbsp;Added&nbsp;support&nbsp;for&nbsp;printing&nbsp;thread&nbsp;stack&nbsp;usage&nbsp;at&nbsp;thread&nbsp;exit&nbsp;time.<br>
<br>
&nbsp;&nbsp;-&nbsp;Added&nbsp;support&nbsp;for&nbsp;debugging&nbsp;lock&nbsp;contention.<br>
<br>
&nbsp;&nbsp;-&nbsp;Added&nbsp;a&nbsp;manual&nbsp;for&nbsp;Drd.<br>
<br>
*&nbsp;A&nbsp;new&nbsp;experimental&nbsp;tool,&nbsp;exp-Ptrcheck,&nbsp;has&nbsp;been&nbsp;added.&nbsp;&nbsp;Ptrcheck<br>
&nbsp;&nbsp;checks&nbsp;for&nbsp;misuses&nbsp;of&nbsp;pointers.&nbsp;&nbsp;In&nbsp;that&nbsp;sense&nbsp;it&nbsp;is&nbsp;a&nbsp;bit&nbsp;like<br>
&nbsp;&nbsp;Memcheck.&nbsp;&nbsp;However,&nbsp;Ptrcheck&nbsp;can&nbsp;do&nbsp;things&nbsp;Memcheck&nbsp;can't:&nbsp;it&nbsp;can<br>
&nbsp;&nbsp;detect&nbsp;overruns&nbsp;of&nbsp;stack&nbsp;and&nbsp;global&nbsp;arrays,&nbsp;it&nbsp;can&nbsp;detect<br>
&nbsp;&nbsp;arbitrarily&nbsp;far&nbsp;out-of-bounds&nbsp;accesses&nbsp;to&nbsp;heap&nbsp;blocks,&nbsp;and&nbsp;it&nbsp;can<br>
&nbsp;&nbsp;detect&nbsp;accesses&nbsp;heap&nbsp;blocks&nbsp;that&nbsp;have&nbsp;been&nbsp;freed&nbsp;a&nbsp;very&nbsp;long&nbsp;time<br>
&nbsp;&nbsp;ago&nbsp;(millions&nbsp;of&nbsp;blocks&nbsp;in&nbsp;the&nbsp;past).<br>
<br>
&nbsp;&nbsp;Ptrcheck&nbsp;currently&nbsp;works&nbsp;only&nbsp;on&nbsp;x86-linux&nbsp;and&nbsp;amd64-linux.&nbsp;&nbsp;To&nbsp;use<br>
&nbsp;&nbsp;it,&nbsp;use&nbsp;--tool=exp-ptrcheck.&nbsp;&nbsp;A&nbsp;simple&nbsp;manual&nbsp;is&nbsp;provided,&nbsp;as&nbsp;part<br>
&nbsp;&nbsp;of&nbsp;the&nbsp;main&nbsp;Valgrind&nbsp;documentation.&nbsp;&nbsp;As&nbsp;this&nbsp;is&nbsp;an&nbsp;experimental<br>
&nbsp;&nbsp;tool,&nbsp;we&nbsp;would&nbsp;be&nbsp;particularly&nbsp;interested&nbsp;in&nbsp;hearing&nbsp;about&nbsp;your<br>
&nbsp;&nbsp;experiences&nbsp;with&nbsp;it.<br>
<br>
*&nbsp;exp-Omega,&nbsp;an&nbsp;experimental&nbsp;instantaneous&nbsp;leak-detecting&nbsp;tool,&nbsp;is&nbsp;no<br>
&nbsp;&nbsp;longer&nbsp;built&nbsp;by&nbsp;default,&nbsp;although&nbsp;the&nbsp;code&nbsp;remains&nbsp;in&nbsp;the&nbsp;repository<br>
&nbsp;&nbsp;and&nbsp;the&nbsp;tarball.&nbsp;&nbsp;This&nbsp;is&nbsp;due&nbsp;to&nbsp;three&nbsp;factors:&nbsp;a&nbsp;perceived&nbsp;lack&nbsp;of<br>
&nbsp;&nbsp;users,&nbsp;a&nbsp;lack&nbsp;of&nbsp;maintenance,&nbsp;and&nbsp;concerns&nbsp;that&nbsp;it&nbsp;may&nbsp;not&nbsp;be<br>
&nbsp;&nbsp;possible&nbsp;to&nbsp;achieve&nbsp;reliable&nbsp;operation&nbsp;using&nbsp;the&nbsp;existing&nbsp;design.<br>
<br>
*&nbsp;As&nbsp;usual,&nbsp;support&nbsp;for&nbsp;the&nbsp;latest&nbsp;Linux&nbsp;distros&nbsp;and&nbsp;toolchain<br>
&nbsp;&nbsp;components&nbsp;has&nbsp;been&nbsp;added.&nbsp;&nbsp;It&nbsp;should&nbsp;work&nbsp;well&nbsp;on&nbsp;Fedora&nbsp;Core&nbsp;10,<br>
&nbsp;&nbsp;OpenSUSE&nbsp;11.1&nbsp;and&nbsp;Ubuntu&nbsp;8.10.&nbsp;&nbsp;gcc-4.4&nbsp;(in&nbsp;its&nbsp;current&nbsp;pre-release<br>
&nbsp;&nbsp;state)&nbsp;is&nbsp;supported,&nbsp;as&nbsp;is&nbsp;glibc-2.9.&nbsp;&nbsp;The&nbsp;C++&nbsp;demangler&nbsp;has&nbsp;been<br>
&nbsp;&nbsp;updated&nbsp;so&nbsp;as&nbsp;to&nbsp;work&nbsp;well&nbsp;with&nbsp;C++&nbsp;compiled&nbsp;by&nbsp;even&nbsp;the&nbsp;most&nbsp;recent<br>
&nbsp;&nbsp;g++'s.<br>
<br>
*&nbsp;You&nbsp;can&nbsp;now&nbsp;use&nbsp;frame-level&nbsp;wildcards&nbsp;in&nbsp;suppressions.&nbsp;&nbsp;This&nbsp;was&nbsp;a<br>
&nbsp;&nbsp;frequently-requested&nbsp;enhancement.&nbsp;&nbsp;A&nbsp;line&nbsp;"..."&nbsp;in&nbsp;a&nbsp;suppression&nbsp;now<br>
&nbsp;&nbsp;matches&nbsp;zero&nbsp;or&nbsp;more&nbsp;frames.&nbsp;&nbsp;This&nbsp;makes&nbsp;it&nbsp;easier&nbsp;to&nbsp;write<br>
&nbsp;&nbsp;suppressions&nbsp;which&nbsp;are&nbsp;precise&nbsp;yet&nbsp;insensitive&nbsp;to&nbsp;changes&nbsp;in<br>
&nbsp;&nbsp;inlining&nbsp;behaviour.<br>
<br>
*&nbsp;3.4.0&nbsp;adds&nbsp;support&nbsp;on&nbsp;x86/amd64&nbsp;for&nbsp;the&nbsp;SSSE3&nbsp;instruction&nbsp;set.<br>
<br>
*&nbsp;Very&nbsp;basic&nbsp;support&nbsp;for&nbsp;IBM&nbsp;Power6&nbsp;has&nbsp;been&nbsp;added&nbsp;(64-bit&nbsp;processes&nbsp;only).<br>
<br>
*&nbsp;Valgrind&nbsp;is&nbsp;now&nbsp;cross-compilable.&nbsp;&nbsp;For&nbsp;example,&nbsp;it&nbsp;is&nbsp;possible&nbsp;to<br>
&nbsp;&nbsp;cross&nbsp;compile&nbsp;Valgrind&nbsp;on&nbsp;an&nbsp;x86/amd64-linux&nbsp;host,&nbsp;so&nbsp;that&nbsp;it&nbsp;runs<br>
&nbsp;&nbsp;on&nbsp;a&nbsp;ppc32/64-linux&nbsp;target.<br>
<br>
*&nbsp;You&nbsp;can&nbsp;set&nbsp;the&nbsp;main&nbsp;thread's&nbsp;stack&nbsp;size&nbsp;at&nbsp;startup&nbsp;using&nbsp;the<br>
&nbsp;&nbsp;new&nbsp;--main-stacksize=&nbsp;flag&nbsp;(subject&nbsp;of&nbsp;course&nbsp;to&nbsp;ulimit&nbsp;settings).<br>
&nbsp;&nbsp;This&nbsp;is&nbsp;useful&nbsp;for&nbsp;running&nbsp;apps&nbsp;that&nbsp;need&nbsp;a&nbsp;lot&nbsp;of&nbsp;stack&nbsp;space.<br>
<br>
*&nbsp;The&nbsp;limitation&nbsp;that&nbsp;you&nbsp;can't&nbsp;use&nbsp;--trace-children=yes&nbsp;together<br>
&nbsp;&nbsp;with&nbsp;--db-attach=yes&nbsp;has&nbsp;been&nbsp;removed.<br>
<br>
*&nbsp;The&nbsp;following&nbsp;bugs&nbsp;have&nbsp;been&nbsp;fixed.&nbsp;&nbsp;Note&nbsp;that&nbsp;"n-i-bz"&nbsp;stands&nbsp;for<br>
&nbsp;&nbsp;"not&nbsp;in&nbsp;bugzilla"&nbsp;--&nbsp;that&nbsp;is,&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;reported&nbsp;to&nbsp;us&nbsp;but<br>
&nbsp;&nbsp;never&nbsp;got&nbsp;a&nbsp;bugzilla&nbsp;entry.&nbsp;&nbsp;We&nbsp;encourage&nbsp;you&nbsp;to&nbsp;file&nbsp;bugs&nbsp;in<br>
&nbsp;&nbsp;bugzilla&nbsp;(http://bugs.kde.org/enter_valgrind_bug.cgi)&nbsp;rather&nbsp;than<br>
&nbsp;&nbsp;mailing&nbsp;the&nbsp;developers&nbsp;(or&nbsp;mailing&nbsp;lists)&nbsp;directly.<br>
<br>
&nbsp;&nbsp;n-i-bz&nbsp;&nbsp;Make&nbsp;return&nbsp;types&nbsp;for&nbsp;some&nbsp;client&nbsp;requests&nbsp;64-bit&nbsp;clean<br>
&nbsp;&nbsp;n-i-bz&nbsp;&nbsp;glibc&nbsp;2.9&nbsp;support<br>
&nbsp;&nbsp;n-i-bz&nbsp;&nbsp;ignore&nbsp;unsafe&nbsp;.valgrindrc's&nbsp;(CVE-2008-4865)<br>
&nbsp;&nbsp;n-i-bz&nbsp;&nbsp;MPI_Init(0,0)&nbsp;is&nbsp;valid&nbsp;but&nbsp;libmpiwrap.c&nbsp;segfaults<br>
&nbsp;&nbsp;n-i-bz&nbsp;&nbsp;Building&nbsp;in&nbsp;an&nbsp;env&nbsp;without&nbsp;gdb&nbsp;gives&nbsp;bogus&nbsp;gdb&nbsp;attach<br>
&nbsp;&nbsp;92456&nbsp;&nbsp;&nbsp;Tracing&nbsp;the&nbsp;origin&nbsp;of&nbsp;uninitialised&nbsp;memory<br>
&nbsp;&nbsp;106497&nbsp;&nbsp;Valgrind&nbsp;does&nbsp;not&nbsp;demangle&nbsp;some&nbsp;C++&nbsp;template&nbsp;symbols<br>
&nbsp;&nbsp;162222&nbsp;&nbsp;==106497<br>
&nbsp;&nbsp;151612&nbsp;&nbsp;Suppression&nbsp;with&nbsp;"..."&nbsp;(frame-level&nbsp;wildcards&nbsp;in&nbsp;.supp&nbsp;files)<br>
&nbsp;&nbsp;156404&nbsp;&nbsp;Unable&nbsp;to&nbsp;start&nbsp;oocalc&nbsp;under&nbsp;memcheck&nbsp;on&nbsp;openSUSE&nbsp;10.3&nbsp;(64-bit)<br>
&nbsp;&nbsp;159285&nbsp;&nbsp;unhandled&nbsp;syscall:25&nbsp;(stime,&nbsp;on&nbsp;x86-linux)<br>
&nbsp;&nbsp;159452&nbsp;&nbsp;unhandled&nbsp;ioctl&nbsp;0x8B01&nbsp;on&nbsp;"valgrind&nbsp;iwconfig"<br>
&nbsp;&nbsp;160954&nbsp;&nbsp;ppc&nbsp;build&nbsp;of&nbsp;valgrind&nbsp;crashes&nbsp;with&nbsp;illegal&nbsp;instruction&nbsp;(isel)<br>
&nbsp;&nbsp;160956&nbsp;&nbsp;mallinfo&nbsp;implementation,&nbsp;w/&nbsp;patch<br>
&nbsp;&nbsp;162092&nbsp;&nbsp;Valgrind&nbsp;fails&nbsp;to&nbsp;start&nbsp;gnome-system-monitor<br>
&nbsp;&nbsp;162819&nbsp;&nbsp;malloc_free_fill&nbsp;test&nbsp;doesn't&nbsp;pass&nbsp;on&nbsp;glibc2.8&nbsp;x86<br>
&nbsp;&nbsp;163794&nbsp;&nbsp;assertion&nbsp;failure&nbsp;with&nbsp;"--track-origins=yes"<br>
&nbsp;&nbsp;163933&nbsp;&nbsp;sigcontext.err&nbsp;and&nbsp;.trapno&nbsp;must&nbsp;be&nbsp;set&nbsp;together<br>
&nbsp;&nbsp;163955&nbsp;&nbsp;remove&nbsp;constraint&nbsp;!(--db-attach=yes&nbsp;&amp;&amp;&nbsp;--trace-children=yes)<br>
&nbsp;&nbsp;164476&nbsp;&nbsp;Missing&nbsp;kernel&nbsp;module&nbsp;loading&nbsp;system&nbsp;calls<br>
&nbsp;&nbsp;164669&nbsp;&nbsp;SVN&nbsp;regression:&nbsp;mmap()&nbsp;drops&nbsp;posix&nbsp;file&nbsp;locks<br>
&nbsp;&nbsp;166581&nbsp;&nbsp;Callgrind&nbsp;output&nbsp;corruption&nbsp;when&nbsp;program&nbsp;forks<br>
&nbsp;&nbsp;167288&nbsp;&nbsp;Patch&nbsp;file&nbsp;for&nbsp;missing&nbsp;system&nbsp;calls&nbsp;on&nbsp;Cell&nbsp;BE<br>
&nbsp;&nbsp;168943&nbsp;&nbsp;unsupported&nbsp;scas&nbsp;instruction&nbsp;pentium<br>
&nbsp;&nbsp;171645&nbsp;&nbsp;Unrecognised&nbsp;instruction&nbsp;(MOVSD,&nbsp;non-binutils&nbsp;encoding)<br>
&nbsp;&nbsp;172417&nbsp;&nbsp;x86-&gt;IR:&nbsp;0x82&nbsp;...<br>
&nbsp;&nbsp;172563&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0xD9&nbsp;0xF5&nbsp;&nbsp;-&nbsp;&nbsp;fprem1<br>
&nbsp;&nbsp;173099&nbsp;&nbsp;.lds&nbsp;linker&nbsp;script&nbsp;generation&nbsp;error<br>
&nbsp;&nbsp;173177&nbsp;&nbsp;[x86_64]&nbsp;syscalls:&nbsp;125/126/179&nbsp;(capget/capset/quotactl)<br>
&nbsp;&nbsp;173751&nbsp;&nbsp;amd64-&gt;IR:&nbsp;0x48&nbsp;0xF&nbsp;0x6F&nbsp;0x45&nbsp;(even&nbsp;more&nbsp;redundant&nbsp;prefixes)<br>
&nbsp;&nbsp;174532&nbsp;&nbsp;==&nbsp;173751<br>
&nbsp;&nbsp;174908&nbsp;&nbsp;--log-file&nbsp;value&nbsp;not&nbsp;expanded&nbsp;correctly&nbsp;for&nbsp;core&nbsp;file<br>
&nbsp;&nbsp;175044&nbsp;&nbsp;Add&nbsp;lookup_dcookie&nbsp;for&nbsp;amd64<br>
&nbsp;&nbsp;175150&nbsp;&nbsp;x86-&gt;IR:&nbsp;0xF2&nbsp;0xF&nbsp;0x11&nbsp;0xC1&nbsp;(movss&nbsp;non-binutils&nbsp;encoding)<br>
<br>
Developer-visible&nbsp;changes:<br>
<br>
*&nbsp;Valgrind's&nbsp;debug-info&nbsp;reading&nbsp;machinery&nbsp;has&nbsp;been&nbsp;majorly&nbsp;overhauled.<br>
&nbsp;&nbsp;It&nbsp;can&nbsp;now&nbsp;correctly&nbsp;establish&nbsp;the&nbsp;addresses&nbsp;for&nbsp;ELF&nbsp;data&nbsp;symbols,<br>
&nbsp;&nbsp;which&nbsp;is&nbsp;something&nbsp;that&nbsp;has&nbsp;never&nbsp;worked&nbsp;properly&nbsp;before&nbsp;now.<br>
<br>
&nbsp;&nbsp;Also,&nbsp;Valgrind&nbsp;can&nbsp;now&nbsp;read&nbsp;DWARF3&nbsp;type&nbsp;and&nbsp;location&nbsp;information&nbsp;for<br>
&nbsp;&nbsp;stack&nbsp;and&nbsp;global&nbsp;variables.&nbsp;&nbsp;This&nbsp;makes&nbsp;it&nbsp;possible&nbsp;to&nbsp;use&nbsp;the<br>
&nbsp;&nbsp;framework&nbsp;to&nbsp;build&nbsp;tools&nbsp;that&nbsp;rely&nbsp;on&nbsp;knowing&nbsp;the&nbsp;type&nbsp;and&nbsp;locations<br>
&nbsp;&nbsp;of&nbsp;stack&nbsp;and&nbsp;global&nbsp;variables,&nbsp;for&nbsp;example&nbsp;exp-Ptrcheck.<br>
<br>
&nbsp;&nbsp;Reading&nbsp;of&nbsp;such&nbsp;information&nbsp;is&nbsp;disabled&nbsp;by&nbsp;default,&nbsp;because&nbsp;most<br>
&nbsp;&nbsp;tools&nbsp;don't&nbsp;need&nbsp;it,&nbsp;and&nbsp;because&nbsp;it&nbsp;is&nbsp;expensive&nbsp;in&nbsp;space&nbsp;and&nbsp;time.<br>
&nbsp;&nbsp;However,&nbsp;you&nbsp;can&nbsp;force&nbsp;Valgrind&nbsp;to&nbsp;read&nbsp;it,&nbsp;using&nbsp;the<br>
&nbsp;&nbsp;--read-var-info=yes&nbsp;flag.&nbsp;&nbsp;Memcheck,&nbsp;Helgrind&nbsp;and&nbsp;DRD&nbsp;are&nbsp;able&nbsp;to<br>
&nbsp;&nbsp;make&nbsp;use&nbsp;of&nbsp;such&nbsp;information,&nbsp;if&nbsp;present,&nbsp;to&nbsp;provide&nbsp;source-level<br>
&nbsp;&nbsp;descriptions&nbsp;of&nbsp;data&nbsp;addresses&nbsp;in&nbsp;the&nbsp;error&nbsp;messages&nbsp;they&nbsp;create.<br>
<br>
(3.4.0.RC1:&nbsp;&nbsp;24&nbsp;Dec&nbsp;2008,&nbsp;vex&nbsp;r1878,&nbsp;valgrind&nbsp;r8882).<br>
(3.4.0:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;Jan&nbsp;2009,&nbsp;vex&nbsp;r1878,&nbsp;valgrind&nbsp;r8899).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;</p></div>
</div>
<div>
<br><table class="nav" width="100%" cellspacing="3" cellpadding="2" border="0" summary="Navigation footer">
<tr>
<td rowspan="2" width="40%" align="left">
<a accesskey="p" href="dist.authors.html">&lt;&lt;&nbsp;1.&nbsp;AUTHORS</a>&nbsp;</td>
<td width="20%" align="center"><a accesskey="u" href="dist.html">Up</a></td>
<td rowspan="2" width="40%" align="right">&nbsp;<a accesskey="n" href="dist.news.old.html">3.&nbsp;OLDER NEWS&nbsp;&gt;&gt;</a>
</td>
</tr>
<tr><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td></tr>
</table>
</div>
</body>
</html>
